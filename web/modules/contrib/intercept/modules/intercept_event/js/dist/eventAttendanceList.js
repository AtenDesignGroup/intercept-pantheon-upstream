!function(){var e,t={4896:function(e){"use strict";e.exports=interceptClient},13452:function(e,t,n){"use strict";var r=n(41594),s=n.n(r),i=n(75206),a=n(5667),o=n(73032),c=n.n(o),d=n(5556),u=n.n(d),l=n(84196),h=(n(38123),n(38221)),f=n.n(h),p=n(4896),E=n.n(p),v=n(32150),m=n(84501),g=n(58156),T=n.n(g),A=n(94394),_=n.n(A),b=n(79764),N=n(87860),R=n(65594),S=n(90652),P=n(24896);const y=E().constants,O=e=>s().createElement(m.A,{key:T()(e,"data.id"),id:T()(e,"data.id"),valuePath:"data.relationships.field_attendees.data",type:y.TYPE_EVENT_ATTENDANCE}),j=e=>s().createElement(m.A,{key:T()(e,"data.id"),id:T()(e,"data.id"),valuePath:"data.relationships.field_registrants.data",type:y.TYPE_EVENT_REGISTRATION}),I=e=>s().createElement("p",{key:T()(e,"data.id")},"Yes");function w(e){const{classes:t,users:n,registrations:r,attendance:i,savedEvents:a}=e,o=((e,t,n,r)=>{const s=_()(t,(e=>T()(e,"data.relationships.field_user.data.id"))),i=_()(n,(e=>T()(e,"data.relationships.field_user.data.id"))),a=_()(r,(e=>T()(e,"data.relationships.uid.data.id")));return Object.values(e).map((e=>{const t=T()(e,"data.id");return{id:t,name:T()(e,"data.attributes.name"),registered:s[t]||[],attendance:i[t]||[],saved:a[t]||[]}}))})(n,r,i,a);return s().createElement(b.A,{className:t.table},s().createElement(N.A,null,s().createElement(R.A,null,s().createElement(S.A,null,"Name"),s().createElement(S.A,null,"Saved"),s().createElement(S.A,null,"Registered"),s().createElement(S.A,null,"Scanned"))),s().createElement(P.A,null,o.map((e=>s().createElement(R.A,{key:e.id},s().createElement(S.A,{component:"th",scope:"row"},e.name),s().createElement(S.A,null,e.saved.map(I)||null),s().createElement(S.A,null,e.registered.map(j)||null),s().createElement(S.A,null,e.attendance.map(O)||null))))))}w.propTypes={classes:u().object.isRequired,eventId:u().string.isRequired,users:u().object,attendance:u().object,registrations:u().object,savedEvents:u().object},w.defaultProps={users:{},attendance:{},registrations:{},savedEvents:{}};var V=(0,v.A)((e=>({root:{width:"100%",marginTop:e.spacing(3),overflowX:"auto"},table:{minWidth:700}})))(w);const{constants:x,api:F,select:Y}=E(),C=x;class D extends r.Component{constructor(e){super(e),this.state={open:!1},this.handleViewChange=this.handleViewChange.bind(this),this.doFetch=f()(this.doFetch,300).bind(this),this.doFetchRegistrations=this.doFetchRegistrations.bind(this),this.doFetchSavedEvents=this.doFetchSavedEvents.bind(this)}componentDidMount(){this.props.fetchSegments(),this.doFetch()}handleViewChange=e=>{this.doFetch(e)};doFetchAttendance(){this.props.fetchAttendance({filters:{event:{path:"field_event.id",value:this.props.event.uuid}},include:["field_user"],headers:{"X-Consumer-ID":E().consumer}})}doFetchRegistrations(){this.props.fetchRegistrations({filters:{event:{path:"field_event.id",value:this.props.event.uuid},status:{path:"status",value:["active","waitlist"],operator:"IN"}},include:["field_user"],headers:{"X-Consumer-ID":E().consumer}})}doFetchSavedEvents(){this.props.fetchSavedEvents({filters:{event:{path:"entity_id",value:this.props.event.nid}},include:["uid"],headers:{"X-Consumer-ID":E().consumer}})}doFetch(){this.doFetchSavedEvents(),this.doFetchRegistrations(),this.doFetchAttendance()}doConfirmAction(){this.setState({open:!0,text:"Confirm cancel"})}render(){const{isLoading:e,event:t,users:n,registrations:r,attendance:i,savedEvents:a}=this.props,o={eventId:t.uuid,users:n,registrations:r,attendance:i,savedEvents:a};return s().createElement(V,o)}}D.propTypes={event:u().shape({nid:u().string.isRequired,uuid:u().string.isRequired}).isRequired,fetchAttendance:u().func.isRequired,fetchRegistrations:u().func.isRequired,fetchSavedEvents:u().func.isRequired,fetchSegments:u().func.isRequired,users:u().object,attendance:u().object,registrations:u().object,savedEvents:u().object},D.defaultProps={users:{},attendance:{},registrations:{},savedEvents:{}};var q=(0,l.Ng)(((e,t)=>({attendance:Y.records([C.TYPE_EVENT_ATTENDANCE])(e),registrations:Y.records([C.TYPE_EVENT_REGISTRATION])(e),savedEvents:Y.records([C.TYPE_SAVED_EVENT])(e),users:Y.records([C.TYPE_USER])(e),isLoading:Y.recordsAreLoading(C.TYPE_EVENT_ATTENDANCE)(e)||Y.recordsAreLoading(C.TYPE_EVENT_REGISTRATION)(e)||Y.recordsAreLoading(C.TYPE_SAVED_EVENT)(e)})),((e,t)=>({fetchAttendance:t=>{e(F[C.TYPE_EVENT_ATTENDANCE].fetchAll(t))},fetchRegistrations:t=>{e(F[C.TYPE_EVENT_REGISTRATION].fetchAll(t))},fetchSavedEvents:t=>{e(F[C.TYPE_SAVED_EVENT].fetchAll(t))},fetchSegments:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{fields:{[C.TYPE_POPULATION_SEGMENT]:["name","weight"]}};e(F[C.TYPE_POPULATION_SEGMENT].fetchAll(t))}})))(D);const L=(0,a.A)(q),M=document.getElementById("eventAttendanceListRoot"),G=c().intercept.user,k=M.getAttribute("data-event-uuid"),X=M.getAttribute("data-event-nid");(0,i.render)(s().createElement(L,{event:{uuid:k,nid:X},user:G}),M)},38123:function(e){"use strict";e.exports=moment},40140:function(e){"use strict";e.exports=interceptTheme},41594:function(e){"use strict";e.exports=React},42e3:function(e,t,n){var r=n(63945),s=n(62429),i=n(15389),a=n(56449);e.exports=function(e,t){return function(n,o){var c=a(n)?r:s,d=t?t():{};return c(n,e,i(o,2),d)}}},62429:function(e,t,n){var r=n(80909);e.exports=function(e,t,n,s){return r(e,(function(e,r,i){t(s,e,n(e),i)})),s}},63945:function(e){e.exports=function(e,t,n,r){for(var s=-1,i=null==e?0:e.length;++s<i;){var a=e[s];t(r,a,n(a),e)}return r}},73032:function(e){"use strict";e.exports=drupalSettings},75206:function(e){"use strict";e.exports=ReactDOM},94394:function(e,t,n){var r=n(43360),s=n(42e3),i=Object.prototype.hasOwnProperty,a=s((function(e,t,n){i.call(e,n)?e[n].push(t):r(e,n,[t])}));e.exports=a}},n={};function r(e){var s=n[e];if(void 0!==s)return s.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return t[e](i,i.exports,r),i.loaded=!0,i.exports}r.m=t,e=[],r.O=function(t,n,s,i){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],s=e[u][1],i=e[u][2];for(var o=!0,c=0;c<n.length;c++)(!1&i||a>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[c])}))?n.splice(c--,1):(o=!1,i<a&&(a=i));if(o){e.splice(u--,1);var d=s();void 0!==d&&(t=d)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,s,i]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},r.j=233,function(){var e={233:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,i,a=n[0],o=n[1],c=n[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(s in o)r.o(o,s)&&(r.m[s]=o[s]);if(c)var u=c(r)}for(t&&t(n);d<a.length;d++)i=a[d],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(u)},n=self.wpJsonpIntercept=self.wpJsonpIntercept||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var s=r.O(void 0,[436],(function(){return r(13452)}));s=r.O(s)}();