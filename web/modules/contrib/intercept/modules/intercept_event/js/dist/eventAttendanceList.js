wpJsonpIntercept([2],{0:function(e,t){e.exports=React},1052:function(e,t,a){'use strict';function n(e){var t=e.classes,a=e.users,n=e.registrations,i=e.attendance,s=e.savedEvents,r=P(a,n,i,s);return h.a.createElement(x.E,{className:t.table},h.a.createElement(x.H,null,h.a.createElement(x.I,null,h.a.createElement(x.G,null,'Name'),h.a.createElement(x.G,null,'Saved'),h.a.createElement(x.G,null,'Registered'),h.a.createElement(x.G,null,'Attended'))),h.a.createElement(x.F,null,r.map(function(e){return h.a.createElement(x.I,{key:e.id},h.a.createElement(x.G,{component:'th',scope:'row'},e.name),h.a.createElement(x.G,null,e.saved.map(I)||null),h.a.createElement(x.G,null,e.registered.map(S)||null),h.a.createElement(x.G,null,e.attendance.map(k)||null))})))}var i=a(51),s=a.n(i),r=a(50),o=a.n(r),d=a(64),l=a.n(d),u=a(385),p=a.n(u),g=a(0),h=a.n(g),m=a(1),v=a.n(m),f=a(12),E=a(11),_=a.n(E),y=a(388),T=a(20),b=a.n(T),C=a(1053),R=a.n(C),x=a(14),A=_.a.constants,c=function e(t){return{root:{width:'100%',marginTop:t.spacing(3),overflowX:'auto'},table:{minWidth:700}}},P=function e(t,a,n,i){var s=R()(a,function(e){return b()(e,'data.relationships.field_user.data.id')}),r=R()(n,function(e){return b()(e,'data.relationships.field_user.data.id')}),o=R()(i,function(e){return b()(e,'data.relationships.uid.data.id')});return Object.values(t).map(function(e){var t=b()(e,'data.id');return{id:t,name:b()(e,'data.attributes.name'),registered:s[t]||[],attendance:r[t]||[],saved:o[t]||[]}})},k=function e(t){return h.a.createElement(y.a,{key:b()(t,'data.id'),id:b()(t,'data.id'),valuePath:'data.relationships.field_attendees.data',type:A.TYPE_EVENT_ATTENDANCE})},S=function e(t){return h.a.createElement(y.a,{key:b()(t,'data.id'),id:b()(t,'data.id'),valuePath:'data.relationships.field_registrants.data',type:A.TYPE_EVENT_REGISTRATION})},I=function e(t){return h.a.createElement('p',{key:b()(t,'data.id')},'Yes')};n.propTypes={classes:v.a.object.isRequired,eventId:v.a.string.isRequired,users:v.a.object,attendance:v.a.object,registrations:v.a.object,savedEvents:v.a.object},n.defaultProps={users:{},attendance:{},registrations:{},savedEvents:{}},t.a=Object(f.l)(c)(n)},1053:function(e,t,a){var n=a(247),i=a(1054),s=Object.prototype,r=s.hasOwnProperty,o=i(function(e,t,a){r.call(e,a)?e[a].push(t):n(e,a,[t])});e.exports=o},1054:function(e,t,a){function n(e,t){return function(a,n){var d=o(a)?i:s,l=t?t():{};return d(a,e,r(n,2),l)}}var i=a(1055),s=a(1056),r=a(149),o=a(62);e.exports=n},1055:function(e,t){function a(e,t,a,n){for(var i=-1,s=null==e?0:e.length;++i<s;){var r=e[i];t(n,r,a(r),e)}return n}e.exports=a},1056:function(e,t,a){function n(e,t,a,n){return i(e,function(e,i,s){t(n,e,a(e),s)}),n}var i=a(389);e.exports=n},11:function(e,t){e.exports=interceptClient},129:function(e,t,a){var n=a(63),i=a(23)('toStringTag'),s='Arguments'==n(function(){return arguments}()),r=function(e,t){try{return e[t]}catch(t){}};e.exports=function(e){var t,a,o;return e===void 0?'Undefined':null===e?'Null':'string'==typeof(a=r(t=Object(e),i))?a:s?n(t):'Object'==(o=n(t))&&'function'==typeof t.callee?'Arguments':o}},130:function(e,t,a){var n,i,s,r=a(82),o=a(236),d=a(303),l=a(202),c=a(29),u=c.process,p=c.setImmediate,g=c.clearImmediate,h=c.MessageChannel,m=c.Dispatch,v=0,f={},E='onreadystatechange',_=function(){var e=+this;if(f.hasOwnProperty(e)){var t=f[e];delete f[e],t()}},y=function(e){_.call(e.data)};p&&g||(p=function e(t){for(var a=[],s=1;arguments.length>s;)a.push(arguments[s++]);return f[++v]=function(){o('function'==typeof t?t:Function(t),a)},n(v),v},g=function e(t){delete f[t]},'process'==a(63)(u)?n=function(e){u.nextTick(r(_,e,1))}:m&&m.now?n=function(e){m.now(r(_,e,1))}:h?(i=new h,s=i.port2,i.port1.onmessage=y,n=r(s.postMessage,s,1)):c.addEventListener&&'function'==typeof postMessage&&!c.importScripts?(n=function(e){c.postMessage(e+'','*')},c.addEventListener('message',y,!1)):E in l('script')?n=function(e){d.appendChild(l('script'))[E]=function(){d.removeChild(this),_.call(e)}}:n=function(e){setTimeout(r(_,e,1),0)}),e.exports={set:p,clear:g}},131:function(e,t,a){'use strict';function n(e){var t,a;this.promise=new e(function(e,n){if(t!==void 0||a!==void 0)throw TypeError('Bad Promise constructor');t=e,a=n}),this.resolve=i(t),this.reject=i(a)}var i=a(98);e.exports.f=function(e){return new n(e)}},18:function(e,t){e.exports=ReactDOM},191:function(e,t,a){'use strict';var n,i,s,r,o=a(204),d=a(29),l=a(82),c=a(129),u=a(72),p=a(70),g=a(98),h=a(230),m=a(231),v=a(235),f=a(130).set,E=a(237)(),_=a(131),y=a(238),T=a(239),b=a(240),C='Promise',R=d.TypeError,x=d.process,A=x&&x.versions,P=A&&A.v8||'',k=d[C],S='process'==c(x),I=function(){},N=i=_.f,w=!!function(){try{var e=k.resolve(1),t=(e.constructor={})[a(23)('species')]=function(e){e(I,I)};return(S||'function'==typeof PromiseRejectionEvent)&&e.then(I)instanceof t&&0!==P.indexOf('6.6')&&-1===T.indexOf('Chrome/66')}catch(t){}}(),O=function(e){var t;return!!(p(e)&&'function'==typeof(t=e.then))&&t},j=function(e,t){if(!e._n){e._n=!0;var a=e._c;E(function(){for(var n=e._v,s=1==e._s,r=0,i=function(t){var a,i,r,o=s?t.ok:t.fail,d=t.resolve,l=t.reject,c=t.domain;try{o?(!s&&(2==e._h&&F(e),e._h=1),!0===o?a=n:(c&&c.enter(),a=o(n),c&&(c.exit(),r=!0)),a===t.promise?l(R('Promise-chain cycle')):(i=O(a))?i.call(a,d,l):d(a)):l(n)}catch(t){c&&!r&&c.exit(),l(t)}};a.length>r;)i(a[r++]);e._c=[],e._n=!1,t&&!e._h&&Y(e)})}},Y=function(e){f.call(d,function(){var t,a,n,i=e._v,s=V(e);if(s&&(t=y(function(){S?x.emit('unhandledRejection',i,e):(a=d.onunhandledrejection)?a({promise:e,reason:i}):(n=d.console)&&n.error&&n.error('Unhandled promise rejection',i)}),e._h=S||V(e)?2:1),e._a=void 0,s&&t.e)throw t.v})},V=function(e){return 1!==e._h&&0===(e._a||e._c).length},F=function(e){f.call(d,function(){var t;S?x.emit('rejectionHandled',e):(t=d.onrejectionhandled)&&t({promise:e,reason:e._v})})},G=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,!t._a&&(t._a=t._c.slice()),j(t,!0))},M=function(e){var t,a=this;if(!a._d){a._d=!0,a=a._w||a;try{if(a===e)throw R('Promise can\'t be resolved itself');(t=O(e))?E(function(){var n={_w:a,_d:!1};try{t.call(e,l(M,n,1),l(G,n,1))}catch(t){G.call(n,t)}}):(a._v=e,a._s=1,j(a,!1))}catch(t){G.call({_w:a,_d:!1},t)}}};w||(k=function e(t){h(this,k,C,'_h'),g(t),n.call(this);try{t(l(M,this,1),l(G,this,1))}catch(e){G.call(this,e)}},n=function e(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=a(241)(k.prototype,{then:function e(t,a){var n=N(v(this,k));return n.ok='function'!=typeof t||t,n.fail='function'==typeof a&&a,n.domain=S?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&j(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),s=function(){var e=new n;this.promise=e,this.resolve=l(M,e,1),this.reject=l(G,e,1)},_.f=N=function(e){return e===k||e===r?new s(e):i(e)}),u(u.G+u.W+u.F*!w,{Promise:k}),a(206)(k,C),a(242)(C),r=a(71)[C],u(u.S+u.F*!w,C,{reject:function e(t){var a=N(this),n=a.reject;return n(t),a.promise}}),u(u.S+u.F*(o||!w),C,{resolve:function e(t){return b(o&&this===r?k:this,t)}}),u(u.S+u.F*!(w&&a(243)(function(e){k.all(e)['catch'](I)})),C,{all:function e(t){var a=this,n=N(a),i=n.resolve,s=n.reject,r=y(function(){var e=[],n=0,r=1;m(t,!1,function(t){var o=n++,d=!1;e.push(void 0),r++,a.resolve(t).then(function(t){d||(d=!0,e[o]=t,--r||i(e))},s)}),--r||i(e)});return r.e&&s(r.v),n.promise},race:function e(t){var a=this,n=N(a),i=n.reject,s=y(function(){m(t,!1,function(e){a.resolve(e).then(n.resolve,i)})});return s.e&&i(s.v),n.promise}})},197:function(e,t,a){'use strict';var n=a(210),i=a.n(n),s=a(6),r=a.n(s),o=a(7),d=a.n(o),l=a(8),u=a.n(l),p=a(9),g=a.n(p),h=a(10),m=a.n(h),v=a(0),f=a.n(v),E=a(1),_=a.n(E),y=a(15),T=a(22),b=a.n(T),C=a(20),R=a.n(C),x=a(11),A=a.n(x),P=a(150),k=a(198),S=a(199),I=a(200),N=A.a.select,w=A.a.constants,O=A.a.utils,j=w,c=O.getUserUuid(),Y=function(e){function t(){return r()(this,t),u()(this,g()(t).apply(this,arguments))}return m()(t,e),d()(t,[{key:'render',value:function e(){var t=this.props,a=t.id,n=t.event,i=t.registrations,s=function e(t){return{id:t.id,name:R()(t,'attributes.name')}},r=b()(O.dateFromDrupal(n.attributes.field_date_time.value)),o=Array.isArray(n.relationships.field_event_audience)?n.relationships.field_event_audience.map(s).filter(function(e){return e.id}):[],d=0<o.length?f.a.createElement(P.a,{label:'Audience',key:'audience',values:o}):null,l=R()(n,'attributes.event_thumbnail');return f.a.createElement(k.a,{key:a,modifiers:[l?'with-image':'without-image'],image:l,supertitle:R()(n,'relationships.field_location.0.attributes.title'),title:n.attributes.title,titleUrl:n.attributes.path?n.attributes.path.alias:'/node/'.concat(n.attributes.nid),date:{month:r.utcOffset(O.getUserUtcOffset()).format('MMM'),date:r.utcOffset(O.getUserUtcOffset()).format('D'),time:O.getTimeDisplay(r).replace(':00','')},description:R()(n,'attributes.field_text_teaser.value'),tags:[d],registrations:i,footer:function e(t){return f.a.createElement(f.a.Fragment,null,f.a.createElement(S.a,{eventId:t.event.id}),f.a.createElement(I.a,{eventId:t.event.id}))},event:n})}}]),t}(v.PureComponent);Y.propTypes={id:_.a.string.isRequired,event:_.a.object.isRequired,registrations:_.a.array},Y.defaultProps={registrations:[]};var V=function e(t,a){var n=N.getIdentifier(j.TYPE_EVENT,a.id),i=N.eventRegistrationsByEventByUser(a.id,c)(t);return{event:N.bundle(n)(t),registrations:i}};t.a=Object(y.b)(V)(Y)},22:function(e,t){e.exports=moment},229:function(e,t,a){'use strict';var n=a(6),i=a.n(n),s=a(7),r=a.n(s),o=a(8),d=a.n(o),l=a(9),c=a.n(l),u=a(10),p=a.n(u),g=a(0),h=a.n(g),m=a(1),v=a.n(m),f=a(12),E=function e(t){return{checked:{fontWeight:'bold'},unChecked:{fontWeight:'bold',color:t.palette.secondary.main}}},_=function(e){function t(){return i()(this,t),d()(this,c()(t).apply(this,arguments))}return p()(t,e),r()(t,[{key:'render',value:function e(){var t=this.props,a=t.value,n=t.handleChange,i=t.options,s=function e(t){return'view-switcher__button '.concat(t&&'view-switcher__button--active')};return h.a.createElement('div',{className:'view-switcher'},i.map(function(e){return h.a.createElement('button',{key:e.key,className:s(a===e.key),disabled:a===e.key,onClick:function t(){return n(e.key)}},e.value)}))}}]),t}(h.a.PureComponent);_.propTypes={handleChange:v.a.func.isRequired,value:v.a.string,options:v.a.arrayOf(v.a.shape({key:v.a.string,value:v.a.string})).isRequired},_.defaultProps={value:'list'},t.a=Object(f.l)(E)(_)},230:function(e,t){e.exports=function(e,t,a,n){if(!(e instanceof t)||n!==void 0&&n in e)throw TypeError(a+': incorrect invocation!');return e}},231:function(e,t,a){var n=a(82),i=a(232),s=a(233),r=a(40),o=a(140),d=a(234),l={},c={},t=e.exports=function(e,t,a,u,p){var g,h,m,v,E=p?function(){return e}:d(e),_=n(a,u,t?2:1),f=0;if('function'!=typeof E)throw TypeError(e+' is not iterable!');if(s(E)){for(g=o(e.length);g>f;f++)if(v=t?_(r(h=e[f])[0],h[1]):_(e[f]),v===l||v===c)return v;}else for(m=E.call(e);!(h=m.next()).done;)if(v=i(m,_,h.value,t),v===l||v===c)return v};t.BREAK=l,t.RETURN=c},232:function(e,t,a){var n=a(40);e.exports=function(t,e,a,i){try{return i?e(n(a)[0],a[1]):e(a)}catch(a){var s=t['return'];throw void 0!==s&&n(s.call(t)),a}}},233:function(e,t,a){var n=a(106),i=a(23)('iterator'),s=Array.prototype;e.exports=function(e){return e!==void 0&&(n.Array===e||s[i]===e)}},234:function(e,t,a){var n=a(129),i=a(23)('iterator'),s=a(106);e.exports=a(71).getIteratorMethod=function(e){if(e!=void 0)return e[i]||e['@@iterator']||s[n(e)]}},235:function(e,t,a){var n=a(40),i=a(98),s=a(23)('species');e.exports=function(e,t){var a,r=n(e).constructor;return r===void 0||(a=n(r)[s])==void 0?t:i(a)}},236:function(e,t){e.exports=function(e,t,a){var n=a===void 0;switch(t.length){case 0:return n?e():e.call(a);case 1:return n?e(t[0]):e.call(a,t[0]);case 2:return n?e(t[0],t[1]):e.call(a,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(a,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(a,t[0],t[1],t[2],t[3]);}return e.apply(a,t)}},237:function(e,t,a){var n=a(29),i=a(130).set,s=n.MutationObserver||n.WebKitMutationObserver,r=n.process,o=n.Promise,d='process'==a(63)(r);e.exports=function(){var t,a,l,e=function(){var e,n;for(d&&(e=r.domain)&&e.exit();t;){n=t.fn,t=t.next;try{n()}catch(n){throw t?l():a=void 0,n}}a=void 0,e&&e.enter()};if(d)l=function(){r.nextTick(e)};else if(s&&!(n.navigator&&n.navigator.standalone)){var c=!0,u=document.createTextNode('');new s(e).observe(u,{characterData:!0}),l=function(){u.data=c=!c}}else if(o&&o.resolve){var p=o.resolve(void 0);l=function(){p.then(e)}}else l=function(){i.call(n,e)};return function(e){var n={fn:e,next:void 0};a&&(a.next=n),t||(t=n,l()),a=n}}},238:function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},239:function(e,t,a){var n=a(29),i=n.navigator;e.exports=i&&i.userAgent||''},240:function(e,t,a){var n=a(40),i=a(70),s=a(131);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var a=s.f(e),r=a.resolve;return r(t),a.promise}},241:function(e,t,a){var n=a(126);e.exports=function(e,t,a){for(var i in t)n(e,i,t[i],a);return e}},242:function(e,t,a){'use strict';var n=a(29),i=a(125),s=a(97),r=a(23)('species');e.exports=function(e){var t=n[e];s&&t&&!t[r]&&i.f(t,r,{configurable:!0,get:function(){return this}})}},243:function(e,t,a){var n=a(23)('iterator'),i=!1;try{var s=[7][n]();s['return']=function(){i=!0},Array.from(s,function(){throw 2})}catch(t){}e.exports=function(e,t){if(!t&&!i)return!1;var a=!1;try{var s=[7],r=s[n]();r.next=function(){return{done:a=!0}},s[n]=function(){return r},e(s)}catch(t){}return a}},245:function(e,t,a){'use strict';var n=a(0),i=a.n(n),s=a(1),r=a.n(s),o=a(11),d=a.n(o),l=a(246),u=d.a.constants,c={default:'The status of the registration is unknown',dirty:{waitlist:'Submitting registration to the waitlist',active:'Submitting registration',canceled:'Cancelling registration'},syncing:{waitlist:'Submitting registration to the waitlist',active:'Submitting registration',canceled:'Cancelling registration'},saved:{waitlist:'This registration has been added to the waitlist',active:'This registration has been confirmed',canceled:'This registration has been canceled'},error:{waitlist:'An error occured while adding to the waitlist',active:'An error occured while submitting this registration',canceled:'An error occured while cancelling this registration'}},p=function e(t){return i.a.createElement(l.a,{type:u.TYPE_EVENT_REGISTRATION,id:t.uuid,messages:c,statusPath:'data.attributes.status'})};p.propTypes={uuid:r.a.string.isRequired},t.a=p},246:function(e,t,a){'use strict';var n=a(6),i=a.n(n),s=a(7),r=a.n(s),o=a(8),d=a.n(o),l=a(9),c=a.n(l),u=a(10),p=a.n(u),g=a(13),h=a.n(g),m=a(0),v=a.n(m),f=a(1),E=a.n(f),_=a(11),y=a.n(_),T=a(15),b=a(20),C=a.n(b),R=a(14),x=y.a.select,A=function(e){function t(e){var a;return i()(this,t),a=d()(this,c()(t).call(this,e)),a.getMessage=a.getMessage.bind(h()(h()(a))),a}return p()(t,e),r()(t,[{key:'getMessage',value:function e(t,a){var n=this.props.messages,i=n.default;return a?t.syncing?(i=n.syncing[a],i):t.error?(i=n.error[a],i):t.dirty?(i=n.dirty[a],i):t.saved?(i=n.saved[a],i):i:i}},{key:'render',value:function e(){var t=this.props,a=t.entity,n=t.statusPath,i=this.getMessage(a.state,C()(a,n));return v.a.createElement('div',{className:'entity-status'},v.a.createElement('p',{className:'entity-status__message'},i),a.state.syncing&&v.a.createElement(R.f,{size:50}))}}]),t}(v.a.PureComponent);A.propTypes={type:E.a.string.isRequired,id:E.a.string.isRequired,statusPath:E.a.string.isRequired,entity:E.a.instanceOf(Object).isRequired,messages:E.a.shape({default:E.a.string,syncing:E.a.object,error:E.a.object,saved:E.a.object}).isRequired};var P=function e(t,a){var n=x.getIdentifier(a.type,a.id),i=x.record(n)(t);return{entity:i}};t.a=Object(T.b)(P)(A)},247:function(e,t,a){function n(e,t,a){'__proto__'==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}var i=a(194);e.exports=n},323:function(e,t,a){'use strict';function n(e){return G()(e,'data.attributes.field_capacity_max')||0}function i(e){return G()(e,'data.attributes.registration.total')}function s(e){return G()(e,'data.attributes.registration.status')}function r(e){return n(e)-i(e)}function o(e){return G()(e,'data.attributes.field_waitlist_max')||0}function d(e){return G()(e,'data.attributes.registration.total_waitlist')}function l(e){return o(e)-d(e)}function u(e){return 0<=['open','waitlist'].indexOf(s(e))}function p(e,t){return 0!==n(t)&&0>r(t)-e}function g(e,t){var a=n(t);return 0!==a&&0<a&&0>a-e}function h(e,t){return 0!==o(t)&&0>l(t)-e}function m(e,t,a){if(!u(t))return!1;return'active'===a?!p(e,t)&&!g(e,t):'waitlist'===a?!h(e,t)&&!g(e,t):!g(e,t)}var v=a(26),f=a.n(v),E=a(191),_=a.n(E),y=a(6),T=a.n(y),b=a(7),C=a.n(b),R=a(8),x=a.n(R),A=a(9),P=a.n(A),k=a(10),S=a.n(k),I=a(13),N=a.n(I),w=a(0),O=a.n(w),j=a(1),Y=a.n(j),V=a(15),F=a(20),G=a.n(F),M=a(11),U=a.n(M),q=a(107),D=a(103),L=a(245),W=a(384),X=a(14),B=U.a.api,K=U.a.constants,H=U.a.session,z=U.a.select,$=K,c='idle',Q='conflict',J='saved',Z='error',ee='loading',te='validate',ae=function(e){function t(e){var a;return T()(this,t),a=x()(this,P()(t).call(this,e)),a.state={saved:!1,state:c,uuid:e.uuid||null},a.handleConfirm=a.handleConfirm.bind(N()(N()(a))),a}return S()(t,e),C()(t,[{key:'checkEventRegistrations',value:function e(t,a,n){var i=this,s=this.props.fetchEventRegistrations;return this.setState({state:te}),new Promise(function(e,o){try{s(t,function(t){var s=JSON.parse(t);m(a,s,n)?e(s):(o(),i.setState({state:Q}))})}catch(e){o(e),i.setState({state:Z})}})}},{key:'handleConfirm',value:function e(){var t=this,a=this.props,n=a.onConfirm,i=a.save,s=a.eventId,r=a.total,o=a.status;if(this.props.uuid){var d=n();i(d),this.setState({saved:!0,uuid:d,state:ee})}else this.checkEventRegistrations(s,r,o).then(function(e){var a=n();i(a),t.setState({saved:!0,uuid:a,state:ee})}).catch(function(){t.setState({state:Q})})}},{key:'render',value:function e(){var t=this.props,a=t.open,n=t.onCancel,i=t.heading,s=t.text,r=this.state,o=r.saved,d=r.uuid,l=r.state,c={confirmText:'Yes',cancelText:'No',heading:i,text:s,onConfirm:this.handleConfirm,onCancel:n},u=null;return o&&(d&&(u=O.a.createElement(L.a,{uuid:d})),c={confirmText:null,cancelText:'Close',heading:'',onConfirm:function e(){window.location.href='/user'},onCancel:n}),l===Q&&(c={confirmText:null,cancelText:'Close',heading:'Registration Incomplete',onConfirm:function e(){},text:'We were unable to confirm your registration. Please try again.',onCancel:function e(){n(),document.location.reload(!0)}}),O.a.createElement(q.a,f()({},c,{open:a}),u)}}]),t}(O.a.PureComponent);ae.propTypes={eventId:Y.a.string,onConfirm:Y.a.func,onCancel:Y.a.func,open:Y.a.bool,save:Y.a.func.isRequired,uuid:Y.a.string,heading:Y.a.string,status:Y.a.string,text:Y.a.string,total:Y.a.number},ae.defaultProps={eventId:null,onConfirm:null,onCancel:null,open:!1,uuid:null,heading:'Are you sure you want to register?',status:null,text:null,total:0};var ne=function e(){return{}},ie=function e(t){return{save:function e(a){H.getToken().then(function(e){t(B[$.TYPE_EVENT_REGISTRATION].sync(a,{headers:{"X-CSRF-Token":e}}))}).catch(function(t){console.log('Unable to save registration',t)})}}};t.a=Object(V.b)(ne,ie)(Object(W.a)(ae))},33:function(e,t){e.exports=drupalSettings},379:function(e,t,a){'use strict';function n(e){var t=[];switch(e){case'active':t=['cancel'];break;case'canceled':t=[];break;case'waitlist':t=['cancel'];break;default:}return t}var i=a(19),s=a.n(i),r=a(6),o=a.n(r),d=a(7),l=a.n(d),u=a(8),p=a.n(u),g=a(9),h=a.n(g),m=a(10),v=a.n(m),f=a(13),E=a.n(f),_=a(0),y=a.n(_),T=a(1),b=a.n(T),C=a(15),R=a(107),x=a(11),A=a.n(x),P=a(323),k=a(245),S=a(14),I=A.a.constants,N=A.a.api,w=A.a.select,O=I,c={default:{status:'',text:'',heading:''},cancel:{status:'canceled',heading:'Are you sure you want to cancel this registration?',text:null},deny:{status:'denied',heading:'Confirm deny',text:'Confirm deny'},approve:{status:'approved',heading:'Confirm approval',text:'Confirm approval'}},j=function(e){function t(e){var a;return o()(this,t),a=p()(this,h()(t).call(this,e)),a.state={open:!1,action:'default'},a.onCancel=a.onCancel.bind(E()(E()(a))),a.onClick=a.onClick.bind(E()(E()(a))),a.onClose=a.onClose.bind(E()(E()(a))),a.onConfirm=a.props.onConfirm.bind(E()(E()(a))),a}return v()(t,e),l()(t,[{key:'onClose',value:function e(){this.onCancel()}},{key:'onCancel',value:function e(){this.setState({open:!1})}},{key:'onClick',value:function e(t){var a=this;return function(){a.setState({open:!0,action:t})}}},{key:'render',value:function e(){var t=this,a=this.props,i=a.entity,s=a.registrationId,r=a.status,o=n(r);return y.a.createElement('div',null,0<o.length&&o.map(function(e){return y.a.createElement(S.b,{key:e,onClick:t.onClick(e),variant:'cancel'===e?'outlined':'contained',color:'primary'},e)}),y.a.createElement(P.a,{open:this.state.open,onClose:this.onClose,onConfirm:this.onConfirm(i,this.state.action),onCancel:this.onCancel,uuid:s,text:c[this.state.action].text,heading:c[this.state.action].heading}))}}]),t}(_.PureComponent);j.propTypes={registrationId:b.a.string.isRequired,entity:b.a.object,status:b.a.string,onConfirm:b.a.func},j.defaultProps={entity:null,onConfirm:null,status:null};var Y=function e(t,a){return{entity:w.record({type:O.TYPE_EVENT_REGISTRATION,id:a.registrationId})(t),status:w.registrationStatus(a.registrationId)(t)}},V=function e(t,a){var n=function e(n,i){return function(){var e=s()({},n.data);return e.attributes.status=c[i].status,t(A.a.actions.edit(e,O.TYPE_EVENT_REGISTRATION,a.registrationId)),a.registrationId}};return{onConfirm:n}};t.a=Object(C.b)(Y,V)(j)},384:function(e,t,a){'use strict';function n(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:200;return function(a){function n(e){var a;return l()(this,n),a=h()(this,v()(n).call(this,e)),b()(y()(y()(a)),'handleResponse',function(e){return a.mounted&&a.setState({registrations:o()({},a.state.registrations,{loading:!1,data:k()(JSON.parse(e),'data.attributes'),shouldUpdate:!1})}),e}),a.handleResponse=a.handleResponse.bind(y()(y()(a))),a.fetchEventRegistrations=A()(a.fetchEventRegistrations,t).bind(y()(y()(a))),a.state={registrations:{loading:!1,shouldUpdate:!1,data:null}},a}return E()(n,a),p()(n,[{key:'componentDidMount',value:function e(){this.mounted=!0}},{key:'componentWillUnmount',value:function e(){this.mounted=!1}},{key:'fetchEventRegistrations',value:function e(t){var a=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(e){return e};this.setState({registrations:o()({},this.state.registrations,{loading:!0,shouldUpdate:!1})});var i=N[O.TYPE_EVENT].getEndpoint({id:t,fields:b()({},O.TYPE_EVENT,['field_capacity_max','field_waitlist_max','field_event_register_period','field_event_user_reg_max','field_has_waitlist','field_must_register','registration'])});return fetch(i,{method:'GET',headers:{"Content-Type":'application/json',Accept:'application/json'}}).then(function(e){return e.text()}).then(function(e){return n(a.handleResponse(e))}).catch(function(t){a.mounted&&(console.log(t),a.setState({registrations:o()({},a.state.registrations,{loading:!1,shouldUpdate:!1})}))})}},{key:'render',value:function t(){return R.a.createElement(e,s()({registrations:this.state.registrations,fetchEventRegistrations:this.fetchEventRegistrations},this.props))}}]),n}(R.a.Component)}var i=a(26),s=a.n(i),r=a(19),o=a.n(r),d=a(6),l=a.n(d),u=a(7),p=a.n(u),g=a(8),h=a.n(g),m=a(9),v=a.n(m),f=a(10),E=a.n(f),_=a(13),y=a.n(_),T=a(17),b=a.n(T),C=a(0),R=a.n(C),x=a(48),A=a.n(x),P=a(20),k=a.n(P),S=a(11),I=a.n(S),N=I.a.api,w=I.a.constants,O=w;t.a=n},385:function(e,t,a){var n=a(72),i=a(386)(!1);n(n.S,'Object',{values:function e(t){return i(t)}})},386:function(e,t,a){var n=a(139),s=a(205),r=a(387).f;e.exports=function(e){return function(t){for(var a,o=s(t),d=n(o),l=d.length,c=0,i=[];l>c;)r.call(o,a=d[c++])&&i.push(e?[a,o[a]]:o[a]);return i}}},387:function(e,t){t.f={}.propertyIsEnumerable},388:function(e,t,a){'use strict';function n(e){var t=e.tally;return s.a.createElement('p',null,t.map(function(e){return''.concat(e.count||0,' ').concat(e.label)}).join(', '))}var i=a(0),s=a.n(i),r=a(1),o=a.n(r),d=a(15),l=a(12),u=a(20),p=a.n(u),g=a(11),h=a.n(g),m=h.a.constants,v=h.a.select,f=m,c={card:{maxWidth:345},media:{height:0,paddingTop:'56.25%'}};n.propTypes={tally:o.a.array},n.defaultProps={tally:[]};var E=function e(t,a){var n=v.getIdentifier(a.type,a.id),i=v.record(n)(t),s=v.records(f.TYPE_POPULATION_SEGMENT)(t),r=p()(i,a.valuePath),o=r.filter(function(e){return 0<p()(e,'meta.count')}).map(function(e){return{label:p()(s[e.id],'data.attributes.name'),count:p()(e,'meta.count')}});return{tally:o}};t.a=Object(d.b)(E)(Object(l.l)(c)(n))},74:function(e,t){e.exports=interceptTheme},779:function(e,t,a){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=a(0),i=a.n(n),s=a(18),r=a.n(s),o=a(73),d=a(33),l=a.n(d),c=a(854),u=Object(o.a)(c.a),p=document.getElementById('eventAttendanceListRoot'),g=l.a.intercept.user,h=p.getAttribute('data-event-uuid'),m=p.getAttribute('data-event-nid');Object(s.render)(i.a.createElement(u,{event:{uuid:h,nid:m},user:g}),p)},854:function(e,t,a){'use strict';var n=a(6),i=a.n(n),s=a(7),r=a.n(s),o=a(8),d=a.n(o),l=a(9),u=a.n(l),p=a(10),g=a.n(p),h=a(13),m=a.n(h),v=a(17),f=a.n(v),E=a(0),_=a.n(E),y=a(1),T=a.n(y),b=a(15),C=a(22),R=a.n(C),x=a(33),A=a.n(x),P=a(48),k=a.n(P),S=a(11),I=a.n(S),N=a(107),w=a(229),O=a(190),j=a(379),Y=a(1052),V=a(197),F=a(14),G=I.a.constants,M=I.a.api,U=I.a.select,q=G,c=function(e){function t(e){var a;return i()(this,t),a=d()(this,u()(t).call(this,e)),f()(m()(m()(a)),'handleViewChange',function(e){a.doFetch(e)}),a.state={open:!1},a.handleViewChange=a.handleViewChange.bind(m()(m()(a))),a.doFetch=k()(a.doFetch,300).bind(m()(m()(a))),a.doFetchRegistrations=a.doFetchRegistrations.bind(m()(m()(a))),a.doFetchSavedEvents=a.doFetchSavedEvents.bind(m()(m()(a))),a}return g()(t,e),r()(t,[{key:'componentDidMount',value:function e(){this.props.fetchSegments(),this.doFetch()}},{key:'doFetchAttendance',value:function e(){this.props.fetchAttendance({filters:{event:{path:'field_event.id',value:this.props.event.uuid}},include:['field_user'],headers:{"X-Consumer-ID":I.a.consumer}})}},{key:'doFetchRegistrations',value:function e(){this.props.fetchRegistrations({filters:{event:{path:'field_event.id',value:this.props.event.uuid},status:{path:'status',value:['active','waitlist'],operator:'IN'}},include:['field_user'],headers:{"X-Consumer-ID":I.a.consumer}})}},{key:'doFetchSavedEvents',value:function e(){this.props.fetchSavedEvents({filters:{event:{path:'entity_id',value:this.props.event.nid}},include:['uid'],headers:{"X-Consumer-ID":I.a.consumer}})}},{key:'doFetch',value:function e(){this.doFetchSavedEvents(),this.doFetchRegistrations(),this.doFetchAttendance()}},{key:'doConfirmAction',value:function e(){this.setState({open:!0,text:'Confirm cancel'})}},{key:'render',value:function e(){var t=this.props,a=t.isLoading,n=t.event,i=t.users,s=t.registrations,r=t.attendance,o=t.savedEvents,d={eventId:n.uuid,users:i,registrations:s,attendance:r,savedEvents:o};return _.a.createElement(Y.a,d)}}]),t}(E.Component);c.propTypes={event:T.a.shape({nid:T.a.string.isRequired,uuid:T.a.string.isRequired}).isRequired,fetchAttendance:T.a.func.isRequired,fetchRegistrations:T.a.func.isRequired,fetchSavedEvents:T.a.func.isRequired,fetchSegments:T.a.func.isRequired,users:T.a.object,attendance:T.a.object,registrations:T.a.object,savedEvents:T.a.object},c.defaultProps={users:{},attendance:{},registrations:{},savedEvents:{}};var D=function e(t,a){return{attendance:U.records([q.TYPE_EVENT_ATTENDANCE])(t),registrations:U.records([q.TYPE_EVENT_REGISTRATION])(t),savedEvents:U.records([q.TYPE_SAVED_EVENT])(t),users:U.records([q.TYPE_USER])(t),isLoading:U.recordsAreLoading(q.TYPE_EVENT_ATTENDANCE)(t)||U.recordsAreLoading(q.TYPE_EVENT_REGISTRATION)(t)||U.recordsAreLoading(q.TYPE_SAVED_EVENT)(t)}},L=function e(t,a){return{fetchAttendance:function e(a){t(M[q.TYPE_EVENT_ATTENDANCE].fetchAll(a))},fetchRegistrations:function e(a){t(M[q.TYPE_EVENT_REGISTRATION].fetchAll(a))},fetchSavedEvents:function e(a){t(M[q.TYPE_SAVED_EVENT].fetchAll(a))},fetchSegments:function e(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{fields:f()({},q.TYPE_POPULATION_SEGMENT,['name','weight'])};t(M[q.TYPE_POPULATION_SEGMENT].fetchAll(a))}}};t.a=Object(b.b)(D,L)(c)}},[779]);