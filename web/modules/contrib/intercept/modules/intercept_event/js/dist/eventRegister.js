wpJsonpIntercept([2],{0:function(e,t){e.exports=React},1180:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a.n(n),s=a(21),r=a.n(s),o=a(79),l=a(36),d=a.n(l),c=a(1181),u=Object(o.a)(c.a),p=document.getElementById("eventRegisterRoot"),g=p.getAttribute("data-uuid"),m=d.a.intercept.user;Object(s.render)(i.a.createElement(u,{eventId:g,user:m}),p)},1181:function(e,t,a){"use strict";function n(e){var t=i();return function a(){var n,i=P()(e);if(t){var s=P()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return C()(this,n)}}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var s=a(7),r=a.n(s),o=a(6),l=a.n(o),d=a(10),u=a.n(d),p=a(33),g=a.n(p),m=a(8),v=a.n(m),f=a(9),y=a.n(f),h=a(17),E=a.n(h),b=a(11),_=a.n(b),T=a(12),C=a.n(T),R=a(13),P=a.n(R),S=a(18),N=a.n(S),x=a(0),k=a.n(x),I=a(1),O=a.n(I),w=a(19),A=a(25),V=a.n(A),D=a(14),W=a.n(D),Y=a(114),L=a(1182),j=a(1186),M=W.a.api,U=W.a.select,q=W.a.constants,c=function(e){function t(){var e;v()(this,t);for(var n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=a.call.apply(a,[this].concat(i)),N()(E()(e),"onlyActiveOrWaitlist",function(){return e.props.registrations.filter(function(e){return("active"===e.data.attributes.status||"waitlist"===e.data.attributes.status)&&e.state.saved})}),N()(E()(e),"acceptingReservations",function(){var t=V()(E()(e),"props.event.data.attributes.registration.status");return"open"===t||"waitlist"===t}),e}_()(t,e);var a=n(t);return y()(t,[{key:"componentDidMount",value:function e(){this.props.fetchSegments(),this.props.fetchEvent(this.props.eventId),this.props.fetchUser(this.props.user.uuid),this.props.fetchRegistrations(this.props.eventId)}},{key:"componentDidUpdate",value:function e(t){var a=t.registrations.some(function(e){return e.state.syncing});a&&!this.props.registrations.some(function(e){return e.state.syncing})&&this.props.fetchEvent(this.props.eventId)}},{key:"render",value:function e(){var t=this.props,a=t.registrations,n=t.registrationsLoading,i=t.eventId;if(n)return k.a.createElement(Y.a,{loading:!0});var s=0>=this.onlyActiveOrWaitlist().length,r=null;s&&(r=this.acceptingReservations()?k.a.createElement(L.a,g()({},this.props,{eventId:i})):k.a.createElement("p",null,"Registrations are not being accepted at this time."));var o=0<a.length?k.a.createElement(j.a,{eventId:i}):null;return k.a.createElement("div",{className:"l--offset"},k.a.createElement("div",{className:"l--section"},r),k.a.createElement("div",{className:"l--section"},o))}}]),t}(k.a.Component);c.propTypes={registrations:O.a.array,event:O.a.object,user:O.a.object.isRequired,segments:O.a.arrayOf(O.a.object),eventId:O.a.string.isRequired,fetchEvent:O.a.func.isRequired,fetchUser:O.a.func.isRequired,fetchRegistrations:O.a.func.isRequired,fetchSegments:O.a.func.isRequired,registrationsLoading:O.a.bool.isRequired,eventsLoading:O.a.bool.isRequired,segmentsLoading:O.a.bool.isRequired},c.defaultProps={event:null,registrations:[],segments:[]};var G=function e(t,a){return{registrations:U.eventRegistrationsByEventByUser(a.eventId,a.user.uuid)(t),registrationsLoading:U.recordsAreLoading(q.TYPE_EVENT_REGISTRATION)(t),event:U.record(U.getIdentifier(q.TYPE_EVENT,a.eventId))(t),users:U.record(U.getIdentifier(q.TYPE_USER,a.user.uuid))(t),eventsLoading:U.recordIsLoading(q.TYPE_EVENT,a.eventId)(t),segments:U.recordOptions(q.TYPE_POPULATION_SEGMENT)(t),segmentsLoading:U.recordsAreLoading(q.TYPE_POPULATION_SEGMENT)(t)}},B=function e(t,a){return{fetchEvent:function e(a){t(M[q.TYPE_EVENT].fetchResource(a,{fields:N()({},q.TYPE_EVENT,["field_capacity_max","field_waitlist_max","field_event_register_period","field_event_user_reg_max","field_has_waitlist","field_must_register","registration"])}))},fetchUser:function e(a){t(M[q.TYPE_USER].fetchResource(a))},fetchSegments:function e(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{fields:N()({},q.TYPE_POPULATION_SEGMENT,["name","weight"])};t(M[q.TYPE_POPULATION_SEGMENT].fetchAll(a))},fetchRegistrations:function e(n){t(M[q.TYPE_EVENT_REGISTRATION].fetchAll({filters:{event:{value:n,path:"field_event.id"},user:{value:a.user.uuid,path:"field_user.id"}}}))}}};t.a=Object(w.b)(G,B)(c)},1182:function(e,t,a){"use strict";function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function i(e){for(var t,a=1;a<arguments.length;a++)t=null==arguments[a]?{}:arguments[a],a%2?n(Object(t),!0).forEach(function(a){L()(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))});return e}function s(e){var t=r();return function a(){var n,i=W()(e);if(t){var s=W()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return V()(this,n)}}function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function o(e){return M.a.createElement("div",{className:"form"},M.a.createElement("h2",{className:"form__heading"},"Number of Attendees?"),e.children)}var l=a(26),d=a.n(l),u=a(27),p=a.n(u),g=a(24),m=a.n(g),v=a(7),f=a.n(v),y=a(10),h=a.n(y),E=a(23),b=a.n(E),_=a(22),T=a.n(_),C=a(6),R=a.n(C),P=a(8),S=a.n(P),N=a(9),x=a.n(N),k=a(17),I=a.n(k),O=a(11),w=a.n(O),A=a(12),V=a.n(A),D=a(13),W=a.n(D),Y=a(18),L=a.n(Y),j=a(0),M=a.n(j),U=a(1),q=a.n(U),G=a(19),B=a(345),F=a(25),z=a.n(F),H=a(115),K=a.n(H),X=a(14),J=a.n(X),$=a(36),Q=a.n($),Z=a(1183),ee=a(42),te=a.n(ee),ae=a(332),ne=a(20),ie=J.a.actions,se=J.a.constants,re=J.a.select,oe=se;Object(ee.addValidationRule)("isRequired",function(e,t){return""!==t}),Object(ee.addValidationRule)("isPositive",function(e,t){return 0<=t}),Object(ee.addValidationRule)("isPositiveTotal",function(e){return 0<=e});var c={active:{button:"Register",dialogHeading:"Are you sure you want to register?"},waitlist:{button:"Join Waitlist",dialogHeading:"Are you sure you want to join the waitlist?"}},le=function e(t){var a=Object(B.a)(),n={id:a,type:oe.TYPE_EVENT_REGISTRATION,attributes:{status:t.status},relationships:{field_event:{data:{type:oe.TYPE_EVENT,id:t.event}},field_registrants:{data:K()(t.registrants,function(e,t){return{type:oe.TYPE_POPULATION_SEGMENT,id:t,meta:{count:e}}})},field_user:{data:{type:oe.TYPE_USER,id:t.user}}}};return n},de=function(e){function t(e){var n;return S()(this,t),n=a.call(this,e),L()(I()(n),"onOpenDialog",function(){n.setState({openDialog:!0})}),L()(I()(n),"onCloseDialog",function(){n.setState({openDialog:!1})}),L()(I()(n),"saveEntitytoStore",function(e){var t=n.props.save,a=le(e);return n.setState({uuid:a.id}),t(a),a.id}),n.state={openDialog:!1,canSubmit:!1,values:{},validationErrors:{},uuid:null},n.form=M.a.createRef(),n.disableButton=n.disableButton.bind(I()(n)),n.enableButton=n.enableButton.bind(I()(n)),n.getCurrentValues=n.getCurrentValues.bind(I()(n)),n.getValuesTotal=n.getValuesTotal.bind(I()(n)),n.saveEntitytoStore=n.saveEntitytoStore.bind(I()(n)),n.onInputChange=n.onInputChange.bind(I()(n)),n.onValueChange=n.onValueChange.bind(I()(n)),n.updateValue=n.updateValue.bind(I()(n)),n.updateValues=n.updateValues.bind(I()(n)),n.validateForm=n.validateForm.bind(I()(n)),n}w()(t,e);var a=s(t);return x()(t,[{key:"onInputChange",value:function e(t){var a=this;return function(e){a.updateValue(t,e.target.value)}}},{key:"onValueChange",value:function e(t){var a=this;return function(e){a.updateValue(t,e)}}},{key:"getCurrentValues",value:function e(){return this.form.current?this.form.current.getModel():this.props.values}},{key:"getValuesTotal",value:function e(){var t=this.getCurrentValues();return this.props.segments.reduce(function(e,a){return e+(t[a.key]||0)},0)}},{key:"getCapacity",value:function e(){return z()(this,"props.event.data.attributes.field_capacity_max")||0}},{key:"getRegistrationLimit",value:function e(){return z()(this,"props.event.data.attributes.field_event_user_reg_max")||0}},{key:"getRegistrationCount",value:function e(){return z()(this,"props.event.data.attributes.registration.total")}},{key:"getAvailableCapacity",value:function e(){return this.getCapacity()-this.getRegistrationCount()}},{key:"getWaitlistCapacity",value:function e(){return z()(this,"props.event.data.attributes.field_waitlist_max")||0}},{key:"getWaitlistRegistrationCount",value:function e(){return z()(this,"props.event.data.attributes.registration.total_waitlist")}},{key:"getAvailableWaitlistCapacity",value:function e(){return this.getWaitlistCapacity()-this.getWaitlistRegistrationCount()}},{key:"getAvailableText",value:function e(){var t=this.getCapacity();if(0===t)return"";var a=this.getAvailableCapacity();return 0===a?"This event is full.":1===a?"There is ".concat(a," of ").concat(t," seats available."):"There are ".concat(a," of ").concat(t," seats available.")}},{key:"getWaitlistAvailableText",value:function e(){var t=this.getWaitlistCapacity();if(0===t)return"";var a=this.getAvailableWaitlistCapacity();return 0===a?"The waitlist is full.":1===a?"There is only ".concat(a," of ").concat(t," seats available on the waitlist."):"There are only ".concat(a," of ").concat(t," seats available on the waitlist.")}},{key:"getLimitText",value:function e(){var t=this.getRegistrationLimit();return 0<t?"Limit ".concat(t," registrations per user"):null}},{key:"getStatusText",value:function e(){var t=this.getValuesTotal();return 0>=t?"You must register at least 1 attendee":this.isOverTotalCapacity(t)?"This event has a total capacity of ".concat(this.getCapacity()):this.isOverCapacity(t)&&this.hasWaitlist()&&this.isOverWaitlistCapacity(t)?"".concat(this.getAvailableText()," ").concat(this.getWaitlistAvailableText()):this.isOverCapacity(t)&&this.hasWaitlist()?"".concat(this.getAvailableText()," Would you like to join the waitlist?"):this.getAvailableText()}},{key:"hasWaitlist",value:function e(){return z()(this,"props.event.data.attributes.field_has_waitlist")}},{key:"isDisabled",value:function e(t){return!this.state.canSubmit||0>=t||this.isOverUserLimit(t)||this.isOverTotalCapacity(t)||this.isOverCapacity(t)&&!this.hasWaitlist()||this.isOverCapacity(t)&&this.isOverWaitlistCapacity(t)}},{key:"isOverCapacity",value:function e(t){return 0!==this.getCapacity()&&0>this.getAvailableCapacity()-t}},{key:"isOverTotalCapacity",value:function e(t){var a=this.getCapacity();return 0!==a&&0<a&&0>a-t}},{key:"isOverWaitlistCapacity",value:function e(t){return 0!==this.getWaitlistCapacity()&&0>this.getAvailableWaitlistCapacity()-t}},{key:"isOverUserLimit",value:function e(t){return 0!==this.getRegistrationLimit()&&0>this.getRegistrationLimit()-t}},{key:"disableButton",value:function e(){this.setState({canSubmit:!1})}},{key:"enableButton",value:function e(){this.setState({canSubmit:!0})}},{key:"updateValue",value:function e(t,a){var n=i(i({},this.props.values),{},L()({},t,a));this.setState({values:n})}},{key:"updateValues",value:function e(t){var a=i(i({},this.props.values),t);this.setState({values:a})}},{key:"validateForm",value:function e(t){0>=this.getValuesTotal(t)?this.setState({validationErrors:L()({},this.props.segments[0].key,"You must register at least one person")}):this.setState({validationErrors:{}})}},{key:"render",value:function e(){var t=this,a=this.props,n=a.values,i=a.segments,s=a.user,r=a.eventId,l=a.status,d=this.state.uuid,u=this.getValuesTotal(),p=l,g=null,m=this.getLimitText(),v=this.getStatusText();return("active"===l&&this.hasWaitlist()&&this.isOverCapacity(u)&&!this.isOverTotalCapacity(u)&&!this.isOverWaitlistCapacity(u)&&(p="waitlist"),0>=i.length)?M.a.createElement(o,null,M.a.createElement("p",null,"Loading segments")):(Q.a.intercept.user.telephone&&Q.a.intercept.user.email&&(g=M.a.createElement("div",{className:"l--section"},M.a.createElement("h4",{className:"section-title section-title--secondary"},"Your Current Contact Information"),M.a.createElement("small",null,"Telephone: ",Q.a.intercept.user.telephone,M.a.createElement("br",null),"Email: ",Q.a.intercept.user.email,M.a.createElement("br",null),M.a.createElement("em",null,"Need to update your info? After finishing your registration visit My Account > Settings")))),M.a.createElement("div",{className:"l--section"},M.a.createElement("div",{className:"l--subsection"},M.a.createElement(o,null,M.a.createElement(te.a,{className:"form__main",ref:this.form,onChange:this.validateForm,onValidSubmit:this.onOpenDialog,onValid:this.enableButton,onInvalid:this.disableButton,validationErrors:this.state.validationErrors},m&&M.a.createElement("p",{className:"action-button__message action-button__message--left"},m),v&&M.a.createElement("p",{className:"action-button__message action-button__message--left"},v),M.a.createElement("div",{className:"l--subsection input-group--find-room"},i.map(function(e){return M.a.createElement(Z.a,{label:e.value,value:n[e.key]||0,onChange:t.onValueChange(e.key),key:e.key,name:e.key,min:0,int:!0,required:n.meeting,validations:"isPositive",validationError:"Attendees must be a positive number"})}),M.a.createElement("p",null,"Total ",u)),M.a.createElement("div",{className:"form__actions"},M.a.createElement(ne.b,{variant:"contained",size:"small",color:"primary",type:"submit",className:"button button--primary",disabled:this.isDisabled(u)},c[p].button))),M.a.createElement(ae.a,{open:this.state.openDialog,onCancel:this.onCloseDialog,uuid:d,eventId:r,heading:c[p].dialogHeading,total:u,status:p,onConfirm:function e(){return t.saveEntitytoStore({user:s.uuid,event:r,status:p,registrants:t.getCurrentValues()})}}))),M.a.createElement("div",{className:"l--subsection"},g)))}}]),t}(M.a.Component);de.propTypes={segments:q.a.array,values:q.a.shape({}),user:q.a.object,eventId:q.a.string.isRequired,save:q.a.func.isRequired,status:q.a.string},de.defaultProps={segments:[],values:{},user:{},status:"active"};var ce=function e(t,a){var n=re.record(re.getIdentifier(oe.TYPE_EVENT,a.eventId))(t),i=z()(n,"data.attributes.registration.status"),s="waitlist"===i?"waitlist":"active";return{status:s}},ue=function e(t){return{save:function e(a){t(ie.add(a,oe.TYPE_EVENT_REGISTRATION,a.id))}}};t.a=Object(G.b)(ce,ue)(de)},1183:function(e,t,a){"use strict";function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function i(e){for(var t,a=1;a<arguments.length;a++)t=null==arguments[a]?{}:arguments[a],a%2?n(Object(t),!0).forEach(function(a){h()(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))});return e}function s(e){var t=r();return function a(){var n,i=W()(e);if(t){var s=W()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return V()(this,n)}}function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var o=a(26),l=a.n(o),d=a(27),c=a.n(d),u=a(23),p=a.n(u),g=a(22),m=a.n(g),v=a(24),f=a.n(v),y=a(18),h=a.n(y),E=a(7),b=a.n(E),_=a(6),T=a.n(_),C=a(10),R=a.n(C),P=a(62),S=a.n(P),N=a(8),x=a.n(N),k=a(9),I=a.n(k),O=a(11),w=a.n(O),A=a(12),V=a.n(A),D=a(13),W=a.n(D),Y=a(0),L=a.n(Y),j=a(1),M=a.n(j),U=a(42),q=a.n(U),G=a(1184),B=a.n(G),F=a(1185),z=a.n(F),H=a(15),K=a(20),X=function e(t){return{container:{display:"flex",flexWrap:"nowrap",flexDirection:"row",alignItems:"stretch"},inputWrapper:{borderBottom:"1px solid ".concat(t.palette.grey[300]),borderTop:"1px solid ".concat(t.palette.grey[300]),fontSize:"inherit",margin:0,textAlign:"center",display:"flex",alignItems:"center"},input:{appearance:"none",margin:0,textAlign:"center",fontSize:"inherit",width:"2em",padding:".25em 0 .25em .5em"},button:{fontSize:"1em",minWidth:0,padding:".4em"},buttonFirst:{borderRadius:".3em 0 0 .3em"},buttonLast:{borderRadius:"0 .3em .3em 0",marginRight:"1em"},icon:{fontSize:"1em !important",height:"1em !important",width:"1em !important"},label:{marginBottom:"auto",marginTop:"auto",fontWeight:"700",fontSize:"".concat(14/18,"em"),fontFamily:"inherit"}}},J=function(e){function t(){return x()(this,t),a.apply(this,arguments)}w()(t,e);var a=s(t);return I()(t,[{key:"render",value:function e(){var t=this,a=this.props,n=a.classes,i=a.step,s=a.label,r=a.onChange,o=a.min,l=a.max,d=a.int,c=a.required,u=a.name,p=this.props.getValue(),g="input-increment--".concat(u),m=function e(a){t.props.setValue(a),r(a)},v=function e(t){var a=d?parseInt:parseFloat,n=t.target.value?a(t.target.value):null;m(n)},f=function e(){return m(p-1)},y=function e(){return m(p+1)};return L.a.createElement("div",{className:"input input--incrementer"},L.a.createElement(K.l,{className:n.container,"aria-live":"polite"},L.a.createElement(K.b,{className:[n.button,n.buttonFirst].join(" "),"aria-label":"Decrement","aria-controls":g,variant:"contained",disabled:"number"==typeof o&&p<=o,onClick:f},L.a.createElement(B.a,{className:n.icon})),L.a.createElement(K.r,{disableUnderline:!0,className:n.inputWrapper,type:"number",value:p,onChange:v,step:i,id:g,inputProps:{className:n.input,step:i,min:o,max:l}}),L.a.createElement(K.b,{className:[n.button,n.buttonLast].join(" "),"aria-label":"Increment","aria-controls":g,variant:"contained",disabled:"number"==typeof l&&p>=l,onClick:y},L.a.createElement(z.a,{className:n.icon})),L.a.createElement(K.p,{htmlFor:g,className:n.label},s)))}}]),t}(L.a.PureComponent);J.propTypes=i(i({},U.propTypes),{},{onChange:M.a.func.isRequired,value:M.a.number,label:M.a.string,step:M.a.number,int:M.a.bool}),J.defaultProps=i(i({},U.defaultProps),{},{value:0,label:"Number",step:1}),t.a=Object(U.withFormsy)(Object(H.l)(X)(J))},1184:function(e,t,a){"use strict";var n=a(50);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),s=n(a(77)),r=(0,s.default)(i.default.createElement("path",{d:"M19 13H5v-2h14v2z"}),"Remove");t.default=r},1185:function(e,t,a){"use strict";var n=a(50);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),s=n(a(77)),r=(0,s.default)(i.default.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=r},1186:function(e,t,a){"use strict";function n(e){var t=e.classes,a=e.registrations,n=e.width,i=P(a);return Object(u.c)("md",n)?s.a.createElement(E.E,{className:t.table},s.a.createElement(E.H,null,s.a.createElement(E.I,null,s.a.createElement(E.G,null,"Registration"),s.a.createElement(E.G,null,"Status"),s.a.createElement(E.G,{align:"right"}))),s.a.createElement(E.F,null,i.map(function(e){return s.a.createElement(E.I,{key:e.id,className:"canceled"===e.status?t.canceled:""},s.a.createElement(E.G,null,s.a.createElement(f.a,{id:e.id})),s.a.createElement(E.G,null,e.status),s.a.createElement(E.G,{align:"right",className:t.lastColumn},s.a.createElement(h.a,{registrationId:e.id})))}))):s.a.createElement("div",{className:"l--subsection"},s.a.createElement("h4",null,"Existing Registrations"),i.map(function(e){return s.a.createElement("div",{key:e.id,className:"metadata metadata--".concat(e.status)},s.a.createElement("div",{className:"metadata__item metadata__item--block"},s.a.createElement("h4",{className:"metadate__title"},"Attendees:"),s.a.createElement("div",{className:"metadata__content"},s.a.createElement(f.a,{id:e.id}))),s.a.createElement("div",{className:"metadata__item metadata__item--inline"},s.a.createElement("h4",{className:"metadate__title"},"Status:"),s.a.createElement("div",{className:"metadata__content"},e.status)),s.a.createElement("div",{className:"metadata__footer"},s.a.createElement(h.a,{registrationId:e.id})))}))}var i=a(0),s=a.n(i),r=a(1),o=a.n(r),l=a(19),d=a(15),u=a(199),p=a(25),g=a.n(p),m=a(14),v=a.n(m),f=a(1187),y=a(210),h=a(400),E=a(20),b=v.a.constants,_=v.a.select,T=v.a.utils,C=b,c=T.getUserUuid(),R=function e(t){return{root:{width:"100%",marginTop:t.spacing(3),overflowX:"auto"},table:{minWidth:700},lastColumn:{paddingRight:0,"&:last-child":{paddingRight:0}},canceled:{opacity:".6"}}},P=function e(t){return t.map(function(e){return{id:g()(e,"data.id"),status:g()(e,"data.attributes.status")}})};n.propTypes={eventId:o.a.string.isRequired,registrations:o.a.array,classes:o.a.object.isRequired},n.defaultProps={registrations:[]};var S=function e(t,a){return{registrations:_.eventRegistrationsByEventByUser(a.eventId,a.userId||c)(t),registrationsLoading:_.recordsAreLoading(C.TYPE_EVENT_REGISTRATION)(t)}};t.a=Object(E.N)()(Object(d.l)(R)(Object(l.b)(S)(n)))},1187:function(e,t,a){"use strict";function n(e){var t=e.registration;return t?s.a.createElement(m.a,{key:u()(t,"data.id"),id:u()(t,"data.id"),valuePath:"data.relationships.field_registrants.data",type:y.TYPE_EVENT_REGISTRATION}):null}var i=a(0),s=a.n(i),r=a(1),o=a.n(r),l=a(19),d=a(25),u=a.n(d),p=a(14),g=a.n(p),m=a(410),v=g.a.select,f=g.a.constants,y=f;n.propTypes={registration:o.a.object},n.defaultProps={registration:null};var c=function e(t,a){var n=v.getIdentifier(y.TYPE_EVENT_REGISTRATION,a.id);return{registration:v.record(n)(t)}};t.a=Object(l.b)(c)(n)},138:function(e,t,a){var n,i,s,r=a(88),o=a(311),l=a(310),d=a(215),c=a(35),u=c.process,p=c.setImmediate,g=c.clearImmediate,m=c.MessageChannel,v=c.Dispatch,f=0,y={},h="onreadystatechange",E=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},b=function(e){E.call(e.data)};p&&g||(p=function e(t){for(var a=[],s=1;arguments.length>s;)a.push(arguments[s++]);return y[++f]=function(){o("function"==typeof t?t:Function(t),a)},n(f),f},g=function e(t){delete y[t]},"process"==a(105)(u)?n=function(e){u.nextTick(r(E,e,1))}:v&&v.now?n=function(e){v.now(r(E,e,1))}:m?(i=new m,s=i.port2,i.port1.onmessage=b,n=r(s.postMessage,s,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(e){c.postMessage(e+"","*")},c.addEventListener("message",b,!1)):h in d("script")?n=function(e){l.appendChild(d("script"))[h]=function(){l.removeChild(this),E.call(e)}}:n=function(e){setTimeout(r(E,e,1),0)}),e.exports={set:p,clear:g}},139:function(e,t,a){"use strict";function n(e){var t,a;this.promise=new e(function(e,n){if(t!==void 0||a!==void 0)throw TypeError("Bad Promise constructor");t=e,a=n}),this.resolve=i(t),this.reject=i(a)}var i=a(106);e.exports.f=function(e){return new n(e)}},14:function(e,t){e.exports=interceptClient},189:function(e,t,a){"use strict";function n(e,t){var a=t||0,n=s;return(n[e[a+0]]+n[e[a+1]]+n[e[a+2]]+n[e[a+3]]+"-"+n[e[a+4]]+n[e[a+5]]+"-"+n[e[a+6]]+n[e[a+7]]+"-"+n[e[a+8]]+n[e[a+9]]+"-"+n[e[a+10]]+n[e[a+11]]+n[e[a+12]]+n[e[a+13]]+n[e[a+14]]+n[e[a+15]]).toLowerCase()}for(var s=[],r=0;256>r;++r)s.push((r+256).toString(16).substr(1));t.a=n},202:function(e,t,a){"use strict";var n,i,s,r,o=a(143),l=a(35),d=a(88),c=a(136),u=a(43),p=a(61),g=a(106),m=a(239),v=a(240),f=a(307),y=a(138).set,h=a(244)(),E=a(139),b=a(245),_=a(246),T=a(247),C="Promise",R=l.TypeError,P=l.process,S=P&&P.versions,N=S&&S.v8||"",k=l[C],x="process"==c(P),I=function(){},O=i=E.f,w=!!function(){try{var e=k.resolve(1),t=(e.constructor={})[a(32)("species")]=function(e){e(I,I)};return(x||"function"==typeof PromiseRejectionEvent)&&e.then(I)instanceof t&&0!==N.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(t){}}(),A=function(e){var t;return!!(p(e)&&"function"==typeof(t=e.then))&&t},V=function(e,t){if(!e._n){e._n=!0;var a=e._c;h(function(){for(var n=e._v,s=1==e._s,r=0,i=function(t){var a,i,r,o=s?t.ok:t.fail,l=t.resolve,d=t.reject,c=t.domain;try{o?(!s&&(2==e._h&&Y(e),e._h=1),!0===o?a=n:(c&&c.enter(),a=o(n),c&&(c.exit(),r=!0)),a===t.promise?d(R("Promise-chain cycle")):(i=A(a))?i.call(a,l,d):l(a)):d(n)}catch(t){c&&!r&&c.exit(),d(t)}};a.length>r;)i(a[r++]);e._c=[],e._n=!1,t&&!e._h&&D(e)})}},D=function(e){y.call(l,function(){var t,a,n,i=e._v,s=W(e);if(s&&(t=b(function(){x?P.emit("unhandledRejection",i,e):(a=l.onunhandledrejection)?a({promise:e,reason:i}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",i)}),e._h=x||W(e)?2:1),e._a=void 0,s&&t.e)throw t.v})},W=function(e){return 1!==e._h&&0===(e._a||e._c).length},Y=function(e){y.call(l,function(){var t;x?P.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},L=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,!t._a&&(t._a=t._c.slice()),V(t,!0))},j=function(e){var t,a=this;if(!a._d){a._d=!0,a=a._w||a;try{if(a===e)throw R("Promise can't be resolved itself");(t=A(e))?h(function(){var n={_w:a,_d:!1};try{t.call(e,d(j,n,1),d(L,n,1))}catch(t){L.call(n,t)}}):(a._v=e,a._s=1,V(a,!1))}catch(t){L.call({_w:a,_d:!1},t)}}};w||(k=function e(t){m(this,k,C,"_h"),g(t),n.call(this);try{t(d(j,this,1),d(L,this,1))}catch(e){L.call(this,e)}},n=function e(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=a(248)(k.prototype,{then:function e(t,a){var n=O(f(this,k));return n.ok="function"!=typeof t||t,n.fail="function"==typeof a&&a,n.domain=x?P.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&V(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),s=function(){var e=new n;this.promise=e,this.resolve=d(j,e,1),this.reject=d(L,e,1)},E.f=O=function(e){return e===k||e===r?new s(e):i(e)}),u(u.G+u.W+u.F*!w,{Promise:k}),a(191)(k,C),a(249)(C),r=a(87)[C],u(u.S+u.F*!w,C,{reject:function e(t){var a=O(this),n=a.reject;return n(t),a.promise}}),u(u.S+u.F*(o||!w),C,{resolve:function e(t){return T(o&&this===r?k:this,t)}}),u(u.S+u.F*!(w&&a(250)(function(e){k.all(e)["catch"](I)})),C,{all:function e(t){var a=this,n=O(a),i=n.resolve,s=n.reject,r=b(function(){var e=[],n=0,r=1;v(t,!1,function(t){var o=n++,l=!1;e.push(void 0),r++,a.resolve(t).then(function(t){l||(l=!0,e[o]=t,--r||i(e))},s)}),--r||i(e)});return r.e&&s(r.v),n.promise},race:function e(t){var a=this,n=O(a),i=n.reject,s=b(function(){v(t,!1,function(e){a.resolve(e).then(n.resolve,i)})});return s.e&&i(s.v),n.promise}})},21:function(e,t){e.exports=ReactDOM},239:function(e,t){e.exports=function(e,t,a,n){if(!(e instanceof t)||n!==void 0&&n in e)throw TypeError(a+": incorrect invocation!");return e}},240:function(e,t,a){var n=a(88),i=a(241),s=a(242),r=a(40),o=a(116),l=a(243),d={},c={},t=e.exports=function(e,t,a,u,p){var g,m,v,y,h=p?function(){return e}:l(e),E=n(a,u,t?2:1),f=0;if("function"!=typeof h)throw TypeError(e+" is not iterable!");if(s(h)){for(g=o(e.length);g>f;f++)if(y=t?E(r(m=e[f])[0],m[1]):E(e[f]),y===d||y===c)return y;}else for(v=h.call(e);!(m=v.next()).done;)if(y=i(v,E,m.value,t),y===d||y===c)return y};t.BREAK=d,t.RETURN=c},241:function(e,t,a){var n=a(40);e.exports=function(t,e,a,i){try{return i?e(n(a)[0],a[1]):e(a)}catch(a){var s=t["return"];throw void 0!==s&&n(s.call(t)),a}}},242:function(e,t,a){var n=a(119),i=a(32)("iterator"),s=Array.prototype;e.exports=function(e){return e!==void 0&&(n.Array===e||s[i]===e)}},243:function(e,t,a){var n=a(136),i=a(32)("iterator"),s=a(119);e.exports=a(87).getIteratorMethod=function(e){if(e!=void 0)return e[i]||e["@@iterator"]||s[n(e)]}},244:function(e,t,a){var n=a(35),i=a(138).set,s=n.MutationObserver||n.WebKitMutationObserver,r=n.process,o=n.Promise,l="process"==a(105)(r);e.exports=function(){var t,a,d,e=function(){var e,n;for(l&&(e=r.domain)&&e.exit();t;){n=t.fn,t=t.next;try{n()}catch(n){throw t?d():a=void 0,n}}a=void 0,e&&e.enter()};if(l)d=function(){r.nextTick(e)};else if(s&&!(n.navigator&&n.navigator.standalone)){var c=!0,u=document.createTextNode("");new s(e).observe(u,{characterData:!0}),d=function(){u.data=c=!c}}else if(o&&o.resolve){var p=o.resolve(void 0);d=function(){p.then(e)}}else d=function(){i.call(n,e)};return function(e){var n={fn:e,next:void 0};a&&(a.next=n),t||(t=n,d()),a=n}}},245:function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},246:function(e,t,a){var n=a(35),i=n.navigator;e.exports=i&&i.userAgent||""},247:function(e,t,a){var n=a(40),i=a(61),s=a(139);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var a=s.f(e),r=a.resolve;return r(t),a.promise}},248:function(e,t,a){var n=a(107);e.exports=function(e,t,a){for(var i in t)n(e,i,t[i],a);return e}},249:function(e,t,a){"use strict";var n=a(35),i=a(78),s=a(69),r=a(32)("species");e.exports=function(e){var t=n[e];s&&t&&!t[r]&&i.f(t,r,{configurable:!0,get:function(){return this}})}},250:function(e,t,a){var n=a(32)("iterator"),i=!1;try{var s=[7][n]();s["return"]=function(){i=!0},Array.from(s,function(){throw 2})}catch(t){}e.exports=function(e,t){if(!t&&!i)return!1;var a=!1;try{var s=[7],r=s[n]();r.next=function(){return{done:a=!0}},s[n]=function(){return r},e(s)}catch(t){}return a}},252:function(e,t,a){"use strict";var n=a(0),i=a.n(n),s=a(1),r=a.n(s),o=a(14),l=a.n(o),d=a(253),u=l.a.constants,c={default:"The status of the registration is unknown",dirty:{waitlist:"Submitting registration to the waitlist",active:"Submitting registration",canceled:"Cancelling registration"},syncing:{waitlist:"Submitting registration to the waitlist",active:"Submitting registration",canceled:"Cancelling registration"},saved:{waitlist:"This registration has been added to the waitlist",active:"This registration has been confirmed",canceled:"This registration has been canceled"},error:{waitlist:"An error occured while adding to the waitlist",active:"An error occured while submitting this registration",canceled:"An error occured while cancelling this registration"}},p=function e(t){return i.a.createElement(d.a,{type:u.TYPE_EVENT_REGISTRATION,id:t.uuid,messages:c,statusPath:"data.attributes.status"})};p.propTypes={uuid:r.a.string.isRequired},t.a=p},253:function(e,t,a){"use strict";function n(e){var t=i();return function a(){var n,i=R()(e);if(t){var s=R()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return T()(this,n)}}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var s=a(7),r=a.n(s),o=a(6),l=a.n(o),d=a(10),c=a.n(d),u=a(108),p=a.n(u),g=a(8),m=a.n(g),v=a(9),f=a.n(v),y=a(17),h=a.n(y),E=a(11),b=a.n(E),_=a(12),T=a.n(_),C=a(13),R=a.n(C),P=a(0),S=a.n(P),N=a(1),x=a.n(N),k=a(14),I=a.n(k),O=a(19),w=a(25),A=a.n(w),V=a(20),D=I.a.select,W=function(e){function t(e){var n;return m()(this,t),n=a.call(this,e),n.getMessage=n.getMessage.bind(h()(n)),n}b()(t,e);var a=n(t);return f()(t,[{key:"getMessage",value:function e(t,a){var n=this.props.messages,i=n.default;if(!a)return i;if(t.syncing)return i=n.syncing[a],i;if(t.error){var s=n.error[a];return Array.isArray(t.error)&&(s=t.error.map(function(e){return e.detail.replace("Entity is not valid: ","")}).join(", ")),i=s,i}return t.dirty?(i=n.dirty[a],i):t.saved?(i=n.saved[a],i):i}},{key:"render",value:function e(){var t=this.props,a=t.entity,n=t.statusPath,i=this.getMessage(a.state,A()(a,n));return S.a.createElement("div",{className:"entity-status"},S.a.createElement("p",{className:"entity-status__message"},i),a.state.syncing&&S.a.createElement(V.f,{size:50}))}}]),t}(S.a.PureComponent);W.propTypes={type:x.a.string.isRequired,id:x.a.string.isRequired,statusPath:x.a.string.isRequired,entity:x.a.instanceOf(Object).isRequired,messages:x.a.shape({default:x.a.string,syncing:x.a.object,error:x.a.object,saved:x.a.object}).isRequired};var Y=function e(t,a){var n=D.getIdentifier(a.type,a.id),i=D.record(n)(t);return{entity:i}};t.a=Object(O.b)(Y)(W)},304:function(e,t,a){"use strict";function n(){if(!i)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(s)}t.a=n;var i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),s=new Uint8Array(16)},305:function(e,t,a){"use strict";function n(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,function(e){t.push(parseInt(e,16))}),t}function i(e){e=unescape(encodeURIComponent(e));for(var t=[],a=0;a<e.length;++a)t.push(e.charCodeAt(a));return t}var s=a(189),r="6ba7b810-9dad-11d1-80b4-00c04fd430c8",o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.a=function(e,t,a){function l(e,r,o,l){var d=o&&l||0;if("string"==typeof e&&(e=i(e)),"string"==typeof r&&(r=n(r)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(r)||16!==r.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var c=a(r.concat(e));if(c[6]=15&c[6]|t,c[8]=128|63&c[8],o)for(var u=0;16>u;++u)o[d+u]=c[u];return o||Object(s.a)(c)}try{l.name=e}catch(e){}return l.DNS=r,l.URL=o,l}},332:function(e,t,a){"use strict";function n(e){var t=i();return function a(){var n,i=j()(e);if(t){var s=j()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Y()(this,n)}}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function s(e){return z()(e,"data.attributes.field_capacity_max")||0}function r(e){return z()(e,"data.attributes.registration.total")}function o(e){return z()(e,"data.attributes.registration.status")}function l(e){return s(e)-r(e)}function d(e){return z()(e,"data.attributes.field_waitlist_max")||0}function u(e){return z()(e,"data.attributes.registration.total_waitlist")}function p(e){return d(e)-u(e)}function g(e){return 0<=["open","waitlist"].indexOf(o(e))}function m(e,t){return 0!==s(t)&&0>l(t)-e}function v(e,t){var a=s(t);return 0!==a&&0<a&&0>a-e}function f(e,t){return 0!==d(t)&&0>p(t)-e}function y(e,t,a){if(!g(t))return!1;return"active"===a?!m(e,t)&&!v(e,t):"waitlist"===a?!f(e,t)&&!v(e,t):!v(e,t)}var h=a(7),E=a.n(h),b=a(10),_=a.n(b),T=a(33),C=a.n(T),R=a(202),P=a.n(R),S=a(6),N=a.n(S),x=a(8),k=a.n(x),I=a(9),O=a.n(I),w=a(17),A=a.n(w),V=a(11),D=a.n(V),W=a(12),Y=a.n(W),L=a(13),j=a.n(L),M=a(0),U=a.n(M),q=a(1),G=a.n(q),B=a(19),F=a(25),z=a.n(F),H=a(14),K=a.n(H),X=a(121),J=a(114),$=a(252),Q=a(407),Z=a(20),ee=K.a.api,te=K.a.constants,ae=K.a.session,ne=K.a.select,ie=te,c="idle",se="conflict",re="saved",oe="error",le="loading",de="validate",ce=function(e){function t(e){var n;return k()(this,t),n=a.call(this,e),n.state={saved:!1,state:c,uuid:e.uuid||null},n.handleConfirm=n.handleConfirm.bind(A()(n)),n}D()(t,e);var a=n(t);return O()(t,[{key:"checkEventRegistrations",value:function e(t,a,n){var i=this,s=this.props.fetchEventRegistrations;return this.setState({state:de}),new Promise(function(e,o){try{s(t,function(t){var s=JSON.parse(t);y(a,s,n)?e(s):(o(),i.setState({state:se}))})}catch(e){o(e),i.setState({state:oe})}})}},{key:"handleConfirm",value:function e(){var t=this,a=this.props,n=a.onConfirm,i=a.save,s=a.eventId,r=a.total,o=a.status;if(this.props.uuid){var l=n();i(l),this.setState({saved:!0,uuid:l,state:le})}else this.checkEventRegistrations(s,r,o).then(function(e){var a=n();i(a),t.setState({saved:!0,uuid:a,state:le})}).catch(function(){t.setState({state:se})})}},{key:"render",value:function e(){var t=this.props,a=t.open,n=t.onCancel,i=t.heading,s=t.text,r=this.state,o=r.saved,l=r.uuid,d=r.state,c={confirmText:"Yes",cancelText:"No",heading:i,text:s,onConfirm:this.handleConfirm,onCancel:n},u=null;return o&&(l&&(u=U.a.createElement($.a,{uuid:l})),c={confirmText:null,cancelText:"Close",heading:"",onConfirm:function e(){window.location.href="/user"},onCancel:n}),d===se&&(c={confirmText:null,cancelText:"Close",heading:"Registration Incomplete",onConfirm:function e(){},text:"We were unable to confirm your registration. Please try again.",onCancel:function e(){n(),document.location.reload(!0)}}),U.a.createElement(X.a,C()({},c,{open:a}),u)}}]),t}(U.a.PureComponent);ce.propTypes={eventId:G.a.string,onConfirm:G.a.func,onCancel:G.a.func,open:G.a.bool,save:G.a.func.isRequired,uuid:G.a.string,heading:G.a.string,status:G.a.string,text:G.a.string,total:G.a.number},ce.defaultProps={eventId:null,onConfirm:null,onCancel:null,open:!1,uuid:null,heading:"Are you sure you want to register?",status:null,text:null,total:0};var ue=function e(){return{}},pe=function e(t){return{save:function e(a){ae.getToken().then(function(e){t(ee[ie.TYPE_EVENT_REGISTRATION].sync(a,{headers:{"X-CSRF-Token":e}}))}).catch(function(t){console.log("Unable to save registration",t)})}}};t.a=Object(B.b)(ue,pe)(Object(Q.a)(ce))},345:function(e,t,a){"use strict";var n=a(608),i=a(609),s=a(611);a.d(t,"a",function(){return s.a});var r=a(612)},36:function(e,t){e.exports=drupalSettings},400:function(e,t,a){"use strict";function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function i(e){for(var t,a=1;a<arguments.length;a++)t=null==arguments[a]?{}:arguments[a],a%2?n(Object(t),!0).forEach(function(a){b()(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))});return e}function s(e){var t=r();return function a(){var n,i=L()(e);if(t){var s=L()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return W()(this,n)}}function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function o(e){var t=[];switch(e){case"active":t=["cancel"];break;case"canceled":t=[];break;case"waitlist":t=["cancel"];break;default:}return t}var l=a(26),d=a.n(l),u=a(27),p=a.n(u),g=a(23),m=a.n(g),v=a(22),f=a.n(v),y=a(24),h=a.n(y),E=a(18),b=a.n(E),_=a(7),T=a.n(_),C=a(6),R=a.n(C),P=a(10),S=a.n(P),N=a(8),x=a.n(N),k=a(9),I=a.n(k),O=a(17),w=a.n(O),A=a(11),V=a.n(A),D=a(12),W=a.n(D),Y=a(13),L=a.n(Y),j=a(0),M=a.n(j),U=a(1),q=a.n(U),G=a(19),B=a(121),F=a(14),z=a.n(F),H=a(332),K=a(252),X=a(20),J=z.a.constants,$=z.a.api,Q=z.a.select,Z=J,c={default:{status:"",text:"",heading:""},cancel:{status:"canceled",heading:"Are you sure you want to cancel this registration?",text:null},deny:{status:"denied",heading:"Confirm deny",text:"Confirm deny"},approve:{status:"approved",heading:"Confirm approval",text:"Confirm approval"}},ee=function(e){function t(e){var n;return x()(this,t),n=a.call(this,e),n.state={open:!1,action:"default"},n.onCancel=n.onCancel.bind(w()(n)),n.onClick=n.onClick.bind(w()(n)),n.onClose=n.onClose.bind(w()(n)),n.onConfirm=n.props.onConfirm.bind(w()(n)),n}V()(t,e);var a=s(t);return I()(t,[{key:"onClose",value:function e(){this.onCancel()}},{key:"onCancel",value:function e(){this.setState({open:!1})}},{key:"onClick",value:function e(t){var a=this;return function(){a.setState({open:!0,action:t})}}},{key:"render",value:function e(){var t=this,a=this.props,n=a.entity,i=a.registrationId,s=a.status,r=o(s);return M.a.createElement("div",null,0<r.length&&r.map(function(e){return M.a.createElement(X.b,{key:e,onClick:t.onClick(e),variant:"cancel"===e?"outlined":"contained",color:"primary"},e)}),M.a.createElement(H.a,{open:this.state.open,onClose:this.onClose,onConfirm:this.onConfirm(n,this.state.action),onCancel:this.onCancel,uuid:i,text:c[this.state.action].text,heading:c[this.state.action].heading}))}}]),t}(j.PureComponent);ee.propTypes={registrationId:q.a.string.isRequired,entity:q.a.object,status:q.a.string,onConfirm:q.a.func},ee.defaultProps={entity:null,onConfirm:null,status:null};var te=function e(t,a){return{entity:Q.record({type:Z.TYPE_EVENT_REGISTRATION,id:a.registrationId})(t),status:Q.registrationStatus(a.registrationId)(t)}},ae=function e(t,a){var n=function e(n,s){return function(){var e=i({},n.data);return e.attributes.status=c[s].status,t(z.a.actions.edit(e,Z.TYPE_EVENT_REGISTRATION,a.registrationId)),a.registrationId}};return{onConfirm:n}};t.a=Object(G.b)(te,ae)(ee)},407:function(e,t,a){"use strict";function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function i(e){for(var t,a=1;a<arguments.length;a++)t=null==arguments[a]?{}:arguments[a],a%2?n(Object(t),!0).forEach(function(a){M()(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))});return e}function s(e){var t=r();return function a(){var n,i=L()(e);if(t){var s=L()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return W()(this,n)}}function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function o(e){var t,a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:200;return t=function(t){function n(e){var t;return x()(this,n),t=r.call(this,e),M()(w()(t),"handleResponse",function(e){return t.mounted&&t.setState({registrations:i(i({},t.state.registrations),{},{loading:!1,data:z()(JSON.parse(e),"data.attributes"),shouldUpdate:!1})}),e}),t.handleResponse=t.handleResponse.bind(w()(t)),t.fetchEventRegistrations=B()(t.fetchEventRegistrations,a).bind(w()(t)),t.state={registrations:{loading:!1,shouldUpdate:!1,data:null}},t}V()(n,t);var r=s(n);return I()(n,[{key:"componentDidMount",value:function e(){this.mounted=!0}},{key:"componentWillUnmount",value:function e(){this.mounted=!1}},{key:"fetchEventRegistrations",value:function e(t){var a=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(e){return e};this.setState({registrations:i(i({},this.state.registrations),{},{loading:!0,shouldUpdate:!1})});var s=X[$.TYPE_EVENT].getEndpoint({id:t,fields:M()({},$.TYPE_EVENT,["field_capacity_max","field_waitlist_max","field_event_register_period","field_event_user_reg_max","field_has_waitlist","field_must_register","registration"])});return fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(function(e){return e.text()}).then(function(e){return n(a.handleResponse(e))}).catch(function(t){a.mounted&&(console.log(t),a.setState({registrations:i(i({},a.state.registrations),{},{loading:!1,shouldUpdate:!1})}))})}},{key:"render",value:function t(){return q.a.createElement(e,S()({registrations:this.state.registrations,fetchEventRegistrations:this.fetchEventRegistrations},this.props))}}]),n}(q.a.Component),t}var l=a(26),d=a.n(l),u=a(27),p=a.n(u),g=a(23),m=a.n(g),v=a(22),f=a.n(v),y=a(24),h=a.n(y),E=a(7),b=a.n(E),_=a(6),T=a.n(_),C=a(10),R=a.n(C),P=a(33),S=a.n(P),N=a(8),x=a.n(N),k=a(9),I=a.n(k),O=a(17),w=a.n(O),A=a(11),V=a.n(A),D=a(12),W=a.n(D),Y=a(13),L=a.n(Y),j=a(18),M=a.n(j),U=a(0),q=a.n(U),G=a(59),B=a.n(G),F=a(25),z=a.n(F),H=a(14),K=a.n(H),X=K.a.api,J=K.a.constants,$=J;t.a=o},410:function(e,t,a){"use strict";function n(e){var t=e.tally;return s.a.createElement("p",null,t.map(function(e){return"".concat(e.count||0," ").concat(e.label)}).join(", "))}var i=a(0),s=a.n(i),r=a(1),o=a.n(r),l=a(19),d=a(15),u=a(25),p=a.n(u),g=a(14),m=a.n(g),v=m.a.constants,f=m.a.select,y=v,c={card:{maxWidth:345},media:{height:0,paddingTop:"56.25%"}};n.propTypes={tally:o.a.array},n.defaultProps={tally:[]};var h=function e(t,a){var n=f.getIdentifier(a.type,a.id),i=f.record(n)(t),s=f.records(y.TYPE_POPULATION_SEGMENT)(t),r=p()(i,a.valuePath),o=r.filter(function(e){return 0<p()(e,"meta.count")}).map(function(e){return{label:p()(s[e.id],"data.attributes.name"),count:p()(e,"meta.count")}});return{tally:o}};t.a=Object(l.b)(h)(Object(d.l)(c)(n))},50:function(e,t){function a(e){return e&&e.__esModule?e:{default:e}}e.exports=a},608:function(e,t,a){"use strict";function n(e,t,a){var c=t&&a||0,u=t||[];e=e||{};var p=e.node||s,g=void 0===e.clockseq?r:e.clockseq;if(null==p||null==g){var m=e.random||(e.rng||i.a)();null==p&&(p=s=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==g&&(g=r=16383&(m[6]<<8|m[7]))}var v=void 0===e.msecs?Date.now():e.msecs,f=void 0===e.nsecs?d+1:e.nsecs,y=v-l+(f-d)/1e4;if(0>y&&void 0===e.clockseq&&(g=16383&g+1),(0>y||v>l)&&void 0===e.nsecs&&(f=0),1e4<=f)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=v,d=f,r=g,v+=122192928e5;var h=(1e4*(268435455&v)+f)%4294967296;u[c++]=255&h>>>24,u[c++]=255&h>>>16,u[c++]=255&h>>>8,u[c++]=255&h;var E=268435455&1e4*(v/4294967296);u[c++]=255&E>>>8,u[c++]=255&E,u[c++]=16|15&E>>>24,u[c++]=255&E>>>16,u[c++]=128|g>>>8,u[c++]=255&g;for(var b=0;6>b;++b)u[c+b]=p[b];return t||Object(o.a)(u)}var s,r,i=a(304),o=a(189),l=0,d=0,c=n},609:function(e,t,a){"use strict";var n=a(305),i=a(610),s=Object(n.a)("v3",48,i.a),r=s},610:function(e,t,a){"use strict";function n(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var a=0;a<t.length;++a)e[a]=t.charCodeAt(a)}return s(o(l(e),8*e.length))}function s(e){for(var t=[],a=32*e.length,n="0123456789abcdef",s=0;s<a;s+=8){var i=255&e[s>>5]>>>s%32,r=parseInt(n.charAt(15&i>>>4)+n.charAt(15&i),16);t.push(r)}return t}function r(e){return(e+64>>>9<<4)+14+1}function o(e,t){e[t>>5]|=128<<t%32,e[r(t)-1]=t;for(var n=1732584193,a=-271733879,s=-1732584194,o=271733878,l=0;l<e.length;l+=16){var i=n,d=a,c=s,p=o;n=g(n,a,s,o,e[l],7,-680876936),o=g(o,n,a,s,e[l+1],12,-389564586),s=g(s,o,n,a,e[l+2],17,606105819),a=g(a,s,o,n,e[l+3],22,-1044525330),n=g(n,a,s,o,e[l+4],7,-176418897),o=g(o,n,a,s,e[l+5],12,1200080426),s=g(s,o,n,a,e[l+6],17,-1473231341),a=g(a,s,o,n,e[l+7],22,-45705983),n=g(n,a,s,o,e[l+8],7,1770035416),o=g(o,n,a,s,e[l+9],12,-1958414417),s=g(s,o,n,a,e[l+10],17,-42063),a=g(a,s,o,n,e[l+11],22,-1990404162),n=g(n,a,s,o,e[l+12],7,1804603682),o=g(o,n,a,s,e[l+13],12,-40341101),s=g(s,o,n,a,e[l+14],17,-1502002290),a=g(a,s,o,n,e[l+15],22,1236535329),n=m(n,a,s,o,e[l+1],5,-165796510),o=m(o,n,a,s,e[l+6],9,-1069501632),s=m(s,o,n,a,e[l+11],14,643717713),a=m(a,s,o,n,e[l],20,-373897302),n=m(n,a,s,o,e[l+5],5,-701558691),o=m(o,n,a,s,e[l+10],9,38016083),s=m(s,o,n,a,e[l+15],14,-660478335),a=m(a,s,o,n,e[l+4],20,-405537848),n=m(n,a,s,o,e[l+9],5,568446438),o=m(o,n,a,s,e[l+14],9,-1019803690),s=m(s,o,n,a,e[l+3],14,-187363961),a=m(a,s,o,n,e[l+8],20,1163531501),n=m(n,a,s,o,e[l+13],5,-1444681467),o=m(o,n,a,s,e[l+2],9,-51403784),s=m(s,o,n,a,e[l+7],14,1735328473),a=m(a,s,o,n,e[l+12],20,-1926607734),n=v(n,a,s,o,e[l+5],4,-378558),o=v(o,n,a,s,e[l+8],11,-2022574463),s=v(s,o,n,a,e[l+11],16,1839030562),a=v(a,s,o,n,e[l+14],23,-35309556),n=v(n,a,s,o,e[l+1],4,-1530992060),o=v(o,n,a,s,e[l+4],11,1272893353),s=v(s,o,n,a,e[l+7],16,-155497632),a=v(a,s,o,n,e[l+10],23,-1094730640),n=v(n,a,s,o,e[l+13],4,681279174),o=v(o,n,a,s,e[l],11,-358537222),s=v(s,o,n,a,e[l+3],16,-722521979),a=v(a,s,o,n,e[l+6],23,76029189),n=v(n,a,s,o,e[l+9],4,-640364487),o=v(o,n,a,s,e[l+12],11,-421815835),s=v(s,o,n,a,e[l+15],16,530742520),a=v(a,s,o,n,e[l+2],23,-995338651),n=f(n,a,s,o,e[l],6,-198630844),o=f(o,n,a,s,e[l+7],10,1126891415),s=f(s,o,n,a,e[l+14],15,-1416354905),a=f(a,s,o,n,e[l+5],21,-57434055),n=f(n,a,s,o,e[l+12],6,1700485571),o=f(o,n,a,s,e[l+3],10,-1894986606),s=f(s,o,n,a,e[l+10],15,-1051523),a=f(a,s,o,n,e[l+1],21,-2054922799),n=f(n,a,s,o,e[l+8],6,1873313359),o=f(o,n,a,s,e[l+15],10,-30611744),s=f(s,o,n,a,e[l+6],15,-1560198380),a=f(a,s,o,n,e[l+13],21,1309151649),n=f(n,a,s,o,e[l+4],6,-145523070),o=f(o,n,a,s,e[l+11],10,-1120210379),s=f(s,o,n,a,e[l+2],15,718787259),a=f(a,s,o,n,e[l+9],21,-343485551),n=u(n,i),a=u(a,d),s=u(s,c),o=u(o,p)}return[n,a,s,o]}function l(e){if(0===e.length)return[];for(var t=8*e.length,a=new Uint32Array(r(t)),n=0;n<t;n+=8)a[n>>5]|=(255&e[n/8])<<n%32;return a}function u(e,t){var a=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(a>>16);return n<<16|65535&a}function i(e,t){return e<<t|e>>>32-t}function p(e,n,a,r,o,s){return u(i(u(u(n,e),u(r,s)),o),a)}function g(e,a,n,i,r,o,s){return p(a&n|~a&i,e,a,r,o,s)}function m(e,a,n,i,r,o,s){return p(a&i|n&~i,e,a,r,o,s)}function v(e,a,n,i,r,o,s){return p(a^n^i,e,a,r,o,s)}function f(e,a,n,i,r,o,s){return p(n^(a|~i),e,a,r,o,s)}t.a=n},611:function(e,t,a){"use strict";function n(e,t,a){"string"==typeof e&&(t="binary"===e?new Uint8Array(16):null,e=null),e=e||{};var n=e.random||(e.rng||s.a)();if(n[6]=64|15&n[6],n[8]=128|63&n[8],t){for(var o=a||0,l=0;16>l;++l)t[o+l]=n[l];return t}return Object(r.a)(n)}var s=a(304),r=a(189);t.a=n},612:function(e,t,a){"use strict";var n=a(305),i=a(613),s=Object(n.a)("v5",80,i.a),r=s},613:function(e,t,a){"use strict";function n(e,t,a,n){return 0===e?t&a^~t&n:1===e?t^a^n:2===e?t&a^t&n^a&n:3===e?t^a^n:void 0}function i(e,t){return e<<t|e>>>32-t}function s(r){var o=Math.floor,u=[1518500249,1859775393,2400959708,3395469782],p=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof r){var g=unescape(encodeURIComponent(r));r=[];for(var m=0;m<g.length;++m)r.push(g.charCodeAt(m))}r.push(128);for(var v,f=r.length/4+2,l=Math.ceil(f/16),y=Array(l),h=0;h<l;++h){v=new Uint32Array(16);for(var E=0;16>E;++E)v[E]=r[64*h+4*E]<<24|r[64*h+4*E+1]<<16|r[64*h+4*E+2]<<8|r[64*h+4*E+3];y[h]=v}y[l-1][14]=8*(r.length-1)/4294967296,y[l-1][14]=o(y[l-1][14]),y[l-1][15]=4294967295&8*(r.length-1);for(var _,C=0;C<l;++C){_=new Uint32Array(80);for(var R=0;16>R;++R)_[R]=y[C][R];for(var t=16;80>t;++t)_[t]=i(_[t-3]^_[t-8]^_[t-14]^_[t-16],1);for(var P=p[0],a=p[1],b=p[2],c=p[3],d=p[4],e=0;80>e;++e){var S=o(e/20),s=i(P,5)+n(S,a,b,c)+d+u[S]+_[e]>>>0;d=c,c=b,b=i(a,30)>>>0,a=P,P=s}p[0]=p[0]+P>>>0,p[1]=p[1]+a>>>0,p[2]=p[2]+b>>>0,p[3]=p[3]+c>>>0,p[4]=p[4]+d>>>0}return[255&p[0]>>24,255&p[0]>>16,255&p[0]>>8,255&p[0],255&p[1]>>24,255&p[1]>>16,255&p[1]>>8,255&p[1],255&p[2]>>24,255&p[2]>>16,255&p[2]>>8,255&p[2],255&p[3]>>24,255&p[3]>>16,255&p[3]>>8,255&p[3],255&p[4]>>24,255&p[4]>>16,255&p[4]>>8,255&p[4]]}t.a=s},77:function(e,t,a){"use strict";function n(e,t){var a=r.default.memo(r.default.forwardRef(function(t,a){return r.default.createElement(o.default,(0,s.default)({ref:a},t),e)}));return!1,a.muiName=o.default.muiName,a}var i=a(50);Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var s=i(a(33)),r=i(a(0)),o=i(a(46))},80:function(e,t){e.exports=interceptTheme}},[1180]);