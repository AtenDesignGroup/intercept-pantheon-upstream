wpJsonpIntercept([5],{0:function(a,b){a.exports=React},1172:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=c.n(d),f=c(21),g=c.n(f),h=c(79),i=c(1173),j=Object(h.a)(i.a);Object(f.render)(e.a.createElement(j,null),document.getElementById("eventRegistrationRoot"))},1173:function(a,b,c){"use strict";var d=c(1174),e=c(1175);b.a=Object(d.a)(e.a)},1174:function(a,b,c){"use strict";var d=c(308),e=c.n(d),f=c(14),g=c.n(f),h=c(269),i={view:{type:d.UrlQueryParamTypes.string},showSaves:{type:d.UrlQueryParamTypes.boolean},showRegistrations:{type:d.UrlQueryParamTypes.boolean}},j=function a(b){return Object(h.a)(Object(d.addUrlProps)({urlPropsQueryConfig:i})(b))};b.a=j},1175:function(a,b,d){"use strict";function e(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function f(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?e(Object(b),!0).forEach(function(c){M()(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):e(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function g(a){return function(){var b,c=I()(a);if(h()){var d=I()(this).constructor;b=Reflect.construct(c,arguments,d)}else b=c.apply(this,arguments);return G()(this,b)}}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}function i(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"upcoming",b=1<arguments.length?arguments[1]:void 0,c="past"===a?"<":">",d=T()(new Date).toISOString();return{date:{path:b,value:d,operator:c}}}var j=d(26),k=d.n(j),l=d(27),m=d.n(l),n=d(23),o=d.n(n),p=d(22),q=d.n(p),r=d(24),s=d.n(r),t=d(7),u=d.n(t),v=d(6),w=d.n(v),x=d(10),y=d.n(x),z=d(8),A=d.n(z),B=d(9),C=d.n(B),D=d(16),E=d.n(D),F=d(11),G=d.n(F),H=d(12),I=d.n(H),J=d(13),K=d.n(J),L=d(17),M=d.n(L),N=d(0),O=d.n(N),P=d(1),Q=d.n(P),R=d(18),S=d(31),T=d.n(S),U=d(39),V=d.n(U),W=d(58),X=d.n(W),Y=d(14),Z=d.n(Y),$=d(201),_=d(207),aa=d(115),ba=d(235),ca=d(440),da=d(19),ea=Z.a.constants,fa=Z.a.api,ga=Z.a.select,ha=ea,c=V.a.intercept.parameters.user.uuid,ia=[{key:"past",value:"Past"},{key:"upcoming",value:"Upcoming"}],ja=function(a){function b(a){var c;return A()(this,b),c=d.call(this,a),M()(E()(c),"handleViewChange",function(a){c.props.onChangeView(a),c.doFetch(a)}),c.state={open:!1},c.handleViewChange=c.handleViewChange.bind(E()(c)),c.doFetch=X()(c.doFetch,300).bind(E()(c)),c.doFetchRegistrations=c.doFetchRegistrations.bind(E()(c)),c.doFetchSavedEvents=c.doFetchSavedEvents.bind(E()(c)),c}K()(b,a);var d=g(b);return C()(b,[{key:"componentDidMount",value:function a(){this.props.fetchAudiences({fields:M()({},ha.TYPE_AUDIENCE,["name"])}),this.doFetch(this.props.view)}},{key:"doFetchRegistrations",value:function a(b){this.props.fetchRegistrations({filters:f({user:{path:"field_user.id",value:c}},i(b,"field_event.field_date_time.end_value")),include:["field_event","field_event.image_primary","field_event.image_primary.field_media_image","field_event.field_location"],headers:{"X-Consumer-ID":Z.a.consumer}})}},{key:"doFetchSavedEvents",value:function a(b){this.props.fetchSavedEvents({filters:{user:{path:"uid.uid",value:c}},include:["flagged_entity","flagged_entity.image_primary","flagged_entity.image_primary.field_media_image","flagged_entity.field_location"],headers:{"X-Consumer-ID":Z.a.consumer}})}},{key:"doFetch",value:function a(b){this.props.showSaves&&this.doFetchSavedEvents(b),this.props.showRegistrations&&this.doFetchRegistrations(b)}},{key:"doConfirmAction",value:function a(){this.setState({open:!0,text:"Confirm cancel"})}},{key:"render",value:function a(){var b=this.props,c=this.handleViewChange,d=b.events,e=b.view,f=b.isLoading,g=function a(b){return b.map(function(a){return{key:a.data.id,node:O.a.createElement(_.a,{id:a.data.id,className:"event-teaser"})}})},h=0<d.length?O.a.createElement($.a,{heading:null,items:g(d)}):f?O.a.createElement(aa.a,{loading:f}):O.a.createElement("p",null,"No events available.");return O.a.createElement("div",{className:"l--main"},O.a.createElement("div",{className:"l--subsection"},O.a.createElement(ba.a,{options:ia,value:e,handleChange:c})),O.a.createElement("div",{className:"l--subsection"},h))}}]),b}(N.Component);ja.propTypes={events:Q.a.array,onChangeView:Q.a.func.isRequired,fetchAudiences:Q.a.func.isRequired,fetchRegistrations:Q.a.func.isRequired,fetchSavedEvents:Q.a.func.isRequired,view:Q.a.string,showSaves:Q.a.bool,showRegistrations:Q.a.bool},ja.defaultProps={events:[],view:"upcoming",showSaves:!0,showRegistrations:!0};var ka=function a(b,d){var e="past"===d.view?"usersPastEvents":"usersUpcomingEvents";return!1===d.showSaves&&(e="past"===d.view?"usersPastRegisteredEvents":"usersUpcomingRegisteredEvents"),!1===d.showRegistrations&&(e="past"===d.view?"usersPastSavedEvents":"usersUpcomingSavedEvents"),{events:ga[e](c)(b),registrations:ga.eventRegistrations(b),isLoading:ga.recordsAreLoading(ha.TYPE_EVENT_REGISTRATION)(b)||ga.recordsAreLoading(ha.TYPE_SAVED_EVENT)(b)}},la=function a(b,c){return{fetchAudiences:function a(c){b(fa[ha.TYPE_AUDIENCE].fetchAll(c))},fetchRegistrations:function a(c){b(fa[ha.TYPE_EVENT_REGISTRATION].fetchAll(c))},fetchSavedEvents:function a(c){b(fa[ha.TYPE_SAVED_EVENT].fetchAll(c))}}};b.a=Object(R.b)(ka,la)(ja)},14:function(a,b){a.exports=interceptClient},207:function(a,b,d){"use strict";function e(a){return function(){var b,c=v()(a);if(f()){var d=v()(this).constructor;b=Reflect.construct(c,arguments,d)}else b=c.apply(this,arguments);return t()(this,b)}}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}var g=d(7),h=d.n(g),i=d(6),j=d.n(i),k=d(10),l=d.n(k),m=d(109),n=d.n(m),o=d(8),p=d.n(o),q=d(9),r=d.n(q),s=d(11),t=d.n(s),u=d(12),v=d.n(u),w=d(13),x=d.n(w),y=d(0),z=d.n(y),A=d(1),B=d.n(A),C=d(18),D=d(31),E=d.n(D),F=d(25),G=d.n(F),H=d(14),I=d.n(H),J=d(160),K=d(208),L=d(209),M=d(210),N=I.a.select,O=I.a.constants,P=I.a.utils,Q=O,c=P.getUserUuid(),R=function(a){function b(){return p()(this,b),c.apply(this,arguments)}x()(b,a);var c=e(b);return r()(b,[{key:"render",value:function a(){var b=this.props,c=b.id,d=b.event,e=b.registrations,f=function a(b){return{id:b.id,name:G()(b,"attributes.name")}},g=E()(P.dateFromDrupal(d.attributes.field_date_time.value)),h=Array.isArray(d.relationships.field_event_audience)?d.relationships.field_event_audience.map(f).filter(function(a){return a.id}):[],i=0<h.length?z.a.createElement(J.a,{label:"Audience",key:"audience",values:h}):null,j=G()(d,"attributes.event_thumbnail");return z.a.createElement(K.a,{key:c,modifiers:[j?"with-image":"without-image"],image:j,supertitle:G()(d,"relationships.field_location.0.attributes.title"),title:d.attributes.title,titleUrl:d.attributes.path?d.attributes.path.alias:"/node/".concat(d.attributes.nid),date:{month:g.utcOffset(P.getUserUtcOffset()).format("MMM"),date:g.utcOffset(P.getUserUtcOffset()).format("D"),time:P.getTimeDisplay(g).replace(":00","")},description:G()(d,"attributes.field_text_teaser.value"),tags:[i],registrations:e,footer:function a(b){return z.a.createElement(z.a.Fragment,null,z.a.createElement(L.a,{eventId:b.event.id}),z.a.createElement(M.a,{eventId:b.event.id}))},event:d})}}]),b}(y.PureComponent);R.propTypes={id:B.a.string.isRequired,event:B.a.object.isRequired,registrations:B.a.array},R.defaultProps={registrations:[]};var S=function a(b,d){var e=N.getIdentifier(Q.TYPE_EVENT,d.id),f=N.eventRegistrationsByEventByUser(d.id,c)(b);return{event:N.bundle(e)(b),registrations:f}};b.a=Object(C.b)(S)(R)},21:function(a,b){a.exports=ReactDOM},235:function(a,b,c){"use strict";function d(a){return function(){var b,c=s()(a);if(e()){var d=s()(this).constructor;b=Reflect.construct(c,arguments,d)}else b=c.apply(this,arguments);return q()(this,b)}}function e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}var f=c(7),g=c.n(f),h=c(6),i=c.n(h),j=c(10),k=c.n(j),l=c(8),m=c.n(l),n=c(9),o=c.n(n),p=c(11),q=c.n(p),r=c(12),s=c.n(r),t=c(13),u=c.n(t),v=c(0),w=c.n(v),x=c(1),y=c.n(x),z=c(15),A=function a(b){return{checked:{fontWeight:"bold"},unChecked:{fontWeight:"bold",color:b.palette.secondary.main}}},B=function(a){function b(){return m()(this,b),c.apply(this,arguments)}u()(b,a);var c=d(b);return o()(b,[{key:"render",value:function a(){var b=this.props,c=b.value,d=b.handleChange,e=b.options,f=function a(b){return"view-switcher__button ".concat(b&&"view-switcher__button--active")};return w.a.createElement("div",{className:"view-switcher"},e.map(function(a){return w.a.createElement("button",{key:a.key,className:f(c===a.key),disabled:c===a.key,onClick:function b(){return d(a.key)}},a.value)}))}}]),b}(w.a.PureComponent);B.propTypes={handleChange:y.a.func.isRequired,value:y.a.string,options:y.a.arrayOf(y.a.shape({key:y.a.string,value:y.a.string})).isRequired},B.defaultProps={value:"list"},b.a=Object(z.l)(A)(B)},269:function(a,b,c){"use strict";function d(a){return function(){var b,c=u()(a);if(e()){var d=u()(this).constructor;b=Reflect.construct(c,arguments,d)}else b=c.apply(this,arguments);return s()(this,b)}}function e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}function f(a){return a.displayName||a.name||"Component"}function g(a){var b=function(b){function c(){return o()(this,c),e.apply(this,arguments)}w()(c,b);var e=d(c);return q()(c,[{key:"componentDidMount",value:function a(){var b=this;C.a.history.listen(function(){b.forceUpdate()})}},{key:"render",value:function b(){return A.a.createElement(a,this.props)}}]),c}(z.Component);return b.displayName="UpdateWithHistory(".concat(f(a),")"),b}var h=c(7),i=c.n(h),j=c(6),k=c.n(j),l=c(10),m=c.n(l),n=c(8),o=c.n(n),p=c(9),q=c.n(p),r=c(11),s=c.n(r),t=c(12),u=c.n(t),v=c(13),w=c.n(v),x=c(60),y=c.n(x),z=c(0),A=c.n(z),B=c(14),C=c.n(B);b.a=g},31:function(a,b){a.exports=moment},39:function(a,b){a.exports=drupalSettings},440:function(a,b,c){"use strict";function d(a){return function(){var b,c=u()(a);if(e()){var d=u()(this).constructor;b=Reflect.construct(c,arguments,d)}else b=c.apply(this,arguments);return s()(this,b)}}function e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}var f=c(7),g=c.n(f),h=c(6),i=c.n(h),j=c(10),k=c.n(j),l=c(8),m=c.n(l),n=c(9),o=c.n(n),p=c(16),q=c.n(p),r=c(11),s=c.n(r),t=c(12),u=c.n(t),v=c(13),w=c.n(v),x=c(17),y=c.n(x),z=c(0),A=c.n(z),B=c(1),C=c.n(B),D=c(116),E=c.n(D),F=c(31),G=c.n(F),H=c(14),I=c.n(H),J=c(207),K=c(201),L=I.a.utils,M=function(a){function b(){var a;m()(this,b);for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),y()(q()(a),"state",{}),a}w()(b,a);var c=d(b);return o()(b,[{key:"render",value:function a(){var b=this.props,c=b.events,d=b.loading,e=function a(b){return b.map(function(a){return{key:a,node:A.a.createElement(J.a,{id:a,className:"event-teaser"})}})},f=0<c.length?E()(c,function(a){return A.a.createElement(K.a,{heading:L.getDayDisplay(G.a.tz(a.date,L.getUserTimezone())),items:e(a.items),key:a.key})}):!d&&A.a.createElement("p",{key:0},"No events have been loaded.");return A.a.createElement("div",{className:"events-list"},f)}}]),b}(A.a.Component);M.propTypes={events:C.a.arrayOf(Object).isRequired,loading:C.a.bool},M.defaultProps={loading:!1},b.a=M},80:function(a,b){a.exports=interceptTheme}},[1172]);