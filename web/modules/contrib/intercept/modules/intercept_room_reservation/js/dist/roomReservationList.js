wpJsonpIntercept([8],{0:function(a,b){a.exports=React},11:function(a,b){a.exports=interceptClient},1242:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=c.n(d),f=c(19),g=c.n(f),h=c(77),i=c(1243),j=Object(h.a)(i.a)},1243:function(a,b,d){"use strict";var e=d(21),f=d.n(e),g=d(20),h=d.n(g),i=d(17),j=d.n(i),k=d(392),l=d.n(k),m=d(6),n=d.n(m),o=d(7),p=d.n(o),q=d(8),r=d.n(q),s=d(9),t=d.n(s),u=d(13),v=d.n(u),w=d(10),x=d.n(w),y=d(0),z=d.n(y),A=d(1),B=d.n(A),C=d(15),D=d(55),E=d.n(D),F=d(11),G=d.n(F),H=d(198),I=d(1244),J=d(117),K=d(596),L=G.a.constants,M=G.a.api,N=G.a.select,O=G.a.utils,P=L,c=O.getUserUuid(),Q=function(a){function b(a){var c;return n()(this,b),c=r()(this,t()(b).call(this,a)),c.state={open:!1},c.doFetch=E()(c.doFetch,500).bind(v()(c)),c}return x()(b,a),p()(b,[{key:"componentDidMount",value:function a(){this.doFetch()}},{key:"doFetch",value:function a(){this.props.fetchReservations({filters:{user:{path:"field_user.id",value:c}},include:["field_room","field_room.image_primary","field_room.image_primary.field_media_image"],replace:!0,headers:{"X-Consumer-ID":G.a.consumer}})}},{key:"doConfirmAction",value:function a(b){this.setState({open:!0,text:"Confirm cancel"})}},{key:"render",value:function a(){var b=this.props.reservations,c=function a(b){return b.map(function(a){return{key:a.data.id,node:z.a.createElement(K.a,{id:a.data.id,actions:z.a.createElement(I.a,{id:a.data.id,actions:["cancel"]}),className:"room-teaser"})}})},d=0<Object.values(b).length?z.a.createElement("div",null,z.a.createElement(H.a,{items:c(Object.values(b)),key:0}),z.a.createElement(J.a,{open:this.state.open,onClose:this.onDialogClose,onConfirm:this.onDialogConfirm,onCancel:this.onDialogCancel,text:this.state.text})):z.a.createElement("p",{key:0},"No rooms have been loaded.");return z.a.createElement("div",{className:"rooms-list"},d)}}]),b}(z.a.Component);Q.propTypes={fetchReservations:B.a.func.isRequired,reservations:B.a.object},Q.defaultProps={reservations:{}};var R=function a(b){return{reservations:N.roomReservations(b),reservationsLoading:N.recordsAreLoading(P.TYPE_ROOM_RESERVATION)(b)}},S=function a(b,c){return{fetchReservations:function a(c){b(M[P.TYPE_ROOM_RESERVATION].fetchAll(c))}}};b.a=Object(C.b)(R,S)(Q)},1244:function(a,b,d){"use strict";var e=d(6),f=d.n(e),g=d(7),h=d.n(g),i=d(8),j=d.n(i),k=d(9),l=d.n(k),m=d(10),n=d.n(m),o=d(0),p=d.n(o),q=d(1),r=d.n(q),s=d(117),t=d(11),u=d.n(t),v=d(15),w=d(16),x=u.a.constants,y=u.a.api,z=u.a.select,A=x,c={cancel:{status:"canceled",text:"Confirm cancellation",heading:"Confirm cancel"},deny:{status:"denied",text:"Confirm deny",heading:"Confirm deny"},approve:{status:"approved",text:"Confirm approval",heading:"Confirm approval"}},B=function(a){function b(a){var c;return f()(this,b),c=j()(this,l()(b).call(this,a)),c.state={open:!1,action:!1},c}return n()(b,a),h()(b,[{key:"onClose",value:function a(){this.onCancel()}},{key:"onCancel",value:function a(){this.setState({open:!1})}},{key:"onClick",value:function a(b){this.setState({open:!0,text:this.getActionProperties(b).text,heading:this.getActionProperties(b).text,action:b})}},{key:"getActionProperties",value:function a(b){return c[b]}},{key:"render",value:function a(){var b=this,c=this.props.actions;return p.a.createElement("div",null,p.a.createElement("div",null,c.map(function(a){return p.a.createElement(w.b,{key:a,onClick:b.onClick.bind(b,a)},a)})),p.a.createElement(s.a,{open:this.state.open,onClose:this.onClose.bind(this),onConfirm:this.props.onConfirm.bind(this),onCancel:this.onCancel.bind(this),text:this.state.text,heading:this.state.heading}))}}]),b}(o.PureComponent);B.propTypes={id:r.a.string.isRequired,actions:r.a.array.isRequired,reservation:r.a.object};var C=function a(b,c){return{reservation:z.record({type:A.TYPE_ROOM_RESERVATION,id:c.id})(b)}},D=function a(b,c){return{onConfirm:function a(c){var d=this.props.reservation.data;d.attributes.field_status=this.getActionProperties(this.state.action).status,b(u.a.actions.edit(d,A.TYPE_ROOM_RESERVATION,this.props.id)),b(u.a.api[A.TYPE_ROOM_RESERVATION].sync(this.props.id)),this.setState({open:!1})}}};b.a=Object(v.b)(C,D)(B)},19:function(a,b){a.exports=ReactDOM},392:function(a,b,c){var d=c(69),e=c(393)(!1);d(d.S,"Object",{values:function a(b){return e(b)}})},393:function(a,b,c){var d=c(65),e=c(145),f=c(116),g=c(234).f;a.exports=function(a){return function(b){for(var c,h=f(b),j=e(h),k=j.length,l=0,i=[];k>l;)c=j[l++],(!d||g.call(h,c))&&i.push(a?[c,h[c]]:h[c]);return i}}},596:function(a,b,d){"use strict";var e=d(6),f=d.n(e),g=d(7),h=d.n(g),i=d(8),j=d.n(i),k=d(9),l=d.n(k),m=d(10),n=d.n(m),o=d(0),p=d.n(o),q=d(1),r=d.n(q),s=d(15),t=d(23),u=d.n(t),v=d(11),w=d.n(v),x=d(158),y=d(205),z=w.a.select,A=w.a.constants,B=A,c=function(a){function b(){return f()(this,b),j()(this,l()(b).apply(this,arguments))}return n()(b,a),h()(b,[{key:"render",value:function a(){var b=this.props,c=b.id,d=b.reservation,e=b.actions;if(null===d)return null;var f=u()(d,"attributes.field_attendee_count"),g=f?p.a.createElement(x.a,{label:"Attendees",key:"attendee",values:{id:"attendee",name:f}}):null,h=u()(d,"attributes.field_status"),i=h?p.a.createElement(x.a,{label:"Status",key:"status",values:{id:"status",name:h}}):null,j=u()(d,"relationships.field_room"),k=u()(j,"attributes.room_thumbnail");return p.a.createElement(y.a,{key:c,title:u()(d,"attributes.title")||"",modifiers:[k?"with-image":"without-image"],image:k,supertitle:u()(d,"attributes.location"),footer:function a(b){return e},tags:[g,i],description:u()(d,"attributes.field_group_name")})}}]),b}(o.PureComponent);c.propTypes={id:r.a.string.isRequired,reservation:r.a.object,actions:r.a.array},c.defaultProps={image:null,actions:null,reservation:null};var C=function a(b,c){var d=z.getIdentifier(B.TYPE_ROOM_RESERVATION,c.id),e=z.bundle(d)(b);return{reservation:e}};b.a=Object(s.b)(C)(c)},78:function(a,b){a.exports=interceptTheme}},[1242]);