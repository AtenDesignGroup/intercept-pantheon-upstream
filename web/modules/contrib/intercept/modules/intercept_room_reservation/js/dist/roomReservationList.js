!function(t){function e(e){for(var r,a,s=e[0],c=e[1],u=e[2],f=0,p=[];f<s.length;f++)a=s[f],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);for(l&&l(e);p.length;)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(r=!1)}r&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},i={13:0},o=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window.wpJsonpIntercept=window.wpJsonpIntercept||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;o.push([870,0]),n()}({0:function(t,e){t.exports=React},115:function(t,e){t.exports=interceptTheme},194:function(t,e,n){"use strict";n(19),n(21),n(20);var r=n(10),i=n.n(r),o=n(9),a=n.n(o),s=n(11),c=n.n(s),u=n(12),l=n.n(u),f=n(5),p=n.n(f),d=n(0),h=n.n(d),v=n(1),m=n.n(v),y=n(18),b=n(7),g=n.n(b),R=n(6),O=n.n(R),_=n(58),C=n(116);function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var x=O.a.select,P=O.a.constants,k=function(t){c()(n,t);var e=E(n);function n(){return i()(this,n),e.apply(this,arguments)}return a()(n,[{key:"render",value:function(){var t=this.props,e=t.id,n=t.reservation,r=t.actions;if(null===n)return null;var i=g()(n,"attributes.field_attendee_count"),o=i?h.a.createElement(_.a,{label:"Attendees",key:"attendee",values:{id:"attendee",name:i}}):null,a=g()(n,"attributes.field_status"),s=a?h.a.createElement(_.a,{label:"Status",key:"status",values:{id:"status",name:a}}):null,c=g()(n,"relationships.field_room"),u=g()(c,"attributes.room_thumbnail");return h.a.createElement(C.a,{key:e,title:g()(n,"attributes.title")||"",modifiers:[u?"with-image":"without-image"],image:u,supertitle:g()(n,"attributes.location"),footer:function(t){return r},tags:[o,s],description:g()(n,"attributes.field_group_name")})}}]),n}(d.PureComponent);k.propTypes={id:m.a.string.isRequired,reservation:m.a.object,actions:m.a.array},k.defaultProps={image:null,actions:null,reservation:null};e.a=Object(y.b)((function(t,e){var n=x.getIdentifier(P.TYPE_ROOM_RESERVATION,e.id);return{reservation:x.bundle(n)(t)}}))(k)},243:function(t,e,n){var r=n(14),i=n(244).values;r({target:"Object",stat:!0},{values:function(t){return i(t)}})},244:function(t,e,n){var r=n(48),i=n(167),o=n(103),a=n(180).f,s=function(t){return function(e){for(var n,s=o(e),c=i(s),u=c.length,l=0,f=[];u>l;)n=c[l++],r&&!a.call(s,n)||f.push(t?[n,s[n]]:s[n]);return f}};t.exports={entries:s(!0),values:s(!1)}},25:function(t,e){t.exports=ReactDOM},6:function(t,e){t.exports=interceptClient},870:function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),o=(n(25),n(66)),a=(n(32),n(19),n(243),n(21),n(20),n(10)),s=n.n(a),c=n(9),u=n.n(c),l=n(3),f=n.n(l),p=n(11),d=n.n(p),h=n(12),v=n.n(h),m=n(5),y=n.n(m),b=n(1),g=n.n(b),R=n(18),O=n(46),_=n.n(O),C=n(6),E=n.n(C),x=n(146),P=n(77),k=n(387);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var S=E.a.constants,T=(E.a.api,E.a.select),A=S,D={cancel:{status:"canceled",text:"Confirm cancellation",heading:"Confirm cancel"},deny:{status:"denied",text:"Confirm deny",heading:"Confirm deny"},approve:{status:"approved",text:"Confirm approval",heading:"Confirm approval"}},M=function(t){d()(n,t);var e=j(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).state={open:!1,action:!1},r}return u()(n,[{key:"onClose",value:function(){this.onCancel()}},{key:"onCancel",value:function(){this.setState({open:!1})}},{key:"onClick",value:function(t){this.setState({open:!0,text:this.getActionProperties(t).text,heading:this.getActionProperties(t).text,action:t})}},{key:"getActionProperties",value:function(t){return D[t]}},{key:"render",value:function(){var t=this,e=this.props.actions;return i.a.createElement("div",null,i.a.createElement("div",null,e.map((function(e){return i.a.createElement(k.a,{key:e,onClick:t.onClick.bind(t,e)},e)}))),i.a.createElement(P.a,{open:this.state.open,onClose:this.onClose.bind(this),onConfirm:this.props.onConfirm.bind(this),onCancel:this.onCancel.bind(this),text:this.state.text,heading:this.state.heading}))}}]),n}(r.PureComponent);M.propTypes={id:g.a.string.isRequired,actions:g.a.array.isRequired,reservation:g.a.object};var w=Object(R.b)((function(t,e){return{reservation:T.record({type:A.TYPE_ROOM_RESERVATION,id:e.id})(t)}}),(function(t,e){return{onConfirm:function(e){var n=this.props.reservation.data;n.attributes.field_status=this.getActionProperties(this.state.action).status,t(E.a.actions.edit(n,A.TYPE_ROOM_RESERVATION,this.props.id)),t(E.a.api[A.TYPE_ROOM_RESERVATION].sync(this.props.id)),this.setState({open:!1})}}}))(M),I=n(194);function N(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var V=E.a.constants,Y=E.a.api,q=E.a.select,F=E.a.utils,J=V,L=F.getUserUuid(),U=function(t){d()(n,t);var e=N(n);function n(t){var r;return s()(this,n),(r=e.call(this,t)).state={open:!1},r.doFetch=_()(r.doFetch,500).bind(f()(r)),r}return u()(n,[{key:"componentDidMount",value:function(){this.doFetch()}},{key:"doFetch",value:function(){this.props.fetchReservations({filters:{user:{path:"field_user.id",value:L}},include:["field_room","field_room.image_primary","field_room.image_primary.field_media_image"],replace:!0,headers:{"X-Consumer-ID":E.a.consumer}})}},{key:"doConfirmAction",value:function(t){this.setState({open:!0,text:"Confirm cancel"})}},{key:"render",value:function(){var t,e=this.props.reservations,n=Object.values(e).length>0?i.a.createElement("div",null,i.a.createElement(x.a,{items:(t=Object.values(e),t.map((function(t){return{key:t.data.id,node:i.a.createElement(I.a,{id:t.data.id,actions:i.a.createElement(w,{id:t.data.id,actions:["cancel"]}),className:"room-teaser"})}}))),key:0}),i.a.createElement(P.a,{open:this.state.open,onClose:this.onDialogClose,onConfirm:this.onDialogConfirm,onCancel:this.onDialogCancel,text:this.state.text})):i.a.createElement("p",{key:0},"No rooms have been loaded.");return i.a.createElement("div",{className:"rooms-list"},n)}}]),n}(i.a.Component);U.propTypes={fetchReservations:g.a.func.isRequired,reservations:g.a.object},U.defaultProps={reservations:{}};var X=Object(R.b)((function(t){return{reservations:q.roomReservations(t),reservationsLoading:q.recordsAreLoading(J.TYPE_ROOM_RESERVATION)(t)}}),(function(t,e){return{fetchReservations:function(e){t(Y[J.TYPE_ROOM_RESERVATION].fetchAll(e))}}}))(U);Object(o.a)(X)}});