wpJsonpIntercept([7],{0:function(a,b){a.exports=React},1102:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=c.n(d),f=c(14),g=c.n(f),h=c(82),i=c(1103),j=Object(h.a)(i.a)},1103:function(a,b,d){"use strict";var e=d(51),f=d.n(e),g=d(69),h=d.n(g),i=d(535),j=d.n(i),k=d(4),l=d.n(k),m=d(5),n=d.n(m),o=d(8),p=d.n(o),q=d(9),r=d.n(q),s=d(10),t=d.n(s),u=d(15),v=d.n(u),w=d(0),x=d.n(w),y=d(1),z=d.n(y),A=d(16),B=d(53),C=d.n(B),D=d(13),E=d.n(D),F=d(203),G=d(1104),H=d(116),I=d(711),J=E.a.constants,K=E.a.api,L=E.a.select,M=E.a.utils,N=J,c=M.getUserUuid(),O=function(a){function b(a){var c;return l()(this,b),c=p()(this,r()(b).call(this,a)),c.state={open:!1},c.doFetch=C()(c.doFetch,500).bind(v()(v()(c))),c}return t()(b,a),n()(b,[{key:"componentDidMount",value:function a(){this.doFetch()}},{key:"doFetch",value:function a(){this.props.fetchReservations({filters:{user:{path:"field_user.id",value:c}},include:["field_room","field_room.image_primary","field_room.image_primary.field_media_image"],replace:!0,headers:{"X-Consumer-ID":E.a.consumer}})}},{key:"doConfirmAction",value:function a(b){this.setState({open:!0,text:"Confirm cancel"})}},{key:"render",value:function a(){var b=this.props.reservations,c=function a(b){return b.map(function(a){return{key:a.data.id,node:x.a.createElement(I.a,{id:a.data.id,actions:x.a.createElement(G.a,{id:a.data.id,actions:["cancel"]}),className:"room-teaser"})}})},d=0<Object.values(b).length?x.a.createElement("div",null,x.a.createElement(F.a,{items:c(Object.values(b)),key:0}),x.a.createElement(H.a,{open:this.state.open,onClose:this.onDialogClose,onConfirm:this.onDialogConfirm,onCancel:this.onDialogCancel,text:this.state.text})):x.a.createElement("p",{key:0},"No rooms have been loaded.");return x.a.createElement("div",{className:"rooms-list"},d)}}]),b}(x.a.Component);O.propTypes={fetchReservations:z.a.func.isRequired,reservations:z.a.object},O.defaultProps={reservations:{}};var P=function a(b){return{reservations:L.roomReservations(b),reservationsLoading:L.recordsAreLoading(N.TYPE_ROOM_RESERVATION)(b)}},Q=function a(b,c){return{fetchReservations:function a(c){b(K[N.TYPE_ROOM_RESERVATION].fetchAll(c))}}};b.a=Object(A.b)(P,Q)(O)},1104:function(a,b,d){"use strict";var e=d(4),f=d.n(e),g=d(5),h=d.n(g),i=d(8),j=d.n(i),k=d(9),l=d.n(k),m=d(10),n=d.n(m),o=d(0),p=d.n(o),q=d(1),r=d.n(q),s=d(25),t=d.n(s),u=d(116),v=d(13),w=d.n(v),x=d(16),y=w.a.constants,z=w.a.api,A=w.a.select,B=y,c={cancel:{status:"canceled",text:"Confirm cancellation",heading:"Confirm cancel"},deny:{status:"denied",text:"Confirm deny",heading:"Confirm deny"},approve:{status:"approved",text:"Confirm approval",heading:"Confirm approval"}},C=function(a){function b(a){var c;return f()(this,b),c=j()(this,l()(b).call(this,a)),c.state={open:!1,action:!1},c}return n()(b,a),h()(b,[{key:"onClose",value:function a(){this.onCancel()}},{key:"onCancel",value:function a(){this.setState({open:!1})}},{key:"onClick",value:function a(b){this.setState({open:!0,text:this.getActionProperties(b).text,heading:this.getActionProperties(b).text,action:b})}},{key:"getActionProperties",value:function a(b){return c[b]}},{key:"render",value:function a(){var b=this,c=this.props.actions;return p.a.createElement("div",null,p.a.createElement("div",null,c.map(function(a){return p.a.createElement(t.a,{key:a,onClick:b.onClick.bind(b,a)},a)})),p.a.createElement(u.a,{open:this.state.open,onClose:this.onClose.bind(this),onConfirm:this.props.onConfirm.bind(this),onCancel:this.onCancel.bind(this),text:this.state.text,heading:this.state.heading}))}}]),b}(o.PureComponent);C.propTypes={id:r.a.string.isRequired,actions:r.a.array.isRequired,reservation:r.a.object};var D=function a(b,c){return{reservation:A.record({type:B.TYPE_ROOM_RESERVATION,id:c.id})(b)}},E=function a(b,c){return{onConfirm:function a(c){var d=this.props.reservation.data;d.attributes.field_status=this.getActionProperties(this.state.action).status,b(w.a.actions.edit(d,B.TYPE_ROOM_RESERVATION,this.props.id)),b(w.a.api[B.TYPE_ROOM_RESERVATION].sync(this.props.id)),this.setState({open:!1})}}};b.a=Object(x.b)(D,E)(C)},13:function(a,b){a.exports=interceptClient},14:function(a,b){a.exports=ReactDOM},535:function(a,b,c){var d=c(81),e=c(536)(!1);d(d.S,"Object",{values:function a(b){return e(b)}})},536:function(a,b,c){var d=c(150),e=c(221),f=c(537).f;a.exports=function(a){return function(b){for(var c,g=e(b),h=d(g),j=h.length,k=0,i=[];j>k;)f.call(g,c=h[k++])&&i.push(a?[c,g[c]]:g[c]);return i}}},537:function(a,b){b.f={}.propertyIsEnumerable},711:function(a,b,d){"use strict";var e=d(4),f=d.n(e),g=d(5),h=d.n(g),i=d(8),j=d.n(i),k=d(9),l=d.n(k),m=d(10),n=d.n(m),o=d(0),p=d.n(o),q=d(1),r=d.n(q),s=d(16),t=d(20),u=d.n(t),v=d(13),w=d.n(v),x=d(166),y=d(213),z=w.a.select,A=w.a.constants,B=A,c=function(a){function b(){return f()(this,b),j()(this,l()(b).apply(this,arguments))}return n()(b,a),h()(b,[{key:"render",value:function a(){var b=this.props,c=b.id,d=b.reservation,e=b.actions;if(null===d)return null;var f=u()(d,"attributes.field_attendee_count"),g=f?p.a.createElement(x.a,{label:"Attendees",key:"attendee",values:{id:"attendee",name:f}}):null,h=u()(d,"attributes.field_status"),i=h?p.a.createElement(x.a,{label:"Status",key:"status",values:{id:"status",name:h}}):null,j=u()(d,"relationships.field_room"),k=u()(j,"attributes.room_thumbnail");return p.a.createElement(y.a,{key:c,title:u()(d,"attributes.title")||"",modifiers:[k?"with-image":"without-image"],image:k,supertitle:u()(d,"attributes.location"),footer:function a(b){return e},tags:[g,i],description:u()(d,"attributes.field_group_name")})}}]),b}(o.PureComponent);c.propTypes={id:r.a.string.isRequired,reservation:r.a.object,actions:r.a.array},c.defaultProps={image:null,actions:null,reservation:null};var C=function a(b,c){var d=z.getIdentifier(B.TYPE_ROOM_RESERVATION,c.id),e=z.bundle(d)(b);return{reservation:e}};b.a=Object(s.b)(C)(c)},83:function(a,b){a.exports=interceptTheme}},[1102]);