wpJsonpIntercept([8],{0:function(a,b){a.exports=React},1248:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=c.n(d),f=c(21),g=c.n(f),h=c(79),i=c(1249),j=Object(h.a)(i.a)},1249:function(a,b,d){"use strict";function e(a){return function(){var b,c=B()(a);if(f()){var d=B()(this).constructor;b=Reflect.construct(c,arguments,d)}else b=c.apply(this,arguments);return z()(this,b)}}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}var g=d(7),h=d.n(g),i=d(10),j=d.n(i),k=d(23),l=d.n(k),m=d(22),n=d.n(m),o=d(6),p=d.n(o),q=d(398),r=d.n(q),s=d(8),t=d.n(s),u=d(9),v=d.n(u),w=d(16),x=d.n(w),y=d(11),z=d.n(y),A=d(12),B=d.n(A),C=d(13),D=d.n(C),E=d(0),F=d.n(E),G=d(1),H=d.n(G),I=d(18),J=d(58),K=d.n(J),L=d(14),M=d.n(L),N=d(201),O=d(1250),P=d(122),Q=d(602),R=M.a.constants,S=M.a.api,T=M.a.select,U=M.a.utils,V=R,c=U.getUserUuid(),W=function(a){function b(a){var c;return t()(this,b),c=d.call(this,a),c.state={open:!1},c.doFetch=K()(c.doFetch,500).bind(x()(c)),c}D()(b,a);var d=e(b);return v()(b,[{key:"componentDidMount",value:function a(){this.doFetch()}},{key:"doFetch",value:function a(){this.props.fetchReservations({filters:{user:{path:"field_user.id",value:c}},include:["field_room","field_room.image_primary","field_room.image_primary.field_media_image"],replace:!0,headers:{"X-Consumer-ID":M.a.consumer}})}},{key:"doConfirmAction",value:function a(b){this.setState({open:!0,text:"Confirm cancel"})}},{key:"render",value:function a(){var b=this.props.reservations,c=function a(b){return b.map(function(a){return{key:a.data.id,node:F.a.createElement(Q.a,{id:a.data.id,actions:F.a.createElement(O.a,{id:a.data.id,actions:["cancel"]}),className:"room-teaser"})}})},d=0<Object.values(b).length?F.a.createElement("div",null,F.a.createElement(N.a,{items:c(Object.values(b)),key:0}),F.a.createElement(P.a,{open:this.state.open,onClose:this.onDialogClose,onConfirm:this.onDialogConfirm,onCancel:this.onDialogCancel,text:this.state.text})):F.a.createElement("p",{key:0},"No rooms have been loaded.");return F.a.createElement("div",{className:"rooms-list"},d)}}]),b}(F.a.Component);W.propTypes={fetchReservations:H.a.func.isRequired,reservations:H.a.object},W.defaultProps={reservations:{}};var X=function a(b){return{reservations:T.roomReservations(b),reservationsLoading:T.recordsAreLoading(V.TYPE_ROOM_RESERVATION)(b)}},Y=function a(b,c){return{fetchReservations:function a(c){b(S[V.TYPE_ROOM_RESERVATION].fetchAll(c))}}};b.a=Object(I.b)(X,Y)(W)},1250:function(a,b,d){"use strict";function e(a){return function(){var b,c=t()(a);if(f()){var d=t()(this).constructor;b=Reflect.construct(c,arguments,d)}else b=c.apply(this,arguments);return r()(this,b)}}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}var g=d(7),h=d.n(g),i=d(6),j=d.n(i),k=d(10),l=d.n(k),m=d(8),n=d.n(m),o=d(9),p=d.n(o),q=d(11),r=d.n(q),s=d(12),t=d.n(s),u=d(13),v=d.n(u),w=d(0),x=d.n(w),y=d(1),z=d.n(y),A=d(122),B=d(14),C=d.n(B),D=d(18),E=d(19),F=C.a.constants,G=C.a.api,H=C.a.select,I=F,c={cancel:{status:"canceled",text:"Confirm cancellation",heading:"Confirm cancel"},deny:{status:"denied",text:"Confirm deny",heading:"Confirm deny"},approve:{status:"approved",text:"Confirm approval",heading:"Confirm approval"}},J=function(a){function b(a){var c;return n()(this,b),c=d.call(this,a),c.state={open:!1,action:!1},c}v()(b,a);var d=e(b);return p()(b,[{key:"onClose",value:function a(){this.onCancel()}},{key:"onCancel",value:function a(){this.setState({open:!1})}},{key:"onClick",value:function a(b){this.setState({open:!0,text:this.getActionProperties(b).text,heading:this.getActionProperties(b).text,action:b})}},{key:"getActionProperties",value:function a(b){return c[b]}},{key:"render",value:function a(){var b=this,c=this.props.actions;return x.a.createElement("div",null,x.a.createElement("div",null,c.map(function(a){return x.a.createElement(E.b,{key:a,onClick:b.onClick.bind(b,a)},a)})),x.a.createElement(A.a,{open:this.state.open,onClose:this.onClose.bind(this),onConfirm:this.props.onConfirm.bind(this),onCancel:this.onCancel.bind(this),text:this.state.text,heading:this.state.heading}))}}]),b}(w.PureComponent);J.propTypes={id:z.a.string.isRequired,actions:z.a.array.isRequired,reservation:z.a.object};var K=function a(b,c){return{reservation:H.record({type:I.TYPE_ROOM_RESERVATION,id:c.id})(b)}},L=function a(b,c){return{onConfirm:function a(c){var d=this.props.reservation.data;d.attributes.field_status=this.getActionProperties(this.state.action).status,b(C.a.actions.edit(d,I.TYPE_ROOM_RESERVATION,this.props.id)),b(C.a.api[I.TYPE_ROOM_RESERVATION].sync(this.props.id)),this.setState({open:!1})}}};b.a=Object(D.b)(K,L)(J)},14:function(a,b){a.exports=interceptClient},21:function(a,b){a.exports=ReactDOM},398:function(a,b,c){var d=c(67),e=c(399)(!1);d(d.S,"Object",{values:function a(b){return e(b)}})},399:function(a,b,c){var d=c(68),e=c(147),f=c(119),g=c(236).f;a.exports=function(a){return function(b){for(var c,h=f(b),j=e(h),k=j.length,l=0,i=[];k>l;)c=j[l++],(!d||g.call(h,c))&&i.push(a?[c,h[c]]:h[c]);return i}}},602:function(a,b,d){"use strict";function e(a){return function(){var b,c=t()(a);if(f()){var d=t()(this).constructor;b=Reflect.construct(c,arguments,d)}else b=c.apply(this,arguments);return r()(this,b)}}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}var g=d(7),h=d.n(g),i=d(6),j=d.n(i),k=d(10),l=d.n(k),m=d(8),n=d.n(m),o=d(9),p=d.n(o),q=d(11),r=d.n(q),s=d(12),t=d.n(s),u=d(13),v=d.n(u),w=d(0),x=d.n(w),y=d(1),z=d.n(y),A=d(18),B=d(25),C=d.n(B),D=d(14),E=d.n(D),F=d(160),G=d(208),H=E.a.select,I=E.a.constants,J=I,c=function(a){function b(){return n()(this,b),c.apply(this,arguments)}v()(b,a);var c=e(b);return p()(b,[{key:"render",value:function a(){var b=this.props,c=b.id,d=b.reservation,e=b.actions;if(null===d)return null;var f=C()(d,"attributes.field_attendee_count"),g=f?x.a.createElement(F.a,{label:"Attendees",key:"attendee",values:{id:"attendee",name:f}}):null,h=C()(d,"attributes.field_status"),i=h?x.a.createElement(F.a,{label:"Status",key:"status",values:{id:"status",name:h}}):null,j=C()(d,"relationships.field_room"),k=C()(j,"attributes.room_thumbnail");return x.a.createElement(G.a,{key:c,title:C()(d,"attributes.title")||"",modifiers:[k?"with-image":"without-image"],image:k,supertitle:C()(d,"attributes.location"),footer:function a(b){return e},tags:[g,i],description:C()(d,"attributes.field_group_name")})}}]),b}(w.PureComponent);c.propTypes={id:z.a.string.isRequired,reservation:z.a.object,actions:z.a.array},c.defaultProps={image:null,actions:null,reservation:null};var K=function a(b,c){var d=H.getIdentifier(J.TYPE_ROOM_RESERVATION,c.id),e=H.bundle(d)(b);return{reservation:e}};b.a=Object(A.b)(K)(c)},80:function(a,b){a.exports=interceptTheme}},[1248]);