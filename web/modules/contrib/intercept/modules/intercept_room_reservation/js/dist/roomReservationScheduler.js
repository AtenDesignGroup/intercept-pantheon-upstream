!function(e){function t(t){for(var r,i,c=t[0],s=t[1],l=t[2],d=0,f=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(u&&u(t);f.length;)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={14:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window.wpJsonpIntercept=window.wpJsonpIntercept||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;o.push([861,0]),n()}({0:function(e,t){e.exports=React},100:function(e,t,n){var r=n(858),a=n(859),o=n(463),i=n(860);e.exports=function(e,t){return r(e)||a(e,t)||o(e,t)||i()}},116:function(e,t){e.exports=interceptTheme},16:function(e,t){e.exports=moment},168:function(e,t,n){var r=n(223),a=n(247),o=n(248);e.exports=function(e,t){return o(a(e,t,r),e+"")}},193:function(e,t,n){var r=n(152),a=n(153),o=n(251),i=n(311);e.exports=function(e,t){if(null==e)return{};var n=r(i(e),(function(e){return[e]}));return t=a(t),o(e,n,(function(e,n){return t(e,n[0])}))}},25:function(e,t){e.exports=ReactDOM},311:function(e,t,n){var r=n(349),a=n(312),o=n(314);e.exports=function(e){return r(e,o,a)}},312:function(e,t,n){var r=n(302),a=n(313),o=n(350),i=n(352),c=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=a(e);return t}:i;e.exports=c},313:function(e,t,n){var r=n(347)(Object.getPrototypeOf,Object);e.exports=r},314:function(e,t,n){var r=n(345),a=n(315),o=n(142);e.exports=function(e){return o(e)?r(e,!0):a(e)}},315:function(e,t,n){var r=n(134),a=n(298),o=n(316),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=a(e),n=[];for(var c in e)("constructor"!=c||!t&&i.call(e,c))&&n.push(c);return n}},316:function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},322:function(e,t,n){var r=n(187),a=n(429),o=n(168),i=n(433),c=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&i(e,t[0],t[1])?t=[]:n>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),a(e,r(t,1),[])}));e.exports=c},329:function(e,t,n){"use strict";t.__esModule=!0,t.notify=function(e,t){e&&e.apply(null,[].concat(t))},t.instanceId=function(e,t){void 0===t&&(t="");return e.__id||(e.__id=function(e){return""+((null==e?"":e)+ ++r)}("rw_")),(e.props.id||e.__id)+t},t.isFirstFocusedRender=function(e){return e._firstFocus||e.state.focused&&(e._firstFocus=!0)};var r=0},362:function(e,t,n){"use strict";var r=n(14),a=n(74).find,o=n(121),i=n(75),c=!0,s=i("find");"find"in[]&&Array(1).find((function(){c=!1})),r({target:"Array",proto:!0,forced:c||!s},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),o("find")},385:function(e,t){e.exports=jQuery},429:function(e,t,n){var r=n(152),a=n(153),o=n(418),i=n(430),c=n(246),s=n(431),l=n(223);e.exports=function(e,t,n){var u=-1;t=r(t.length?t:[l],c(a));var d=o(e,(function(e,n,a){return{criteria:r(t,(function(t){return t(e)})),index:++u,value:e}}));return i(d,(function(e,t){return s(e,t,n)}))}},430:function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},431:function(e,t,n){var r=n(432);e.exports=function(e,t,n){for(var a=-1,o=e.criteria,i=t.criteria,c=o.length,s=n.length;++a<c;){var l=r(o[a],i[a]);if(l)return a>=s?l:l*("desc"==n[a]?-1:1)}return e.index-t.index}},432:function(e,t,n){var r=n(243);e.exports=function(e,t){if(e!==t){var n=void 0!==e,a=null===e,o=e==e,i=r(e),c=void 0!==t,s=null===t,l=t==t,u=r(t);if(!s&&!u&&!i&&e>t||i&&c&&l&&!s&&!u||a&&c&&l||!n&&l||!o)return 1;if(!a&&!i&&!u&&e<t||u&&n&&o&&!a&&!i||s&&n&&o||!c&&o||!l)return-1}return 0}},433:function(e,t,n){var r=n(295),a=n(142),o=n(297),i=n(134);e.exports=function(e,t,n){if(!i(n))return!1;var c=typeof t;return!!("number"==c?a(n)&&o(t,n.length):"string"==c&&t in n)&&r(n[t],e)}},435:function(e,t,n){"use strict";var r=n(14),a=n(163),o=n(104),i=n(49),c=n(60),s=n(236),l=n(150),u=n(237),d=n(75),f=u("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,m=Math.min;r({target:"Array",proto:!0,forced:!f||!p},{splice:function(e,t){var n,r,u,d,f,p,h=c(this),g=i(h.length),b=a(e,g),y=arguments.length;if(0===y?n=r=0:1===y?(n=0,r=g-b):(n=y-2,r=m(v(o(t),0),g-b)),g+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(u=s(h,r),d=0;d<r;d++)(f=b+d)in h&&l(u,d,h[f]);if(u.length=r,n<r){for(d=b;d<g-r;d++)p=d+n,(f=d+r)in h?h[p]=h[f]:delete h[p];for(d=g;d>g-r+n;d--)delete h[d-1]}else if(n>r)for(d=g-r;d>b;d--)p=d+n-1,(f=d+r-1)in h?h[p]=h[f]:delete h[p];for(d=0;d<n;d++)h[d+b]=arguments[d+2];return h.length=g-r+n,u}})},437:function(e,t,n){"use strict";var r=n(14),a=n(87),o=n(424),i=n(31),c=n(95),s=n(140),l=n(426),u=n(71);r({target:"Promise",proto:!0,real:!0,forced:!!o&&i((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=s(this,c("Promise")),n="function"==typeof e;return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),a||"function"!=typeof o||o.prototype.finally||u(o.prototype,"finally",c("Promise").prototype.finally)},527:function(e,t,n){"use strict";var r=n(55);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),o=(0,r(n(107)).default)(a.default.createElement("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"}),"CalendarToday");t.default=o},6:function(e,t){e.exports=interceptClient},61:function(e,t,n){"use strict";n(40),n(33),n(38),n(42),n(43),n(37),n(19),n(88),n(21),n(20),n(39);var r=n(23),a=n.n(r),o=n(10),i=n.n(o),c=n(9),s=n.n(c),l=n(3),u=n.n(l),d=n(11),f=n.n(d),p=n(12),v=n.n(p),m=n(5),h=n.n(m),g=n(2),b=n.n(g),y=n(0),O=n.n(y),E=n(46),w=n.n(E),_=n(6);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}var x=n.n(_).a.utils;t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return function(n){f()(o,n);var r=S(o);function o(e){var n;return i()(this,o),n=r.call(this,e),b()(u()(n),"handleResponse",(function(e){return n.mounted&&n.setState({availability:j(j({},n.state.availability),{},{loading:!1,rooms:JSON.parse(e),shouldUpdate:!1})}),e})),n.handleResponse=n.handleResponse.bind(u()(n)),n.fetchAvailability=w()(n.fetchAvailability,t).bind(u()(n)),n.state={availability:{loading:!1,shouldUpdate:!1,rooms:[]}},n}return s()(o,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchAvailability",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return this.setState({availability:j(j({},this.state.availability),{},{loading:!0,shouldUpdate:!1})}),fetch("/api/rooms/availability",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(j(j({},e),{},{start:x.dateToDrupal(x.ensureDate(e.start)),end:x.dateToDrupal(x.ensureDate(e.end))}))}).then((function(e){return e.text()})).then((function(e){return n(t.handleResponse(e))})).catch((function(e){t.mounted&&(console.log(e),t.setState({availability:j(j({},t.state.availability),{},{loading:!1,shouldUpdate:!1})}))}))}},{key:"render",value:function(){return O.a.createElement(e,a()({availability:this.state.availability,fetchAvailability:this.fetchAvailability},this.props))}}]),o}(O.a.Component)}},858:function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},859:function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}},860:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},861:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(25),i=n(67),c=n(2),s=n.n(c),l=n(30),u=n(193),d=n.n(u),f=n(16),p=n.n(f),v=n(6),m=n.n(v),h=n(206),g=l.Serialize.decodeArray,b=l.Serialize.encodeArray,y=l.Serialize.decodeBoolean,O=l.Serialize.encodeBoolean,E=l.Serialize.decodeObject,w=l.Serialize.encodeObject,_=l.Serialize.decodeString,D=l.Serialize.encodeString,j=m.a.constants,S=m.a.utils,x=j,R={view:{type:l.UrlQueryParamTypes.string},date:{type:{decode:function(e){var t=Object(l.decode)(l.UrlQueryParamTypes.date,e)||null;if(null!==t){var n=p.a.tz(new Date,S.getUserTimezone()),r=p.a.tz(S.convertDateToLocal(t,S.getUserTimezone()),S.getUserTimezone());return r.set({hour:n.hour(),minute:n.minute(),second:n.second(),millisecond:n.millisecond()}),r.toDate()||null}},encode:function(e){return p()(e).tz(S.getUserTimezone()).format("YYYY-MM-DD")||null}}},room:{type:l.UrlQueryParamTypes.string},roomDetail:{type:l.UrlQueryParamTypes.string},detail:{type:l.UrlQueryParamTypes.boolean},event:{type:l.UrlQueryParamTypes.string},filters:{type:{decode:function(e){var t,n;if(!e)return n={},s()(n,x.TYPE_LOCATION,[]),s()(n,x.TYPE_ROOM_TYPE,[]),s()(n,x.DATE,null),s()(n,x.KEYWORD,""),n;var r=E(e,":","_");return t={},s()(t,x.TYPE_LOCATION,g(r.location,",")||[]),s()(t,x.TYPE_ROOM_TYPE,g(r.type,",")||[]),s()(t,"attendees",Object(l.decode)(l.UrlQueryParamTypes.number,r.attendees)),s()(t,x.DATE,r[x.DATE]?S.getDateFromDayTimeStamp(r[x.DATE]):null),s()(t,x.KEYWORD,_(r.keyword)),s()(t,"time",_(r.time)),s()(t,"duration",_(r.duration)),s()(t,"now",y(r.now)),t},encode:function(e){var t,n,r=(t={location:b(e[x.TYPE_LOCATION],","),type:b(e[x.TYPE_ROOM_TYPE],","),attendees:Object(l.encode)(l.UrlQueryParamTypes.number,e.attendees)},s()(t,x.DATE,e[x.DATE]?S.getDayTimeStamp(e[x.DATE]):null),s()(t,"time",D(e.time)),s()(t,"duration",D(e.duration)),s()(t,x.KEYWORD,D(e.keyword)),s()(t,"now",O(e.now)),n=t,d()(n,(function(e){return e})));return w(r,":","_")}}}},P=function(e){return Object(h.a)(Object(l.addUrlProps)({urlPropsQueryConfig:R})(e))},T=(n(40),n(29),n(33),n(362),n(38),n(32),n(42),n(43),n(37),n(39),n(100)),A=n.n(T),C=n(62),N=n.n(C),z=n(1),M=n.n(z),k=n(18),F=n(73),I=(n(363),n(19),n(115),n(21),n(20),n(3)),U=n.n(I),Y=n(23),L=n.n(Y),H=n(10),B=n.n(H),q=n(9),V=n.n(q),G=n(11),W=n.n(G),Q=n(12),J=n.n(Q),X=n(5),K=n.n(X),Z=n(202),$=n(198),ee=n.n($),te=n(68),ne=n(387),re=n(877),ae=n(15),oe=n(86),ie=n(447),ce=n(200),se=n.n(ce),le=n(201),ue=n.n(le),de=n(527),fe=n.n(de),pe=n(443),ve=n.n(pe),me=n(205),he=function(e){var t=e.event;return a.a.createElement("div",{className:"reservation-calendar-event reservation-calendar-event"},a.a.createElement("p",{className:"reservation-calendar-event__title"},t.title))};he.propTypes={event:M.a.shape({title:M.a.string.isRequired}).isRequired};var ge=he,be=(n(96),n(123),n(178)),ye=n.n(be),Oe=n(8),Ee=n(22),we=n(329),_e=n(321),De=n(203);function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K()(e);if(t){var a=K()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return J()(this,n)}}var Se=function(e){W()(n,e);var t=je(n);function n(){var e;B()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),s()(U()(e),"handleResizeUp",(function(t){0===t.button&&(t.stopPropagation(),e.context.draggable.onBeginAction(e.props.event,"resize","UP"))})),s()(U()(e),"handleResizeDown",(function(t){0===t.button&&(t.stopPropagation(),e.context.draggable.onBeginAction(e.props.event,"resize","DOWN"))})),s()(U()(e),"handleResizeLeft",(function(t){0===t.button&&(t.stopPropagation(),e.context.draggable.onBeginAction(e.props.event,"resize","LEFT"))})),s()(U()(e),"handleResizeRight",(function(t){0===t.button&&(t.stopPropagation(),e.context.draggable.onBeginAction(e.props.event,"resize","RIGHT"))})),s()(U()(e),"handleStartDragging",(function(t){0===t.button&&e.context.draggable.onBeginAction(e.props.event,"move")})),e}return V()(n,[{key:"renderAnchor",value:function(e){var t="Up"===e||"Down"===e?"ns":"ew";return a.a.createElement("div",{className:"rbc-addons-dnd-resize-".concat(t,"-anchor"),onMouseDown:this["handleResize".concat(e)],role:"button",tabIndex:0},a.a.createElement("div",{className:"rbc-addons-dnd-resize-".concat(t,"-icon")}))}},{key:"render",value:function(){var e=this.props,t=e.event,n=(e.type,e.continuesPrior),r=e.continuesAfter,o=this.props.children;if(t.__isPreview)return a.a.cloneElement(o,{className:Object(Oe.default)(o.props.className,"rbc-addons-dnd-drag-preview")});var i=this.context.draggable,c=i.draggableAccessor,s=i.resizableAccessor,l=!c||!!Object(De.accessor)(t,c);if(!l)return o;var u=!s||!!Object(De.accessor)(t,s);if(u||l){var d={onMouseDown:this.handleStartDragging,onTouchStart:this.handleStartDragging};if(u){var f,p;f=!n&&this.renderAnchor("Left"),p=!r&&this.renderAnchor("Right"),d.children=a.a.createElement("div",{className:"rbc-addons-dnd-resizable"},f,o.props.children,p)}i.dragAndDropAction.interacting&&i.dragAndDropAction.event===t&&(d.className=Object(Oe.default)(o.props.className,"rbc-addons-dnd-dragged-event")),o=a.a.cloneElement(o,d)}return o}}]),n}(a.a.Component);s()(Se,"contextTypes",{draggable:M.a.shape({onStart:M.a.func,onEnd:M.a.func,onBeginAction:M.a.func,draggableAccessor:_e.accessor,resizableAccessor:_e.accessor,dragAndDropAction:M.a.object})}),s()(Se,"propTypes",{type:M.a.oneOf(["date","time"]),event:M.a.object.isRequired,draggable:M.a.bool,allDay:M.a.bool,isRow:M.a.bool,continuesPrior:M.a.bool,continuesAfter:M.a.bool,isDragging:M.a.bool,isResizing:M.a.bool});var xe=Se,Re=n(47),Pe=n(110),Te=n.n(Pe);function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e){return"string"==typeof e?e:e+"%"}var ze=function(e){var t=e.style,n=e.className,r=e.event,o=e.accessors,i=(e.rtl,e.selected),c=e.label,s=e.continuesEarlier,l=e.continuesLater,u=e.getters,d=e.onClick,f=e.onDoubleClick,p=e.components,v=p.event,m=p.eventWrapper,h=o.title(r),g=o.tooltip(r),b=o.end(r),y=o.start(r),O=u.eventProp(r,y,b,i),E=t.height,w=t.top,_=t.width,D=t.left,j=(t.xOffset,[a.a.createElement("div",{key:"1",className:"rbc-event-label"},c),a.a.createElement("div",{key:"2",className:"rbc-event-content"},v?a.a.createElement(v,{event:r,title:h}):h)]);return a.a.createElement(m,L()({type:"time"},e),a.a.createElement("div",{onClick:d,onDoubleClick:f,style:Ce(Ce({},O.style),{},{top:Ne(w),left:Ne(D),width:Ne(_),height:Ne(E)}),title:g?("string"==typeof c?c+": ":"")+g:void 0,className:Object(Oe.default)("rbc-event",n,O.className,{"rbc-selected":i,"rbc-event-continues-earlier":s,"rbc-event-continues-later":l})},j))},Me=n(319),ke=n(442),Fe=n.n(ke);function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K()(e);if(t){var a=K()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return J()(this,n)}}var Le=function(e,t){var n=t.x,r=t.y,a=e.left,o=e.bottom,i=e.top;return r<o&&r>i&&n>a},He=function(e){W()(n,e);var t=Ye(n);function n(){var e;B()(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i)),s()(U()(e),"handleMove",(function(t,n){var r=e.context.draggable.dragAndDropAction.event,a=e.props,o=a.accessors,i=a.slotMetrics;if(Le(n,t)){var c=i.closestSlotFromPoint({y:t.y-e.eventOffsetTop,x:t.x},n),s=o.start(r),l=o.end(r),u=Re.add(c,Re.diff(s,l,"minutes"),"minutes");e.update(r,i.getRange(c,u,!1,!0))}else e.reset()})),s()(U()(e),"handleDropFromOutside",(function(t,n){var r=e.props,a=r.slotMetrics,o=r.resource,i=a.closestSlotFromPoint({y:t.y,x:t.x},n);e.context.draggable.onDropFromOutside({start:i,end:a.nextSlot(i),allDay:!1,resource:o})})),s()(U()(e),"_selectable",(function(){var t=Object(o.findDOMNode)(U()(e)),n=e._selector=new Te.a((function(){return t.closest(".rbc-time-view")})),r=function(n){var r=e.props.slotMetrics.closestSlotFromPoint(n,Object(Pe.getBoundsForNode)(t));e.state.selecting||(e._initialSlot=r);var a=e._initialSlot;Re.lte(a,r)?r=e.props.slotMetrics.nextSlot(r):Re.gt(a,r)&&(a=e.props.slotMetrics.nextSlot(a));var o=e.props.slotMetrics.getRange(Re.min(a,r),Re.max(a,r));return Ue(Ue({},o),{},{selecting:!0,left:"".concat(o.left,"%"),width:"".concat(o.width,"%")})},a=function(t){var n=e.props.onSelecting,a=e.state||{},o=r(t),i=o.startDate,c=o.endDate;n&&(Re.eq(a.startDate,i,"minutes")&&Re.eq(a.endDate,c,"minutes")||!1===n({start:i,end:c,resourceId:e.props.resource}))||e.state.start===o.start&&e.state.end===o.end&&e.state.selecting===o.selecting||e.setState(o)},i=function(t,n){if(!Object(Pe.isEvent)(Object(o.findDOMNode)(U()(e)),t)){var a=r(t),i=a.startDate,c=a.endDate;e._selectSlot({startDate:i,endDate:c,action:n,box:t})}e.setState({selecting:!1})};n.on("beforeSelect",(function(n){var r=e.context.draggable.dragAndDropAction;if(!r.action){if("ignoreEvents"!==e.props.selectable)return;return!Object(Pe.isEvent)(Object(o.findDOMNode)(U()(e)),n)&&Le(Object(Pe.getBoundsForNode)(t),n)}if("resize"===r.action)return Le(Object(Pe.getBoundsForNode)(t),n);var a=Object(Pe.getEventNodeFromPoint)(t,n);if(!a)return!1;e.eventOffsetLeft=n.x-Object(Pe.getBoundsForNode)(a).left})),n.on("selecting",(function(n){var r=e.context.draggable.dragAndDropAction;if(r.action){var o=Object(Pe.getBoundsForNode)(t);"move"===r.action&&e.handleMove(n,o),"resize"===r.action&&e.handleResize(n,o)}else a(n)})),n.on("dropFromOutside",(function(n){if(e.context.draggable.onDropFromOutside){var r=Object(Pe.getBoundsForNode)(t);Le(r,n)&&e.handleDropFromOutside(n,r)}})),n.on("dragOver",(function(n){if(e.context.draggable.dragFromOutsideItem){var r=Object(Pe.getBoundsForNode)(t);e.handleDropFromOutside(n,r)}})),n.on("selectStart",(function(t){e.context.draggable.dragAndDropAction.action?e.context.draggable.onStart():a(t)})),n.on("select",(function(n){e.state.selecting&&(e._selectSlot(Ue(Ue({},e.state),{},{action:"select",point:n})),e.setState({selecting:!1}));var r=Object(Pe.getBoundsForNode)(t);e.state.event&&Le(r,n)&&e.handleInteractionEnd()})),n.on("click",(function(t){i(t,"click"),e.context.draggable.onEnd(null)})),n.on("doubleClick",(function(e){return i(e,"doubleClick")})),n.on("reset",(function(){e.reset(),e.context.draggable.onEnd(null)}))})),s()(U()(e),"handleInteractionEnd",(function(){var t=e.props.resource,n=e.state.event;e.reset(),e.context.draggable.onEnd({start:n.start,end:n.end,resourceId:t})})),s()(U()(e),"_teardownSelectable",(function(){e._selector&&(e._selector.teardown(),e._selector=null)})),s()(U()(e),"_selectSlot",(function(t){for(var n=t.startDate,r=t.endDate,a=t.action,o=t.bounds,i=t.box,c=n,s=[];Re.lte(c,r);)s.push(c),c=Re.add(c,e.props.step,"minutes");Object(we.notify)(e.props.onSelectSlot,{slots:s,start:n,end:r,resourceId:e.props.resource,action:a,bounds:o,box:i})})),s()(U()(e),"eventHeight",(function(){return"".concat(e.props.eventHeight,"px")})),s()(U()(e),"renderPlaceholderEvent",(function(){var t=e.state,n=t.left,r=t.width,o={start:t.startDate,end:t.endDate},i=e.props.localizer;return a.a.createElement("div",{className:"rbc-slot-selection",style:{left:n,width:r,height:e.eventHeight()}},a.a.createElement("span",null,i.format(o,"selectRangeFormat")))})),s()(U()(e),"renderSelectedEvent",(function(){var t,n=e.props,r=n.accessors,o=n.components,i=n.getters,c=n.slotMetrics,s=n.localizer,l=e.state,u=l.event,d=l.left,f=l.width,p=u.start,v=u.end,m="eventTimeRangeFormat",h=c.startsBeforeDay(p),g=c.startsAfterDay(v);return h?m="eventTimeRangeEndFormat":g&&(m="eventTimeRangeStartFormat"),t=h&&g?s.messages.allDay:s.format({start:p,end:v},m),a.a.createElement(ze,{event:u,label:t,className:"rbc-addons-dnd-drag-preview",style:{left:d,width:f,height:e.eventHeight()},getters:i,components:Ue(Ue({},o),{},{eventWrapper:Fe.a}),accessors:Ue(Ue({},r),Me.dragAccessors),continuesEarlier:h,continuesLater:g})})),e.state={selecting:!1,timeIndicatorPosition:null},e}return V()(n,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.event&&this.setState({event:null,left:null,width:null}),this.state.selecting&&this.setState({selecting:!1})}},{key:"update",value:function(e,t){var n=t.startDate,r=t.endDate,a=t.left,o=t.width,i=this.state.event;i&&n===i.start&&r===i.end||this.setState({left:a,width:o,event:Ue(Ue({},e),{},{start:n,end:r})})}},{key:"handleResize",value:function(e,t){var n,r,a=this.props,o=a.accessors,i=a.slotMetrics,c=this.context.draggable.dragAndDropAction,s=c.event,l=c.direction,u=i.closestSlotFromPoint(e,t);"LEFT"===l?(r=o.end(s),n=Re.min(u,i.closestSlotFromDate(r,-1))):"RIGHT"===l&&(n=o.start(s),r=Re.max(u,i.closestSlotFromDate(n))),this.update(s,i.getRange(n,r))}},{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.event,r=t.selecting;if(!n&&!r)return e;var o=e.props.children;return a.a.cloneElement(e,{children:a.a.createElement(a.a.Fragment,null,o,n&&this.renderSelectedEvent(),r&&this.renderPlaceholderEvent())})}}]),n}(a.a.Component);s()(He,"propTypes",{accessors:M.a.object.isRequired,components:M.a.object.isRequired,getters:M.a.object.isRequired,localizer:M.a.object.isRequired,selectable:M.a.string,slotMetrics:M.a.object.isRequired,resource:M.a.any}),s()(He,"contextTypes",{draggable:M.a.shape({onStart:M.a.func,onEnd:M.a.func,onDropFromOutside:M.a.func,onBeginAction:M.a.func,dragAndDropAction:M.a.object,dragFromOutsideItem:M.a.func})});var Be=He,qe=a.a.createContext(),Ve=function(e){var t=e.children,n=ye()(e,["children"]),r=n;return n.dnd&&(r.components.eventWrapper=xe,r.components.eventContainerWrapper=Be),a.a.createElement(qe.Provider,{value:r},t)};Ve.propTypes={children:M.a.element.isRequired,dnd:M.a.bool},Ve.defaultProps={dnd:!1};var Ge=qe,We=(n(435),n(322)),Qe=n.n(We),Je=function(){function e(t,n){var r=n.accessors,a=n.slotMetrics;B()(this,e);var o=a.getRange(r.start(t),r.end(t)),i=o.start,c=o.startDate,s=o.end,l=o.endDate,u=o.left,d=o.width,f=o.height;this.start=i,this.end=s,this.startMs=+c,this.endMs=+l,this.left=u,this.width=d,this.height=f,this.data=t}return V()(e,[{key:"_height",get:function(){return 50}},{key:"yOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._height;var e=this.row,t=e.leaves,n=e.yOffset,r=e._height;return n+(t.indexOf(this)+1)*r}}]),e}();function Xe(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function Ke(e){for(var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,a=e.accessors,o=function(e){for(var t=Qe()(e,["startMs",function(e){return-e.endMs}]),n=[];t.length>0;){var r=t.shift();n.push(r);for(var a=0;a<t.length;a+=1){var o=t[a];if(!(r.endMs>o.startMs)){if(a>0){var i=t.splice(a,1)[0];n.push(i)}break}}}return n}(t.map((function(e){return new Je(e,{slotMetrics:r,accessors:a})}))),i=[],c=function(e){var t=o[e],r=i.find((function(e){return e.end>t.start||Math.abs(t.start-e.start)<n}));if(!r)return t.rows=[],i.push(t),"continue";t.container=r;for(var a=null,c=r.rows.length-1;!a&&c>=0;c-=1)Xe(r.rows[c],t,n)&&(a=r.rows[c]);a?(a.leaves.push(t),t.row=a):(t.leaves=[],r.rows.push(t))},s=0;s<o.length;s+=1)c(s);return o.map((function(e){return{event:e.data,style:{top:"".concat(e.yOffset,"px"),left:e.left,height:"".concat(e._height,"px"),width:e.width,yOffset:Math.max(0,e.yOffset)+e._height}}}))}var Ze=function(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()},$e=function(e,t,n,r){return"".concat(+Re.startOf(e,"minutes"))+"".concat(+Re.startOf(t,"minutes"))+"".concat(n,"-").concat(r)};var et=a.a.createContext(),tt=function(e){var t=e.children,n=Object(r.useState)([]),o=A()(n,2),i=o[0],c=o[1],s=Object(r.useState)([]),l=A()(s,2),u=l[0],d=l[1],f={groups:i,collapseAllGroups:function(){d(N()(i.map((function(e){return e.id}))))},collapseGroup:function(e){d([e].concat(N()(u)))},expandAllGroups:function(){d([])},expandGroup:function(e){d(u.filter((function(t){return t!==e})))},isGroupCollapsed:function(e){return u.indexOf(e)>=0},isGroupExpanded:function(e){return u.indexOf(e)<0},setGroups:c};return a.a.createElement(et.Provider,{value:f},t)};tt.propTypes={children:M.a.element.isRequired};var nt=et;var rt=n(385),at=n.n(rt);function ot(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Object(r.useRef)();Object(r.useEffect)((function(){o.current=t}),[t]),Object(r.useEffect)((function(){if(a&&void 0!==at.a){var t=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o.current.apply(o,[e].concat(n))};return at()(n).on(e,t),function(){at()(n).off(e,t)}}if(n&&n.addEventListener){var r=function(e){return o.current(e)};return n.addEventListener(e,r),function(){n.removeEventListener(e,r)}}}),[e,n])}function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var st=m.a.utils;function lt(e,t){return!(!e||null==t)&&-1!==[].concat(t.id).indexOf(e.id)}var ut=function(e){var t=e.children,n=(e.width,e.timelineWidth),r=e.height,o=e.hideScrollbar,i=e.horizontal,c=e.overflow,s=e.vertical,l=e.scrollRef,u=e.scrollbarSize,d={},f={};i&&(d.overflowX="hidden",c&&(d.overflowX="auto")),s&&(d.height="".concat(r,"px"),d.overflowY="hidden",c&&(d.overflowY="auto"),o&&(f.marginRight="-".concat(u.width,"px")));var p={};return n&&(p.width="".concat(n,"px")),a.a.createElement("div",{className:"scheduler__scroll-wrapper",style:f},a.a.createElement("div",{className:"scheduler__scroll-frame",style:d,ref:l},a.a.createElement("div",{className:"scheduler__scroll-canvas",style:p},t)))},dt=function(e){var t=e.group,n=Object(r.useContext)(nt),o=n.isGroupCollapsed,i=n.collapseGroup,c=n.expandGroup,s=t.id,l=o(s),u=l?function(){return c(s)}:function(){return i(s)},d=l?"Expand Group":"Collapse Group";return a.a.createElement("button",{onClick:u,className:"scheduler__group-toggle","aria-expanded":!l},d)};dt.propTypes={group:M.a.shape({id:M.a.oneOfType([M.a.string,M.a.number]).isRequired}).isRequired};var ft=function(e){var t=e.resourceComponent,n=e.timelineComponent;return a.a.createElement("tr",null,a.a.createElement("td",{className:"scheduler__section scheduler__section--resource"},t),a.a.createElement("td",{className:"scheduler__section scheduler__section--divider"}),a.a.createElement("td",{className:"scheduler__section scheduler__section--timeline"},n))},pt=function(e){var t,n=e.group,r=e.accessors,o=e.slotMetrics,i=e.height,c=e.step,s=e.timeslots;n.hours?t=function(e,t){var n=e.style;return[{state:"closed",style:{left:0,width:"".concat(n.left,"%"),height:"".concat(t,"px"),top:0}},{state:"open",style:{left:"".concat(n.left,"%"),width:"".concat(n.width,"%"),height:"".concat(t,"px"),top:0}},{state:"closed",style:{left:"".concat(n.left+n.width,"%"),width:"".concat(100-n.left-n.width,"%"),height:"".concat(t,"px"),top:0}}]}(Ke({events:[n.hours],accessors:r,slotMetrics:o,minimumStartDifference:Math.ceil(c*s/2)})[0],i):t=[{state:"closed",style:{left:0,width:"100%",height:"".concat(i,"px")}}];return a.a.createElement("div",{className:"scheduler__resource-hours",style:{height:"".concat(i,"px")}},t.map((function(e,t){return a.a.createElement("div",{key:t,className:"scheduler__resource-hours__block scheduler__resource-hours__block--".concat(e.state),style:e.style})})))},vt=function(e){var t=e.resourceId,n=e.slotMetrics,o=function(){var t=e.accessors,r=e.components,o=e.getters,i=e.localizer,c=e.rtl,s=e.selected,l=e.styledEvents,u=i.messages;return l.map((function(l,d){var f,p=l.event,v=l.style,m=t.end(p),h=t.start(p),g="eventTimeRangeFormat",b=n.startsBeforeDay(h),y=n.startsAfterDay(m);b?g="eventTimeRangeEndFormat":y&&(g="eventTimeRangeStartFormat"),f=b&&y?u.allDay:i.format({start:h,end:m},g);var O=b||n.startsBefore(h),E=y||n.startsAfter(m);return a.a.createElement(ze,{style:v,event:p,label:f,key:"evt_".concat(d),getters:o,rtl:c,components:r,continuesEarlier:O,continuesLater:E,accessors:t,selected:lt(p,s),onClick:function(t){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Object(we.notify)(e.onSelectEvent,n)}(p,t)},onDoubleClick:function(t){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Object(we.notify)(e.onDoubleClickEvent,n)}(p,t)}})}))},i=Object(r.useContext)(Ge),c=i.selectable,s=i.accessors,l=i.getters,u=i.localizer,d=i.components,f=d.eventContainerWrapper,p=ye()(d,["eventContainerWrapper"]),v=i.onSelectSlot,m=i.rtl;return e.dnd?a.a.createElement("div",{className:"scheduler__events-row"},a.a.createElement(f,{localizer:u,resource:t,accessors:s,getters:l,components:p,slotMetrics:n,selectable:c,onSelectSlot:v,eventHeight:50},a.a.createElement("div",{className:Object(Oe.default)("rbc-events-container",m&&"rtl"),style:e.style},o()))):a.a.createElement("div",{className:"scheduler__events-row",style:e.style,key:t},o())},mt=function(){return window?window.innerHeight-56-80-40:500};var ht=function(e){var t,n=Object(r.useContext)(nt),o=n.groups,i=n.isGroupExpanded,c=Object(r.useContext)(Ge),l=c.accessors,u=c.date,d=c.resources,f=c.events,v=c.min,m=c.max,h=c.timeslots,g=c.step,b=c.components,y=Object(r.useState)(!1),O=A()(y,2),E=O[0],w=O[1],_=Object(r.useState)(500),D=A()(_,2),j=D[0],S=D[1],x=Object(r.useRef)(null),R=Object(r.useRef)(null),P=Object(r.useRef)(null),T=Object(r.useRef)(null),C=function e(t){for(var n=t.min,r=t.max,a=t.step,o=t.timeslots,i=$e(n,r,a,o),c=Re.startOf(n,"day"),s=Ze(c,n),l=1+Re.diff(n,r,"minutes")+Ze(n,r),u=Re.diff(c,n,"minutes")+s,d=Math.ceil(l/(a*o)),f=d*o,p=new Array(d),v=new Array(f),m=0;m<d;m++){p[m]=new Array(o);for(var h=0;h<o;h++){var g=m*o+h,b=g*a;v[g]=p[m][h]=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,u+b,0,0)}}var y=v.length*a;function O(e){var t=Re.diff(n,e,"minutes")+Ze(n,e);return Math.min(t,l)}return v.push(new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,u+y,0,0)),{groups:p,update:function(t){return $e(t)!==i?e(t):this},dateIsInGroup:function(e,t){var n=p[t+1];return Re.inRange(e,p[t][0],n?n[0]:r,"minutes")},nextSlot:function(e){var t=v[Math.min(v.indexOf(e)+1,v.length-1)];return t===e&&(t=Re.add(e,a,"minutes")),t},closestSlotToPosition:function(e){var t=Math.min(v.length-1,Math.max(0,Math.floor(e*f)));return v[t]},closestSlotFromPoint:function(e,t){var n=Math.abs(t.left-t.right);return this.closestSlotToPosition((e.x-t.left)/n)},closestSlotFromDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(Re.lt(e,n,"minutes"))return v[0];var r=Re.diff(n,e,"minutes");return v[(r-r%a)/a+t]},startsBeforeDay:function(e){return Re.lt(e,n,"day")},startsAfterDay:function(e){return Re.gt(e,r,"day")},startsBefore:function(e){return Re.lt(Re.merge(n,e),n,"minutes")},startsAfter:function(e){return Re.gt(Re.merge(r,e),r,"minutes")},getRange:function(e,t){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=o?e:Re.min(r,Re.max(n,e)),s=i?t:Re.min(r,Re.max(n,t)),l=O(c),u=O(s),d=0;return 0!==l&&(d=u>a*(f-1)&&!Re.eq(r,s)?(l-a)/(a*f)*100:l/(a*f)*100),{left:d,width:u/(a*f)*100-d,start:O(c),startDate:c,end:O(s),endDate:s}},getCurrentTimePosition:function(e){return O(e)/(a*f)*100}}}({min:v,max:m,timeslots:h,step:g}),z=C.groups,M=(t=x.current)?t.offsetWidth-300:800,k=function(e){var t;return 30*(t=[]).concat.apply(t,N()(e)).length}(z);ot("resize",(function(){S(mt())}),window),Object(r.useEffect)((function(){var e;(e={resourcesRef:P,scheduleRef:T,timelineRef:R},function(){var t=e.resourcesRef,n=e.scheduleRef,r=e.timelineRef,a=!1,o=function(e){window.requestAnimationFrame((function(){a||(a=!0,r.current.scrollLeft=e.target.scrollLeft,t.current.scrollTop=e.target.scrollTop),a=!1}))};return n.current.addEventListener("scroll",o),function(){n.current.removeEventListener("scroll",o)}})(),function(e,t){return function(){var n=e.scheduleRef,r=e.timelineRef,a=function(e){n.current.removeEventListener("scroll",e),r.current.removeEventListener("scroll",e)},o=function e(){t(!0),a(e)};return n.current.addEventListener("scroll",o),r.current.addEventListener("scroll",o),function(){a(o)}}}({scheduleRef:T,timelineRef:R},w)(),S(mt())}),[]),Object(r.useEffect)((function(){if(T.current&&!E){var e=st.convertDateFromLocal(u,st.getUserTimezone());!function(e,t,n,r,a,o,i){var c=Ke({events:[{start:t,end:t}],accessors:o,slotMetrics:n,minimumStartDifference:Math.ceil(r*a/2)}),s=i/(n.groups.length*a),l=c[0].style.left/100*i,u=Math.max(0,Math.floor(l/s)*s);e.current.scrollLeft=u}(T,e,C,g,h,l,k)}}),[R.current,T.current,f]);var F=function(){var e=Object(r.useState)({}),t=A()(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){var e=document.body,t=document.createElement("div");t.setAttribute("style","width: 1337px; height: 1337px; position: absolute; left: -9999px; overflow: scroll;"),e.appendChild(t);var n=function(e){return t["offset".concat(e)]-t["client".concat(e)]},r=n("Width"),o=n("Height");e.removeChild(t),a({width:r,height:o})}),[]),n}(),I=function(e,t,n,r,a,o){return e.reduce((function(e,i){var c=Ke({events:t.filter((function(e){return e.resourceId===i.id})),accessors:o,slotMetrics:n,minimumStartDifference:Math.ceil(r*a/2)}),l=c.reduce((function(e,t){return t.style.yOffset>e?t.style.yOffset:e}),50)+2;return ct(ct({},e),{},s()({},i.id,ct(ct({},i),{},{styledEvents:c,height:l})))}),{})}(d,f,C,g,h,l);return a.a.createElement("table",{className:"scheduler",ref:x},a.a.createElement("thead",{className:"scheduler__head"},a.a.createElement(ft,{resourceComponent:a.a.createElement("span",null,"Rooms"),timelineComponent:a.a.createElement(ut,{horizontal:!0,hideScrollbar:!0,width:M,timelineWidth:k,scrollRef:R,scrollbarSize:F},a.a.createElement("table",null,a.a.createElement("colgroup",null,z.map((function(e){return e.map((function(e,t){return a.a.createElement("col",{key:t,style:{width:"".concat(30,"px")}})}))}))),a.a.createElement("tbody",null,a.a.createElement("tr",null,z.map((function(e,t){return a.a.createElement("td",{key:t,colSpan:e.length},p()(e[0]).format("ha"))}))))))})),a.a.createElement("tbody",{className:"scheduler__body"},a.a.createElement(ft,{resourceComponent:a.a.createElement(ut,{vertical:!0,hideScrollbar:!0,height:j,scrollRef:P,scrollbarSize:F},a.a.createElement("table",null,a.a.createElement("tbody",null,o.map((function(e){var t=i(e.id),n=d.filter((function(t){return t.groupId===e.id}));return n.length<=0?null:a.a.createElement(a.a.Fragment,{key:e.id},a.a.createElement("tr",{className:"scheduler__row scheduler__row--group"},a.a.createElement("th",null,a.a.createElement("div",{className:"scheduler__group-heading"},a.a.createElement("span",{className:"scheduler__group-text"},e.title),a.a.createElement(dt,{group:e})))),t&&n.map((function(e){return a.a.createElement("tr",{key:e.id,className:"scheduler__row scheduler__row--resource",style:{height:I[e.id].height}},a.a.createElement("td",null,e.title))})))}))))),timelineComponent:a.a.createElement(ut,{vertical:!0,horizontal:!0,overflow:!0,width:M,timelineWidth:k,height:j,scrollRef:T,scrollbarSize:F},a.a.createElement("div",{className:"rbc-scheduler-view"},a.a.createElement("div",{className:"scheduler__timeline-container rbc-time-view",style:{width:"".concat(k,"px"),minHeight:"".concat(j,"px")}},a.a.createElement("table",{className:"scheduler__timeline"},a.a.createElement("tbody",null,o.map((function(t){var n=i(t.id),r=d.filter((function(e){return e.groupId===t.id}));return r.length<=0?null:a.a.createElement(a.a.Fragment,{key:t.id},a.a.createElement("tr",{className:"scheduler__row scheduler__row--group",style:{height:"".concat(50,"px")}},a.a.createElement("td",null,a.a.createElement("div",{className:"scheduler__row-inner"},a.a.createElement(pt,L()({},e,{group:t,slotMetrics:C,height:50}))))),n&&r.map((function(n){return a.a.createElement("tr",{key:n.id,className:"scheduler__row scheduler__row--event",style:{height:I[n.id].height}},a.a.createElement("td",null,a.a.createElement("div",{className:"scheduler__row-inner"},a.a.createElement(vt,L()({},e,{components:b,accessors:l,slotMetrics:C,resourceId:n.id,style:{height:I[n.id].height},styledEvents:I[n.id].styledEvents})),a.a.createElement(pt,L()({},e,{group:t,slotMetrics:C})))))})))})))),a.a.createElement("div",{className:"scheduler__bg"},a.a.createElement("table",null,a.a.createElement("colgroup",null,z.map((function(e){return e.map((function(e,t){return a.a.createElement("col",{key:t,style:{width:"".concat(30,"px")}})}))}))),a.a.createElement("tbody",null,a.a.createElement("tr",null,z.map((function(e){return e.map((function(e,t){return a.a.createElement("td",{key:t,className:"scheduler__bg--".concat(0===t?"major":"minor"),style:{width:"".concat(30,"px")}})}))}))))))))),width:k})))};ht.propTypes={date:M.a.instanceOf(Date).isRequired,events:M.a.array.isRequired,resources:M.a.array.isRequired};var gt=function(e){return a.a.createElement(Ve,e,a.a.createElement(ht,e))};gt.title=function(e,t){return t.localizer.format(e,"dayHeaderFormat")},gt.navigate=function(e,t){switch(t){case te.b.PREVIOUS:return Ee.add(e,-1,"day");case te.b.NEXT:return Ee.add(e,1,"day");default:return e}};var bt=gt;function yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K()(e);if(t){var a=K()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return J()(this,n)}}var Ot=m.a.utils,Et=function(e){W()(n,e);var t=yt(n);function n(){return B()(this,n),t.apply(this,arguments)}return V()(n,[{key:"render",value:function(){var e=this.props,t=e.localizer.messages,n=e.label,r=e.maxDate,o=e.minDate,i=e.date,c=e.onDateChange,s=p()(i).format("YYYY-MM-DD"),l=Object(ae.a)({root:{fontSize:"16px",letterSpacing:"normal",textTransform:"none"}})(ne.a);return a.a.createElement("div",{className:"rbc-toolbar"},a.a.createElement("span",{className:"rbc-btn-group"},a.a.createElement(ne.a,{variant:"contained",color:"primary",size:"small",className:"rbc-btn rbc-btn--today",onClick:this.navigate.bind(null,te.b.TODAY)},t.today)),a.a.createElement("div",{className:"rbc-toolbar__heading"},a.a.createElement(re.a,{className:"rbc-toolbar__pager-button rbc-toolbar__pager-button--prev",onClick:this.navigate.bind(null,te.b.PREVIOUS),color:"primary","aria-label":"Previous",variant:"flat",disabled:o&&o>=s},a.a.createElement(se.a,null)),a.a.createElement(oe.a,{utils:me.a,moment:p.a},a.a.createElement(ie.a,{onChange:function(e){return c(e.toDate())},TextFieldComponent:function(e){var t=e.onClick;return a.a.createElement(l,{name:name,input:i,onClick:t,endIcon:a.a.createElement(fe.a,null)},a.a.createElement("h2",{className:"rbc-toolbar__label"},n))},value:i,className:"date-filter",minDate:o})),a.a.createElement(re.a,{className:"rbc-toolbar__pager-button rbc-toolbar__pager-button--next",onClick:this.navigate.bind(null,te.b.NEXT),color:"primary","aria-label":"Next",disabled:r&&r<=s},a.a.createElement(ue.a,null))),a.a.createElement("span",{className:"rbc-btn-group rbc-btn-group--views"},this.viewNamesGroup(t)))}}]),n}(ee.a);function wt(e,t){if(!t)return e;if("string"!=typeof t.id)return[].concat(e,t);var n=ve()(e,(function(e){return e.id===t.id}));if(n<0)return e;var r=N()(e);return r[n]=t,r}var _t=function(e){W()(n,e);var t=yt(n);function n(e){var r;return B()(this,n),r=t.call(this,e),s()(U()(r),"getDateFromTime",(function(e,t){var n=parseInt(e.slice(0,2),10),r=parseInt(e.slice(2),10),a=new Date((t||new Date("Jan 1, 2000 00:00:00")).getTime());return a.setHours(n),a.setMinutes(r),a})),s()(U()(r),"handleDateChange",(function(e){r.props.onDateChange(e)})),s()(U()(r),"handleViewChange",(function(e){r.props.onViewChange(e)})),s()(U()(r),"getMergedEvents",(function(e,t){return t&&"string"!=typeof t.id?[].concat(e,t):e})),r.state={showEvent:!1},r.onHideEvent=r.onHideEvent.bind(U()(r)),r}return V()(n,[{key:"onHideEvent",value:function(){this.setState({showEvent:!1})}},{key:"render",value:function(){var e,t=this.props,n=t.date,r=t.defaultDate,o=t.min,i=t.max,c=t.events,s=t.resources,l=t.selected;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Z.a,{className:"rbc-calendar--no-overlap",components:(e=this.props,{event:ge,toolbar:function(t){return a.a.createElement(Et,L()({},e,t))}}),date:n,dnd:!0,defaultDate:r,defaultView:this.props.view,draggableAccessor:this.props.draggableAccessor,elementProps:{style:{height:"calc(100vh - 26rem)"}},endAccessor:this.props.endAccessor,eventPropGetter:function(e){return{className:"rbc-event--".concat(e.status," ").concat(e.hasEvent?"rbc-event--hasEvent":""," ").concat(e.isReservedByStaff?"rbc-event--isReservedByStaff":"")}},events:wt(c,l),resources:"day"===this.props.view?s:void 0,max:this.getDateFromTime(i&&"2400"!==i&&"0000"!==i?i:"2359",n),min:this.getDateFromTime(o||"0000",n),onNavigate:this.props.onDateChange,onView:this.handleViewChange,onEventDrop:this.props.onChangeEvent,onEventResize:this.props.onChangeEvent,onSelectEvent:this.props.onSelectEvent,onDoubleClickEvent:this.props.onDoubleClickEvent,onSelectSlot:this.props.onSelectSlot,onDragStart:this.props.onDragStart,resizable:!0,selected:l,selectable:!0,startAccessor:this.props.startAccessor,step:15,timeslots:4,timeZoneName:Ot.getUserTimezone(),titleAccessor:function(){return"Booked"},views:{day:bt}}))}}]),n}(a.a.Component);_t.propTypes={onChangeEvent:M.a.func,onDateChange:M.a.func,onDragStart:M.a.func,onDoubleClickEvent:M.a.func,onSelectEvent:M.a.func,draggableAccessor:M.a.func,onSelectSlot:M.a.func,onViewChange:M.a.func,endAccessor:M.a.func,startAccessor:M.a.func,date:M.a.instanceOf(Date),defaultDate:M.a.instanceOf(Date),view:M.a.string,min:M.a.string,max:M.a.string},_t.defaultProps={onChangeEvent:function(){},onDateChange:function(){},onDoubleClickEvent:function(){},onDragStart:function(){},onSelectEvent:function(){},draggableAccessor:function(){},startAccessor:function(){},endAccessor:function(){},onSelectSlot:function(){},onNavigate:null,onView:null,onViewChange:null,date:Ot.getUserTimeNow(),defaultDate:Ot.getUserTimeNow(),view:"day",min:"0000",max:"2359"};var Dt=_t,jt=(n(88),n(7)),St=n.n(jt);n(437);var xt=a.a.createContext(),Rt=function(e){return function(){return new Promise((function(t,n){fetch("".concat(e,"&fields[node--room]=title,field_location,drupal_internal__nid"),{credentials:"same-origin"}).then((function(e){return e.json()})).then(t).catch(n)}))}},Pt=function(e){var t=e.view,n=e.display,o=e.children,i=Object(r.useState)(null),c=A()(i,2),s=c[0],l=c[1],u=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(r.useState)(!1),a=A()(n,2),o=a[0],i=a[1],c=Object(r.useState)(null),s=A()(c,2),l=s[0],u=s[1],d=Object(r.useState)(null),f=A()(d,2),p=f[0],v=f[1],m=Object(r.useCallback)((function(){return i(!0),u(null),v(null),e().then((function(e){return u(e)})).catch((function(e){return v(e)})).finally((function(){return i(!1)}))}),[e]);return Object(r.useEffect)((function(){t&&m()}),[m,t]),{execute:m,pending:o,value:l,error:p}}(Object(r.useCallback)(Rt(s),[s]),!1),d=u.execute,f=u.pending,p=u.value,v=u.error;ot("jsonApiViewsUriChange",Object(r.useCallback)((function(e){var r=e.detail;t===r.view&&n===r.display&&l(r.uri)}),[l])),Object(r.useEffect)((function(){var e=St()(window,"Drupal.behaviors.jsonApiViewsBlock.getUri")?window.Drupal.behaviors.jsonApiViewsBlock.getUri(t,n):null;l(e)}),[]),Object(r.useEffect)((function(){s&&d()}),[s]);var m={rooms:p?p.data:[],pending:f,error:v};return a.a.createElement(xt.Provider,{value:m},o)};Pt.propTypes={children:M.a.element.isRequired,display:M.a.string.isRequired,view:M.a.string.isRequired};var Tt=xt,At=n(61);function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zt=m.a.constants,Mt=m.a.api,kt=m.a.select,Ft=m.a.utils,It=zt,Ut=function(e,t){return e.map((function(e){return function(e,t){return{id:e.id,title:e.attributes.title,groupId:e.relationships.field_location.data[0].id,hours:t(e.relationships.field_location.data[0].id),drupal_internal__nid:Object(F.get)(e,"attributes.drupal_internal__nid")}}(e,t)}))},Yt=function(e){var t=[];return Object(F.get)(e,"rooms")&&Object(F.forEach)(e.rooms,(function(e,n){Object(F.isEmpty)(e.dates)||(t=[].concat(N()(t),N()(Object(F.map)(e.dates,(function(e){return function(e,t){return{id:Object(F.get)(e,"uuid"),title:Object(F.get)(e,"message","Booked"),resourceId:Object(F.get)(e,"resource",t),status:Object(F.get)(e,"status","disabled"),start:Object(F.get)(e,"start"),end:Object(F.get)(e,"end"),hasEvent:Object(F.get)(e,"hasEvent"),isReservedByStaff:Object(F.get)(e,"isReservedByStaff"),drupal_internal__id:Object(F.get)(e,"id",t)}}(e,n)})))))})),t};var Lt=function(e){var t=e.availability,n=e.date,o=e.getLocationHours,i=e.fetchAvailability,c=e.fetchLocations,l=e.onChangeDate,u=e.onChangeView,d=e.purgeReservations,f=e.locations,v=e.view,m=Object(r.useContext)(Tt).rooms,h=Object(r.useContext)(nt).setGroups,g=function(){var e=m.map((function(e){return e.attributes.drupal_internal__nid})),t=Ft.getUserTimezone(),r=p.a.tz(n,t),a=r.clone().startOf("day"),o=r.clone().endOf("day");i({roomIds:e,start:a,end:o})},b=Object(r.useState)(null),y=A()(b,2),O=y[0],E=y[1];Object(r.useEffect)((function(){c({filters:{onlyBranchLocation:{path:"field_branch_location",value:"1"},published:{path:"status",value:"1"}},fields:s()({},It.TYPE_LOCATION,["title","field_location_hours","field_branch_location","status"])})}),[]),Object(r.useEffect)((function(){m.length>0&&g()}),[n,v,m]),Object(r.useEffect)((function(){h(function(e,t){return e.map((function(e){return function(e,t){return{id:e.data.id,title:e.data.attributes.title,hours:t(e.data.id)}}(e,t)}))}(f,o))}),[f]);var w=Ut(m,o),_=Yt(t);return ot("intercept:saveRoomReservationSuccess",(function(){g(),O&&"string"!=typeof O.id&&E(null)}),window,!0),ot("intercept:updateRoomReservation",(function(e,t){!function(e){var t=Object(F.find)(_,(function(t){return t.id===e.id}))||{title:""};E(Nt(Nt({},t),{},{start:p()(e.start).tz(Ft.getUserTimezone()).format(),end:p()(e.end).tz(Ft.getUserTimezone()).format(),resourceId:e.room}))}(t)}),window,!0),ot("intercept:closeRoomReservation",(function(){E(null)})),a.a.createElement("div",null,a.a.createElement(Dt,{date:n,events:_,resources:w,view:v,onDateChange:function(e){d(),l(e)},onViewChange:u,onChangeEvent:function(e){E(Nt(Nt({},e.event),{},{start:p()(e.start).tz(Ft.getUserTimezone()).format(),end:p()(e.end).tz(Ft.getUserTimezone()).format(),resourceId:e.resourceId})),window.dispatchEvent(function(e,t){var n=Ft.getUserTimezone(),r=p()(e.start).tz(n),a=p()(e.end).tz(n),o=t.find((function(t){return t.id===e.resourceId}));return new CustomEvent("intercept:changeRoomReservation",{detail:Nt(Nt({},e.event),{},{resource:o,end:{date:a.format("YYYY-MM-DD"),time:a.format("HH:mm:ss")},start:{date:r.format("YYYY-MM-DD"),time:r.format("HH:mm:ss")}})})}(e,w))},onSelectEvent:function(e){var t;e.drupal_internal__id&&(E(e),window.dispatchEvent((t=e.drupal_internal__id,new CustomEvent("intercept:viewRoomReservation",{detail:{id:t}}))))},draggableAccessor:function(e){return!!e.drupal_internal__id},startAccessor:function(e){var t=p()(Ft.dateFromDrupal(e.start)),r=p()(n).tz(Ft.getUserTimezone()).startOf("day");return p.a.max(t,r).toDate()},endAccessor:function(e){var t=p()(Ft.dateFromDrupal(e.end)),r=p()(n).tz(Ft.getUserTimezone()).endOf("day").subtract(1,"seconds"),a=p.a.min(t,r);return 0===a.get("hour")&&a.subtract(1,"seconds"),a.toDate()},onSelectSlot:function(e){E({title:"",start:p()(e.start).tz(Ft.getUserTimezone()).format(),end:p()(e.end).tz(Ft.getUserTimezone()).format(),resourceId:e.resourceId}),window.dispatchEvent(function(e,t){var n=Ft.getUserTimezone(),r=p()(e.start).tz(n),a=p()(e.end).tz(n),o=t.find((function(t){return t.id===e.resourceId}));return new CustomEvent("intercept:addRoomReservation",{detail:Nt(Nt({},e.event),{},{resource:o,end:{date:a.format("YYYY-MM-DD"),time:a.format("HH:mm:ss")},start:{date:r.format("YYYY-MM-DD"),time:r.format("HH:mm:ss")}})})}(e,w))},onDoubleClickEvent:function(e){var t;e.drupal_internal__id&&window.dispatchEvent((t=e.drupal_internal__id,new CustomEvent("intercept:editRoomReservation",{detail:{id:t}})))},selected:O}))};Lt.propTypes={getLocationHours:M.a.func.isRequired,locations:M.a.arrayOf(Object).isRequired,locationsLoading:M.a.bool.isRequired,fetchAvailability:M.a.func.isRequired,fetchLocations:M.a.func.isRequired,onChangeDate:M.a.func.isRequired,onChangeView:M.a.func.isRequired,purgeReservations:M.a.func.isRequired,date:M.a.instanceOf(Date),view:M.a.string},Lt.defaultProps={view:"day",date:Ft.getUserTimeNow()};var Ht=Object(k.b)((function(e,t){return{locations:kt.locationsAscending(e),locationsLoading:kt.recordsAreLoading(It.TYPE_LOCATION)(e),getLocationHours:function(n){return kt.locationHoursTimesOnDate(n,t.date||Ft.getUserTimeNow())(e)},openHoursLimit:kt.locationsOpenHoursLimit(e),calendarRooms:[]}}),(function(e){return{fetchLocations:function(t){e(Mt[It.TYPE_LOCATION].fetchAll(t))},fetchUser:function(t){e(Mt[It.TYPE_USER].fetchAll(t))},purgeReservations:function(t){e(Mt[It.TYPE_ROOM_RESERVATION].purge(t))}}}))(Object(At.a)(Lt)),Bt=P((function(e){return a.a.createElement(Pt,{view:"intercept_rooms",display:"default"},a.a.createElement(tt,null,a.a.createElement(Ht,e)))})),qt=Object(i.a)(Bt);Object(o.render)(a.a.createElement(qt,null),document.getElementById("roomReservationSchedulerRoot"))}});