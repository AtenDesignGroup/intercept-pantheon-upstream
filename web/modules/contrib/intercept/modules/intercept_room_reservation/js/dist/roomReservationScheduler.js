!function(e){function t(t){for(var r,i,c=t[0],s=t[1],l=t[2],d=0,f=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(u&&u(t);f.length;)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={14:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window.wpJsonpIntercept=window.wpJsonpIntercept||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;a.push([864,0]),n()}({0:function(e,t){e.exports=React},115:function(e,t){e.exports=interceptTheme},16:function(e,t){e.exports=moment},168:function(e,t,n){var r=n(187),o=n(249),a=n(250);e.exports=function(e,t){return a(o(e,t,r),e+"")}},194:function(e,t,n){var r=n(153),o=n(154),a=n(253),i=n(314);e.exports=function(e,t){if(null==e)return{};var n=r(i(e),(function(e){return[e]}));return t=o(t),a(e,n,(function(e,n){return t(e,n[0])}))}},230:function(e,t,n){var r=n(417),o=n(418),a=n(299),i=n(97),c=n(134),s=n(349),l=n(248),u=n(350),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(c(e)&&(i(e)||"string"==typeof e||"function"==typeof e.splice||s(e)||u(e)||a(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(l(e))return!r(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},25:function(e,t){e.exports=ReactDOM},314:function(e,t,n){var r=n(353),o=n(315),a=n(317);e.exports=function(e){return r(e,a,o)}},315:function(e,t,n){var r=n(305),o=n(316),a=n(354),i=n(356),c=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,a(e)),e=o(e);return t}:i;e.exports=c},316:function(e,t,n){var r=n(351)(Object.getPrototypeOf,Object);e.exports=r},317:function(e,t,n){var r=n(348),o=n(318),a=n(134);e.exports=function(e){return a(e)?r(e,!0):o(e)}},318:function(e,t,n){var r=n(133),o=n(248),a=n(319),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=o(e),n=[];for(var c in e)("constructor"!=c||!t&&i.call(e,c))&&n.push(c);return n}},319:function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},325:function(e,t,n){var r=n(188),o=n(431),a=n(168),i=n(435),c=a((function(e,t){if(null==e)return[];var n=t.length;return n>1&&i(e,t[0],t[1])?t=[]:n>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),o(e,r(t,1),[])}));e.exports=c},332:function(e,t,n){"use strict";t.__esModule=!0,t.notify=function(e,t){e&&e.apply(null,[].concat(t))},t.instanceId=function(e,t){void 0===t&&(t="");return e.__id||(e.__id=function(e){return""+((null==e?"":e)+ ++r)}("rw_")),(e.props.id||e.__id)+t},t.isFirstFocusedRender=function(e){return e._firstFocus||e.state.focused&&(e._firstFocus=!0)};var r=0},366:function(e,t,n){"use strict";var r=n(14),o=n(74).find,a=n(120),i=n(75),c=!0,s=i("find");"find"in[]&&Array(1).find((function(){c=!1})),r({target:"Array",proto:!0,forced:c||!s},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a("find")},388:function(e,t){e.exports=jQuery},431:function(e,t,n){var r=n(153),o=n(154),a=n(420),i=n(432),c=n(247),s=n(433),l=n(187);e.exports=function(e,t,n){var u=-1;t=r(t.length?t:[l],c(o));var d=a(e,(function(e,n,o){return{criteria:r(t,(function(t){return t(e)})),index:++u,value:e}}));return i(d,(function(e,t){return s(e,t,n)}))}},432:function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},433:function(e,t,n){var r=n(434);e.exports=function(e,t,n){for(var o=-1,a=e.criteria,i=t.criteria,c=a.length,s=n.length;++o<c;){var l=r(a[o],i[o]);if(l)return o>=s?l:l*("desc"==n[o]?-1:1)}return e.index-t.index}},434:function(e,t,n){var r=n(244);e.exports=function(e,t){if(e!==t){var n=void 0!==e,o=null===e,a=e==e,i=r(e),c=void 0!==t,s=null===t,l=t==t,u=r(t);if(!s&&!u&&!i&&e>t||i&&c&&l&&!s&&!u||o&&c&&l||!n&&l||!a)return 1;if(!o&&!i&&!u&&e<t||u&&n&&a&&!o&&!i||s&&n&&a||!c&&a||!l)return-1}return 0}},435:function(e,t,n){var r=n(296),o=n(134),a=n(301),i=n(133);e.exports=function(e,t,n){if(!i(n))return!1;var c=typeof t;return!!("number"==c?o(n)&&a(t,n.length):"string"==c&&t in n)&&r(n[t],e)}},437:function(e,t,n){"use strict";var r=n(14),o=n(164),a=n(104),i=n(49),c=n(60),s=n(236),l=n(151),u=n(237),d=n(75),f=u("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,m=Math.min;r({target:"Array",proto:!0,forced:!f||!p},{splice:function(e,t){var n,r,u,d,f,p,h=c(this),g=i(h.length),b=o(e,g),y=arguments.length;if(0===y?n=r=0:1===y?(n=0,r=g-b):(n=y-2,r=m(v(a(t),0),g-b)),g+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(u=s(h,r),d=0;d<r;d++)(f=b+d)in h&&l(u,d,h[f]);if(u.length=r,n<r){for(d=b;d<g-r;d++)p=d+n,(f=d+r)in h?h[p]=h[f]:delete h[p];for(d=g;d>g-r+n;d--)delete h[d-1]}else if(n>r)for(d=g-r;d>b;d--)p=d+n-1,(f=d+r-1)in h?h[p]=h[f]:delete h[p];for(d=0;d<n;d++)h[d+b]=arguments[d+2];return h.length=g-r+n,u}})},439:function(e,t,n){"use strict";var r=n(14),o=n(86),a=n(426),i=n(31),c=n(95),s=n(140),l=n(428),u=n(72);r({target:"Promise",proto:!0,real:!0,forced:!!a&&i((function(){a.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=s(this,c("Promise")),n="function"==typeof e;return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),o||"function"!=typeof a||a.prototype.finally||u(a.prototype,"finally",c("Promise").prototype.finally)},527:function(e,t,n){var r=n(862),o=n(298),a=n(863),i=n(97);e.exports=function(e,t){return(i(e)?r:o)(e,a(t))}},528:function(e,t,n){"use strict";var r=n(56);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(0)),a=(0,r(n(107)).default)(o.default.createElement("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"}),"CalendarToday");t.default=a},6:function(e,t){e.exports=interceptClient},61:function(e,t,n){"use strict";n(40),n(34),n(38),n(44),n(45),n(37),n(19),n(87),n(21),n(20),n(39);var r=n(23),o=n.n(r),a=n(10),i=n.n(a),c=n(9),s=n.n(c),l=n(3),u=n.n(l),d=n(11),f=n.n(d),p=n(12),v=n.n(p),m=n(5),h=n.n(m),g=n(2),b=n.n(g),y=n(0),O=n.n(y),E=n(46),w=n.n(E),_=n(6);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var x=n.n(_).a.utils;t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return function(n){f()(a,n);var r=S(a);function a(e){var n;return i()(this,a),n=r.call(this,e),b()(u()(n),"handleResponse",(function(e){return n.mounted&&n.setState({availability:j(j({},n.state.availability),{},{loading:!1,rooms:JSON.parse(e),shouldUpdate:!1})}),e})),n.handleResponse=n.handleResponse.bind(u()(n)),n.fetchAvailability=w()(n.fetchAvailability,t).bind(u()(n)),n.state={availability:{loading:!1,shouldUpdate:!1,rooms:[]}},n}return s()(a,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchAvailability",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return this.setState({availability:j(j({},this.state.availability),{},{loading:!0,shouldUpdate:!1})}),fetch("/api/rooms/availability",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(j(j({},e),{},{start:x.dateToDrupal(x.ensureDate(e.start)),end:x.dateToDrupal(x.ensureDate(e.end))}))}).then((function(e){return e.text()})).then((function(e){return n(t.handleResponse(e))})).catch((function(e){t.mounted&&(console.log(e),t.setState({availability:j(j({},t.state.availability),{},{loading:!1,shouldUpdate:!1})}))}))}},{key:"render",value:function(){return O.a.createElement(e,o()({availability:this.state.availability,fetchAvailability:this.fetchAvailability},this.props))}}]),a}(O.a.Component)}},859:function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},860:function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}},861:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},862:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},863:function(e,t,n){var r=n(187);e.exports=function(e){return"function"==typeof e?e:r}},864:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(25),i=n(68),c=n(2),s=n.n(c),l=n(30),u=n(194),d=n.n(u),f=n(16),p=n.n(f),v=n(6),m=n.n(v),h=n(206),g=l.Serialize.decodeArray,b=l.Serialize.encodeArray,y=l.Serialize.decodeBoolean,O=l.Serialize.encodeBoolean,E=l.Serialize.decodeObject,w=l.Serialize.encodeObject,_=l.Serialize.decodeString,D=l.Serialize.encodeString,j=m.a.constants,S=m.a.utils,x=j,R={view:{type:l.UrlQueryParamTypes.string},date:{type:{decode:function(e){var t=Object(l.decode)(l.UrlQueryParamTypes.date,e)||null;if(null!==t){var n=p.a.tz(new Date,S.getUserTimezone()),r=p.a.tz(S.convertDateToLocal(t,S.getUserTimezone()),S.getUserTimezone());return r.set({hour:n.hour(),minute:n.minute(),second:n.second(),millisecond:n.millisecond()}),r.toDate()||null}},encode:function(e){return p()(e).tz(S.getUserTimezone()).format("YYYY-MM-DD")||null}}},room:{type:l.UrlQueryParamTypes.string},roomDetail:{type:l.UrlQueryParamTypes.string},detail:{type:l.UrlQueryParamTypes.boolean},event:{type:l.UrlQueryParamTypes.string},filters:{type:{decode:function(e){var t,n;if(!e)return n={},s()(n,x.TYPE_LOCATION,[]),s()(n,x.TYPE_ROOM_TYPE,[]),s()(n,x.DATE,null),s()(n,x.KEYWORD,""),n;var r=E(e,":","_");return t={},s()(t,x.TYPE_LOCATION,g(r.location,",")||[]),s()(t,x.TYPE_ROOM_TYPE,g(r.type,",")||[]),s()(t,"attendees",Object(l.decode)(l.UrlQueryParamTypes.number,r.attendees)),s()(t,x.DATE,r[x.DATE]?S.getDateFromDayTimeStamp(r[x.DATE]):null),s()(t,x.KEYWORD,_(r.keyword)),s()(t,"time",_(r.time)),s()(t,"duration",_(r.duration)),s()(t,"now",y(r.now)),t},encode:function(e){var t,n,r=(t={location:b(e[x.TYPE_LOCATION],","),type:b(e[x.TYPE_ROOM_TYPE],","),attendees:Object(l.encode)(l.UrlQueryParamTypes.number,e.attendees)},s()(t,x.DATE,e[x.DATE]?S.getDayTimeStamp(e[x.DATE]):null),s()(t,"time",D(e.time)),s()(t,"duration",D(e.duration)),s()(t,x.KEYWORD,D(e.keyword)),s()(t,"now",O(e.now)),n=t,d()(n,(function(e){return e})));return w(r,":","_")}}}},P=function(e){return Object(h.a)(Object(l.addUrlProps)({urlPropsQueryConfig:R})(e))},T=(n(40),n(29),n(34),n(366),n(38),n(32),n(44),n(45),n(37),n(39),n(93)),A=n.n(T),C=n(62),N=n.n(C),z=n(1),M=n.n(z),k=n(18),F=n(527),I=n.n(F),U=n(7),Y=n.n(U),L=n(230),H=n.n(L),B=n(55),q=n.n(B),V=(n(367),n(19),n(114),n(21),n(20),n(3)),G=n.n(V),W=n(23),Q=n.n(W),J=n(10),X=n.n(J),K=n(9),Z=n.n(K),$=n(11),ee=n.n($),te=n(12),ne=n.n(te),re=n(5),oe=n.n(re),ae=n(203),ie=n(199),ce=n.n(ie),se=n(69),le=n(390),ue=n(880),de=n(15),fe=n(85),pe=n(449),ve=n(201),me=n.n(ve),he=n(202),ge=n.n(he),be=n(528),ye=n.n(be),Oe=n(445),Ee=n.n(Oe),we=n(205),_e=function(e){var t=e.event;return o.a.createElement("div",{className:"reservation-calendar-event reservation-calendar-event"},o.a.createElement("p",{className:"reservation-calendar-event__title"},t.title))};_e.propTypes={event:M.a.shape({title:M.a.string.isRequired}).isRequired};var De=_e,je=(n(96),n(122),n(178)),Se=n.n(je),xe=n(8),Re=n(22),Pe=n(332),Te=n(324),Ae=n(148);function Ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oe()(e);if(t){var o=oe()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ne()(this,n)}}var Ne=function(e){ee()(n,e);var t=Ce(n);function n(){var e;X()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),s()(G()(e),"handleResizeUp",(function(t){0===t.button&&(t.stopPropagation(),e.context.draggable.onBeginAction(e.props.event,"resize","UP"))})),s()(G()(e),"handleResizeDown",(function(t){0===t.button&&(t.stopPropagation(),e.context.draggable.onBeginAction(e.props.event,"resize","DOWN"))})),s()(G()(e),"handleResizeLeft",(function(t){0===t.button&&(t.stopPropagation(),e.context.draggable.onBeginAction(e.props.event,"resize","LEFT"))})),s()(G()(e),"handleResizeRight",(function(t){0===t.button&&(t.stopPropagation(),e.context.draggable.onBeginAction(e.props.event,"resize","RIGHT"))})),s()(G()(e),"handleStartDragging",(function(t){0===t.button&&e.context.draggable.onBeginAction(e.props.event,"move")})),e}return Z()(n,[{key:"renderAnchor",value:function(e){var t="Up"===e||"Down"===e?"ns":"ew";return o.a.createElement("div",{className:"rbc-addons-dnd-resize-".concat(t,"-anchor"),onMouseDown:this["handleResize".concat(e)],role:"button",tabIndex:0},o.a.createElement("div",{className:"rbc-addons-dnd-resize-".concat(t,"-icon")}))}},{key:"render",value:function(){var e=this.props,t=e.event,n=(e.type,e.continuesPrior),r=e.continuesAfter,a=this.props.children,i=Object(Ae.accessor)(t,"isEditable");if(t.__isPreview)return o.a.cloneElement(a,{className:Object(xe.default)(a.props.className,"rbc-addons-dnd-drag-preview")});var c=this.context.draggable,s=c.draggableAccessor,l=c.resizableAccessor,u=i&&(!s||!!Object(Ae.accessor)(t,s));if(!u)return a;var d=i&&(!l||!!Object(Ae.accessor)(t,l));if(d||u){var f={onMouseDown:this.handleStartDragging,onTouchStart:this.handleStartDragging};if(d){var p,v;p=!n&&this.renderAnchor("Left"),v=!r&&this.renderAnchor("Right"),f.children=o.a.createElement("div",{className:"rbc-addons-dnd-resizable"},p,a.props.children,v)}c.dragAndDropAction.interacting&&c.dragAndDropAction.event===t&&(f.className=Object(xe.default)(a.props.className,"rbc-addons-dnd-dragged-event")),a=o.a.cloneElement(a,f)}return a}}]),n}(o.a.Component);s()(Ne,"contextTypes",{draggable:M.a.shape({onStart:M.a.func,onEnd:M.a.func,onBeginAction:M.a.func,draggableAccessor:Te.accessor,resizableAccessor:Te.accessor,dragAndDropAction:M.a.object})}),s()(Ne,"propTypes",{type:M.a.oneOf(["date","time"]),event:M.a.object.isRequired,draggable:M.a.bool,allDay:M.a.bool,isRow:M.a.bool,continuesPrior:M.a.bool,continuesAfter:M.a.bool,isDragging:M.a.bool,isResizing:M.a.bool});var ze=Ne,Me=n(47),ke=n(110),Fe=n.n(ke);function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ye(e){return"string"==typeof e?e:e+"%"}var Le=function(e){var t=e.style,n=e.className,r=e.event,a=e.accessors,i=(e.rtl,e.selected),c=e.label,s=e.continuesEarlier,l=e.continuesLater,u=e.getters,d=e.onClick,f=e.onDoubleClick,p=e.components,v=p.event,m=p.eventWrapper,h=Object(Ae.accessor)(r,"isEditable"),g=a.title(r),b=a.tooltip(r),y=a.end(r),O=a.start(r),E=u.eventProp(r,O,y,i),w=t.height,_=t.top,D=t.width,j=t.left,S=(t.xOffset,[o.a.createElement("div",{key:"1",className:"rbc-event-label"},c),o.a.createElement("div",{key:"2",className:"rbc-event-content"},v?o.a.createElement(v,{event:r,title:g}):g)]);return o.a.createElement(m,Q()({type:"time"},e),o.a.createElement("div",{onClick:h?d:null,onDoubleClick:h?f:null,style:Ue(Ue({},E.style),{},{top:Ye(_),left:Ye(j),width:Ye(D),height:Ye(w)}),title:b?("string"==typeof c?c+": ":"")+b:void 0,className:Object(xe.default)("rbc-event",n,E.className,{"rbc-selected":i,"rbc-event-continues-earlier":s,"rbc-event-continues-later":l})},S))},He=n(322),Be=n(444),qe=n.n(Be);function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oe()(e);if(t){var o=oe()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ne()(this,n)}}var Qe=function(e,t){var n=t.x,r=t.y,o=e.left,a=e.bottom,i=e.top;return r<a&&r>i&&n>o},Je=function(e){ee()(n,e);var t=We(n);function n(){var e;X()(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i)),s()(G()(e),"handleMove",(function(t,n){var r=e.context.draggable.dragAndDropAction.event,o=e.props,a=o.accessors,i=o.slotMetrics;if(Qe(n,t)){var c=i.closestSlotFromPoint({y:t.y-e.eventOffsetTop,x:t.x},n),s=a.start(r),l=a.end(r),u=Me.add(c,Me.diff(s,l,"minutes"),"minutes");e.update(r,i.getRange(c,u,!1,!0))}else e.reset()})),s()(G()(e),"handleDropFromOutside",(function(t,n){var r=e.props,o=r.slotMetrics,a=r.resource,i=o.closestSlotFromPoint({y:t.y,x:t.x},n);e.context.draggable.onDropFromOutside({start:i,end:o.nextSlot(i),allDay:!1,resource:a})})),s()(G()(e),"_selectable",(function(){var t=Object(a.findDOMNode)(G()(e)),n=e._selector=new Fe.a((function(){return t.closest(".rbc-time-view")})),r=function(n){var r=e.props.slotMetrics.closestSlotFromPoint(n,Object(ke.getBoundsForNode)(t));e.state.selecting||(e._initialSlot=r);var o=e._initialSlot;Me.lte(o,r)?r=e.props.slotMetrics.nextSlot(r):Me.gt(o,r)&&(o=e.props.slotMetrics.nextSlot(o));var a=e.props.slotMetrics.getRange(Me.min(o,r),Me.max(o,r));return Ge(Ge({},a),{},{selecting:!0,left:"".concat(a.left,"%"),width:"".concat(a.width,"%")})},o=function(t){var n=e.props.onSelecting,o=e.state||{},a=r(t),i=a.startDate,c=a.endDate;n&&(Me.eq(o.startDate,i,"minutes")&&Me.eq(o.endDate,c,"minutes")||!1===n({start:i,end:c,resourceId:e.props.resource}))||e.state.start===a.start&&e.state.end===a.end&&e.state.selecting===a.selecting||e.setState(a)},i=function(t,n){if(!Object(ke.isEvent)(Object(a.findDOMNode)(G()(e)),t)){var o=r(t),i=o.startDate,c=o.endDate;e._selectSlot({startDate:i,endDate:c,action:n,box:t})}e.setState({selecting:!1})};n.on("beforeSelect",(function(n){var r=e.context.draggable.dragAndDropAction;if(!r.action){if("ignoreEvents"!==e.props.selectable)return;return!Object(ke.isEvent)(Object(a.findDOMNode)(G()(e)),n)&&Qe(Object(ke.getBoundsForNode)(t),n)}if("resize"===r.action)return Qe(Object(ke.getBoundsForNode)(t),n);var o=Object(ke.getEventNodeFromPoint)(t,n);if(!o)return!1;e.eventOffsetLeft=n.x-Object(ke.getBoundsForNode)(o).left})),n.on("selecting",(function(n){var r=e.context.draggable.dragAndDropAction;if(r.action){var a=Object(ke.getBoundsForNode)(t);"move"===r.action&&e.handleMove(n,a),"resize"===r.action&&e.handleResize(n,a)}else o(n)})),n.on("dropFromOutside",(function(n){if(e.context.draggable.onDropFromOutside){var r=Object(ke.getBoundsForNode)(t);Qe(r,n)&&e.handleDropFromOutside(n,r)}})),n.on("dragOver",(function(n){if(e.context.draggable.dragFromOutsideItem){var r=Object(ke.getBoundsForNode)(t);e.handleDropFromOutside(n,r)}})),n.on("selectStart",(function(t){e.context.draggable.dragAndDropAction.action?e.context.draggable.onStart():o(t)})),n.on("select",(function(n){e.state.selecting&&(e._selectSlot(Ge(Ge({},e.state),{},{action:"select",point:n})),e.setState({selecting:!1}));var r=Object(ke.getBoundsForNode)(t);e.state.event&&Qe(r,n)&&e.handleInteractionEnd()})),n.on("click",(function(t){i(t,"click"),e.context.draggable.onEnd(null)})),n.on("doubleClick",(function(e){return i(e,"doubleClick")})),n.on("reset",(function(){e.reset(),e.context.draggable.onEnd(null)}))})),s()(G()(e),"handleInteractionEnd",(function(){var t=e.props.resource,n=e.state.event;e.reset(),e.context.draggable.onEnd({start:n.start,end:n.end,resourceId:t})})),s()(G()(e),"_teardownSelectable",(function(){e._selector&&(e._selector.teardown(),e._selector=null)})),s()(G()(e),"_selectSlot",(function(t){for(var n=t.startDate,r=t.endDate,o=t.action,a=t.bounds,i=t.box,c=n,s=[];Me.lte(c,r);)s.push(c),c=Me.add(c,e.props.step,"minutes");Object(Pe.notify)(e.props.onSelectSlot,{slots:s,start:n,end:r,resourceId:e.props.resource,action:o,bounds:a,box:i})})),s()(G()(e),"eventHeight",(function(){return"".concat(e.props.eventHeight,"px")})),s()(G()(e),"renderPlaceholderEvent",(function(){var t=e.state,n=t.left,r=t.width,a={start:t.startDate,end:t.endDate},i=e.props.localizer;return o.a.createElement("div",{className:"rbc-slot-selection",style:{left:n,width:r,height:e.eventHeight()}},o.a.createElement("span",null,i.format(a,"selectRangeFormat")))})),s()(G()(e),"renderSelectedEvent",(function(){var t,n=e.props,r=n.accessors,a=n.components,i=n.getters,c=n.slotMetrics,s=n.localizer,l=e.state,u=l.event,d=l.left,f=l.width,p=u.start,v=u.end,m="eventTimeRangeFormat",h=c.startsBeforeDay(p),g=c.startsAfterDay(v);return h?m="eventTimeRangeEndFormat":g&&(m="eventTimeRangeStartFormat"),t=h&&g?s.messages.allDay:s.format({start:p,end:v},m),o.a.createElement(Le,{event:u,label:t,className:"rbc-addons-dnd-drag-preview",style:{left:d,width:f,height:e.eventHeight()},getters:i,components:Ge(Ge({},a),{},{eventWrapper:qe.a}),accessors:Ge(Ge({},r),He.dragAccessors),continuesEarlier:h,continuesLater:g})})),e.state={selecting:!1,timeIndicatorPosition:null},e}return Z()(n,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.event&&this.setState({event:null,left:null,width:null}),this.state.selecting&&this.setState({selecting:!1})}},{key:"update",value:function(e,t){var n=t.startDate,r=t.endDate,o=t.left,a=t.width,i=this.state.event;i&&n===i.start&&r===i.end||this.setState({left:o,width:a,event:Ge(Ge({},e),{},{start:n,end:r})})}},{key:"handleResize",value:function(e,t){var n,r,o=this.props,a=o.accessors,i=o.slotMetrics,c=this.context.draggable.dragAndDropAction,s=c.event,l=c.direction,u=i.closestSlotFromPoint(e,t);"LEFT"===l?(r=a.end(s),n=Me.min(u,i.closestSlotFromDate(r,-1))):"RIGHT"===l&&(n=a.start(s),r=Me.max(u,i.closestSlotFromDate(n))),this.update(s,i.getRange(n,r))}},{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.event,r=t.selecting;if(!n&&!r)return e;var a=e.props.children;return o.a.cloneElement(e,{children:o.a.createElement(o.a.Fragment,null,a,n&&this.renderSelectedEvent(),r&&this.renderPlaceholderEvent())})}}]),n}(o.a.Component);s()(Je,"propTypes",{accessors:M.a.object.isRequired,components:M.a.object.isRequired,getters:M.a.object.isRequired,localizer:M.a.object.isRequired,selectable:M.a.string,slotMetrics:M.a.object.isRequired,resource:M.a.any}),s()(Je,"contextTypes",{draggable:M.a.shape({onStart:M.a.func,onEnd:M.a.func,onDropFromOutside:M.a.func,onBeginAction:M.a.func,dragAndDropAction:M.a.object,dragFromOutsideItem:M.a.func})});var Xe=Je,Ke=o.a.createContext(),Ze=function(e){var t=e.children,n=Se()(e,["children"]),r=n;return n.dnd&&(r.components.eventWrapper=ze,r.components.eventContainerWrapper=Xe),o.a.createElement(Ke.Provider,{value:r},t)};Ze.propTypes={children:M.a.element.isRequired,dnd:M.a.bool},Ze.defaultProps={dnd:!1};var $e=Ke,et=(n(437),n(325)),tt=n.n(et),nt=function(){function e(t,n){var r=n.accessors,o=n.slotMetrics;X()(this,e);var a=o.getRange(r.start(t),r.end(t)),i=a.start,c=a.startDate,s=a.end,l=a.endDate,u=a.left,d=a.width,f=a.height;this.start=i,this.end=s,this.startMs=+c,this.endMs=+l,this.left=u,this.width=d,this.height=f,this.data=t}return Z()(e,[{key:"_height",get:function(){return 50}},{key:"yOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._height;var e=this.row,t=e.leaves,n=e.yOffset,r=e._height;return n+(t.indexOf(this)+1)*r}}]),e}();function rt(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function ot(e){for(var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,o=e.accessors,a=function(e){for(var t=tt()(e,["startMs",function(e){return-e.endMs}]),n=[];t.length>0;){var r=t.shift();n.push(r);for(var o=0;o<t.length;o+=1){var a=t[o];if(!(r.endMs>a.startMs)){if(o>0){var i=t.splice(o,1)[0];n.push(i)}break}}}return n}(t.map((function(e){return new nt(e,{slotMetrics:r,accessors:o})}))),i=[],c=function(e){var t=a[e],r=i.find((function(e){return e.end>t.start||Math.abs(t.start-e.start)<n}));if(!r)return t.rows=[],i.push(t),"continue";t.container=r;for(var o=null,c=r.rows.length-1;!o&&c>=0;c-=1)rt(r.rows[c],t,n)&&(o=r.rows[c]);o?(o.leaves.push(t),t.row=o):(t.leaves=[],r.rows.push(t))},s=0;s<a.length;s+=1)c(s);return a.map((function(e){return{event:e.data,style:{top:"".concat(e.yOffset,"px"),left:e.left,height:"".concat(e._height,"px"),width:e.width,yOffset:Math.max(0,e.yOffset)+e._height}}}))}var at=function(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()},it=function(e,t,n,r){return"".concat(+Me.startOf(e,"minutes"))+"".concat(+Me.startOf(t,"minutes"))+"".concat(n,"-").concat(r)};var ct=o.a.createContext(),st=function(e){var t=e.children,n=Object(r.useState)([]),a=A()(n,2),i=a[0],c=a[1],s=Object(r.useState)([]),l=A()(s,2),u=l[0],d=l[1],f={groups:i,collapseAllGroups:function(){d(N()(i.map((function(e){return e.id}))))},collapseGroup:function(e){d([e].concat(N()(u)))},expandAllGroups:function(){d([])},expandGroup:function(e){d(u.filter((function(t){return t!==e})))},isGroupCollapsed:function(e){return u.indexOf(e)>=0},isGroupExpanded:function(e){return u.indexOf(e)<0},setGroups:c};return o.a.createElement(ct.Provider,{value:f},t)};st.propTypes={children:M.a.element.isRequired};var lt=ct;var ut=n(388),dt=n.n(ut);function ft(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Object(r.useRef)();Object(r.useEffect)((function(){a.current=t}),[t]),Object(r.useEffect)((function(){if(o&&void 0!==dt.a){var t=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a.current.apply(a,[e].concat(n))};return dt()(n).on(e,t),function(){dt()(n).off(e,t)}}if(n&&n.addEventListener){var r=function(e){return a.current(e)};return n.addEventListener(e,r),function(){n.removeEventListener(e,r)}}}),[e,n])}function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mt=m.a.utils;function ht(e,t){return!(!e||null==t)&&-1!==[].concat(t.id).indexOf(e.id)}var gt=function(e,t){var n;e.drupal_internal__nid&&window.dispatchEvent((n=e.drupal_internal__nid,new CustomEvent("intercept:viewRoom",{detail:{id:n}}))),t.preventDefault()},bt=function(e){var t=e.children,n=(e.width,e.timelineWidth),r=e.height,a=e.hideScrollbar,i=e.horizontal,c=e.overflow,s=e.vertical,l=e.scrollRef,u=e.scrollbarSize,d={},f={};i&&(d.overflowX="hidden",c&&(d.overflowX="auto")),s&&(d.height="".concat(r,"px"),d.overflowY="hidden",c&&(d.overflowY="auto"),a&&(f.marginRight="-".concat(u.width,"px")));var p={};return n&&(p.width="".concat(n,"px")),o.a.createElement("div",{className:"scheduler__scroll-wrapper",style:f},o.a.createElement("div",{className:"scheduler__scroll-frame",style:d,ref:l},o.a.createElement("div",{className:"scheduler__scroll-canvas",style:p},t)))},yt=function(e){var t=e.group,n=Object(r.useContext)(lt),a=n.isGroupCollapsed,i=n.collapseGroup,c=n.expandGroup,s=t.id,l=a(s),u=l?function(){return c(s)}:function(){return i(s)},d=l?"Expand Group":"Collapse Group";return o.a.createElement("button",{onClick:u,className:"scheduler__group-toggle","aria-expanded":!l},d)};yt.propTypes={group:M.a.shape({id:M.a.oneOfType([M.a.string,M.a.number]).isRequired}).isRequired};var Ot=function(e){var t=e.resourceComponent,n=e.timelineComponent;return o.a.createElement("tr",null,o.a.createElement("td",{className:"scheduler__section scheduler__section--resource"},t),o.a.createElement("td",{className:"scheduler__section scheduler__section--divider"}),o.a.createElement("td",{className:"scheduler__section scheduler__section--timeline"},n))},Et=function(e){var t,n=e.group,r=e.accessors,a=e.slotMetrics,i=e.height,c=e.step,s=e.timeslots;n.hours?t=function(e,t){var n=e.style;return[{state:"closed",style:{left:0,width:"".concat(n.left,"%"),height:"".concat(t,"px"),top:0}},{state:"open",style:{left:"".concat(n.left,"%"),width:"".concat(n.width,"%"),height:"".concat(t,"px"),top:0}},{state:"closed",style:{left:"".concat(n.left+n.width,"%"),width:"".concat(100-n.left-n.width,"%"),height:"".concat(t,"px"),top:0}}]}(ot({events:[n.hours],accessors:r,slotMetrics:a,minimumStartDifference:Math.ceil(c*s/2)})[0],i):t=[{state:"closed",style:{left:0,width:"100%",height:"".concat(i,"px")}}];return o.a.createElement("div",{className:"scheduler__resource-hours",style:{height:"".concat(i,"px")}},t.map((function(e,t){return o.a.createElement("div",{key:t,className:"scheduler__resource-hours__block scheduler__resource-hours__block--".concat(e.state),style:e.style})})))},wt=function(e){var t=e.resourceId,n=e.slotMetrics,a=function(){var t=e.accessors,r=e.components,a=e.getters,i=e.localizer,c=e.rtl,s=e.selected,l=e.styledEvents,u=i.messages;return l.map((function(l,d){var f,p=l.event,v=l.style,m=t.end(p),h=t.start(p),g="eventTimeRangeFormat",b=n.startsBeforeDay(h),y=n.startsAfterDay(m);b?g="eventTimeRangeEndFormat":y&&(g="eventTimeRangeStartFormat"),f=b&&y?u.allDay:i.format({start:h,end:m},g);var O=b||n.startsBefore(h),E=y||n.startsAfter(m);return o.a.createElement(Le,{style:v,event:p,label:f,key:"evt_".concat(d),getters:a,rtl:c,components:r,continuesEarlier:O,continuesLater:E,accessors:t,selected:ht(p,s),onClick:function(t){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Object(Pe.notify)(e.onSelectEvent,n)}(p,t)},onDoubleClick:function(t){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Object(Pe.notify)(e.onDoubleClickEvent,n)}(p,t)}})}))},i=Object(r.useContext)($e),c=i.selectable,s=i.accessors,l=i.getters,u=i.localizer,d=i.components,f=d.eventContainerWrapper,p=Se()(d,["eventContainerWrapper"]),v=i.onSelectSlot,m=i.rtl;return e.dnd?o.a.createElement("div",{className:"scheduler__events-row"},o.a.createElement(f,{localizer:u,resource:t,accessors:s,getters:l,components:p,slotMetrics:n,selectable:c,onSelectSlot:v,eventHeight:50},o.a.createElement("div",{className:Object(xe.default)("rbc-events-container",m&&"rtl"),style:e.style},a()))):o.a.createElement("div",{className:"scheduler__events-row",style:e.style,key:t},a())},_t=function(){return window?window.innerHeight-56-80-40:500};var Dt=function(e){var t,n=Object(r.useContext)(lt),a=n.groups,i=n.isGroupExpanded,c=Object(r.useContext)($e),l=c.accessors,u=c.date,d=c.resources,f=c.events,v=c.min,m=c.max,h=c.timeslots,g=c.step,b=c.components,y=Object(r.useState)(!1),O=A()(y,2),E=O[0],w=O[1],_=Object(r.useState)(500),D=A()(_,2),j=D[0],S=D[1],x=Object(r.useState)(null),R=A()(x,2),P=R[0],T=R[1],C=function(e){return function(){T(e===P?null:e)}},z=Object(r.useRef)(null),M=Object(r.useRef)(null),k=Object(r.useRef)(null),F=Object(r.useRef)(null),I=function e(t){for(var n=t.min,r=t.max,o=t.step,a=t.timeslots,i=it(n,r,o,a),c=Me.startOf(n,"day"),s=at(c,n),l=1+Me.diff(n,r,"minutes")+at(n,r),u=Me.diff(c,n,"minutes")+s,d=Math.ceil(l/(o*a)),f=d*a,p=new Array(d),v=new Array(f),m=0;m<d;m++){p[m]=new Array(a);for(var h=0;h<a;h++){var g=m*a+h,b=g*o;v[g]=p[m][h]=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,u+b,0,0)}}var y=v.length*o;function O(e){var t=Me.diff(n,e,"minutes")+at(n,e);return Math.min(t,l)}return v.push(new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,u+y,0,0)),{groups:p,update:function(t){return it(t)!==i?e(t):this},dateIsInGroup:function(e,t){var n=p[t+1];return Me.inRange(e,p[t][0],n?n[0]:r,"minutes")},nextSlot:function(e){var t=v[Math.min(v.indexOf(e)+1,v.length-1)];return t===e&&(t=Me.add(e,o,"minutes")),t},closestSlotToPosition:function(e){var t=Math.min(v.length-1,Math.max(0,Math.floor(e*f)));return v[t]},closestSlotFromPoint:function(e,t){var n=Math.abs(t.left-t.right);return this.closestSlotToPosition((e.x-t.left)/n)},closestSlotFromDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(Me.lt(e,n,"minutes"))return v[0];var r=Me.diff(n,e,"minutes");return v[(r-r%o)/o+t]},startsBeforeDay:function(e){return Me.lt(e,n,"day")},startsAfterDay:function(e){return Me.gt(e,r,"day")},startsBefore:function(e){return Me.lt(Me.merge(n,e),n,"minutes")},startsAfter:function(e){return Me.gt(Me.merge(r,e),r,"minutes")},getRange:function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=a?e:Me.min(r,Me.max(n,e)),s=i?t:Me.min(r,Me.max(n,t)),l=O(c),u=O(s),d=0;return 0!==l&&(d=u>o*(f-1)&&!Me.eq(r,s)?(l-o)/(o*f)*100:l/(o*f)*100),{left:d,width:u/(o*f)*100-d,start:O(c),startDate:c,end:O(s),endDate:s}},getCurrentTimePosition:function(e){return O(e)/(o*f)*100}}}({min:v,max:m,timeslots:h,step:g}),U=I.groups,Y=(t=k.current)?t.offsetWidth:300,L=function(e,t){return e?e.offsetWidth-t:800}(z.current,Y),H=function(e){var t;return 30*(t=[]).concat.apply(t,N()(e)).length}(U);ft("resize",(function(){S(_t())}),window),Object(r.useEffect)((function(){var e;(e={resourcesRef:k,scheduleRef:F,timelineRef:M},function(){var t=e.resourcesRef,n=e.scheduleRef,r=e.timelineRef,o=!1,a=!1,i=function(e){window.requestAnimationFrame((function(){o||(a=!0,r.current.scrollLeft=e.target.scrollLeft,t.current.scrollTop=e.target.scrollTop),o=!1}))},c=function(e){window.requestAnimationFrame((function(){a||(o=!0,n.current.scrollTop=e.target.scrollTop),a=!1}))};return n.current.addEventListener("scroll",i),t.current.addEventListener("scroll",c),function(){n.current.removeEventListener("scroll",i),t.current.removeEventListener("scroll",c)}})(),function(e,t){return function(){var n=e.scheduleRef,r=e.timelineRef,o=function(e){n.current.removeEventListener("scroll",e),r.current.removeEventListener("scroll",e)},a=function e(){t(!0),o(e)};return n.current.addEventListener("scroll",a),r.current.addEventListener("scroll",a),function(){o(a)}}}({scheduleRef:F,timelineRef:M},w)(),S(_t())}),[]),Object(r.useEffect)((function(){if(F.current&&!E){var e=mt.convertDateFromLocal(u,mt.getUserTimezone());!function(e,t,n,r,o,a,i){var c=ot({events:[{start:t,end:t}],accessors:a,slotMetrics:n,minimumStartDifference:Math.ceil(r*o/2)}),s=i/(n.groups.length*o),l=c[0].style.left/100*i,u=Math.max(0,Math.floor(l/s)*s);e.current.scrollLeft=u}(F,e,I,g,h,l,H)}}),[M.current,F.current,f]);var B=function(){var e=Object(r.useState)({}),t=A()(e,2),n=t[0],o=t[1];return Object(r.useEffect)((function(){var e=document.body,t=document.createElement("div");t.setAttribute("style","width: 1337px; height: 1337px; position: absolute; left: -9999px; overflow: scroll;"),e.appendChild(t);var n=function(e){return t["offset".concat(e)]-t["client".concat(e)]},r=n("Width"),a=n("Height");e.removeChild(t),o({width:r,height:a})}),[]),n}(),q=function(e,t,n,r,o,a){return e.reduce((function(e,i){var c=ot({events:t.filter((function(e){return e.resourceId===i.id})),accessors:a,slotMetrics:n,minimumStartDifference:Math.ceil(r*o/2)}),l=c.reduce((function(e,t){return t.style.yOffset>e?t.style.yOffset:e}),50)+2;return vt(vt({},e),{},s()({},i.id,vt(vt({},i),{},{styledEvents:c,height:l})))}),{})}(d,f,I,g,h,l);return o.a.createElement("table",{className:"scheduler",ref:z},o.a.createElement("thead",{className:"scheduler__head"},o.a.createElement(Ot,{resourceComponent:o.a.createElement("span",null,"Rooms"),timelineComponent:o.a.createElement(bt,{horizontal:!0,hideScrollbar:!0,width:L,timelineWidth:H,scrollRef:M,scrollbarSize:B},o.a.createElement("table",null,o.a.createElement("colgroup",null,U.map((function(e){return e.map((function(e,t){return o.a.createElement("col",{key:t,style:{width:"".concat(30,"px")}})}))}))),o.a.createElement("tbody",null,o.a.createElement("tr",null,U.map((function(e,t){return o.a.createElement("td",{key:t,colSpan:e.length},o.a.createElement("button",{onClick:C(t)},p()(e[0]).format("ha")))}))))))})),o.a.createElement("tbody",{className:"scheduler__body"},o.a.createElement(Ot,{resourceComponent:o.a.createElement(bt,{vertical:!0,hideScrollbar:!0,overflow:!0,height:j,scrollRef:k,scrollbarSize:B},o.a.createElement("table",null,o.a.createElement("tbody",null,a.map((function(e){var t=i(e.id),n=d.filter((function(t){return t.groupId===e.id}));return n.length<=0?null:o.a.createElement(o.a.Fragment,{key:e.id},o.a.createElement("tr",{className:"scheduler__row scheduler__row--group"},o.a.createElement("th",null,o.a.createElement("div",{className:"scheduler__group-heading"},o.a.createElement("span",{className:"scheduler__group-text"},e.title),o.a.createElement(yt,{group:e})))),t&&n.map((function(e){return o.a.createElement("tr",{key:e.id,className:"scheduler__row scheduler__row--resource",style:{height:q[e.id].height}},o.a.createElement("td",null,e.title,o.a.createElement("a",{href:"/room/".concat(e.drupal_internal__nid),onClick:function(t){return gt(e,t)}},"View Room Details")))})))}))))),timelineComponent:o.a.createElement(bt,{vertical:!0,horizontal:!0,overflow:!0,width:L,timelineWidth:H,height:j,scrollRef:F,scrollbarSize:B},o.a.createElement("div",{className:"rbc-scheduler-view"},o.a.createElement("div",{className:"scheduler__timeline-container rbc-time-view",style:{width:"".concat(H,"px"),minHeight:"".concat(j,"px")}},o.a.createElement("table",{className:"scheduler__timeline"},o.a.createElement("tbody",null,a.map((function(t){var n=i(t.id),r=d.filter((function(e){return e.groupId===t.id}));return r.length<=0?null:o.a.createElement(o.a.Fragment,{key:t.id},o.a.createElement("tr",{className:"scheduler__row scheduler__row--group",style:{height:"".concat(50,"px")}},o.a.createElement("td",null,o.a.createElement("div",{className:"scheduler__row-inner"},o.a.createElement(Et,Q()({},e,{group:t,slotMetrics:I,height:50}))))),n&&r.map((function(n){return o.a.createElement("tr",{key:n.id,className:"scheduler__row scheduler__row--event",style:{height:q[n.id].height}},o.a.createElement("td",null,o.a.createElement("div",{className:"scheduler__row-inner"},o.a.createElement(wt,Q()({},e,{components:b,accessors:l,slotMetrics:I,resourceId:n.id,style:{height:q[n.id].height},styledEvents:q[n.id].styledEvents})),o.a.createElement(Et,Q()({},e,{group:t,slotMetrics:I})))))})))})))),o.a.createElement("div",{className:"scheduler__bg"},o.a.createElement("table",null,o.a.createElement("colgroup",null,U.map((function(e){return e.map((function(e,t){return o.a.createElement("col",{key:t,style:{width:"".concat(30,"px")}})}))}))),o.a.createElement("tbody",null,o.a.createElement("tr",null,U.map((function(e,t){return e.map((function(e,n){return o.a.createElement("td",{key:n,className:"scheduler__bg--".concat(0===n?"major":"minor"," ").concat(t===P?"scheduler__bg--highlighted":""),style:{width:"".concat(30,"px")}})}))}))))))))),width:H})))};Dt.propTypes={date:M.a.instanceOf(Date).isRequired,events:M.a.array.isRequired,resources:M.a.array.isRequired};var jt=function(e){return o.a.createElement(Ze,e,o.a.createElement(Dt,e))};jt.title=function(e,t){return t.localizer.format(e,"dayHeaderFormat")},jt.navigate=function(e,t){switch(t){case se.b.PREVIOUS:return Re.add(e,-1,"day");case se.b.NEXT:return Re.add(e,1,"day");default:return e}};var St=jt;function xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oe()(e);if(t){var o=oe()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ne()(this,n)}}var Rt=m.a.utils,Pt=function(e){ee()(n,e);var t=xt(n);function n(){return X()(this,n),t.apply(this,arguments)}return Z()(n,[{key:"render",value:function(){var e=this.props,t=e.localizer.messages,n=e.label,r=e.maxDate,a=e.minDate,i=e.date,c=e.onDateChange,s=p()(i).format("YYYY-MM-DD"),l=Object(de.a)({root:{fontSize:"16px",letterSpacing:"normal",textTransform:"none"}})(le.a);return o.a.createElement("div",{className:"rbc-toolbar"},o.a.createElement("span",{className:"rbc-btn-group"},o.a.createElement(le.a,{variant:"contained",color:"primary",size:"small",className:"rbc-btn rbc-btn--today",onClick:this.navigate.bind(null,se.b.TODAY)},t.today)),o.a.createElement("div",{className:"rbc-toolbar__heading"},o.a.createElement(ue.a,{className:"rbc-toolbar__pager-button rbc-toolbar__pager-button--prev",onClick:this.navigate.bind(null,se.b.PREVIOUS),color:"primary","aria-label":"Previous",variant:"flat",disabled:a&&a>=s},o.a.createElement(me.a,null)),o.a.createElement(fe.a,{utils:we.a,moment:p.a},o.a.createElement(pe.a,{onChange:function(e){return c(e.toDate())},TextFieldComponent:function(e){var t=e.onClick;return o.a.createElement(l,{name:name,input:i,onClick:t,endIcon:o.a.createElement(ye.a,null)},o.a.createElement("h2",{className:"rbc-toolbar__label"},n))},value:i,className:"date-filter",minDate:a})),o.a.createElement(ue.a,{className:"rbc-toolbar__pager-button rbc-toolbar__pager-button--next",onClick:this.navigate.bind(null,se.b.NEXT),color:"primary","aria-label":"Next",disabled:r&&r<=s},o.a.createElement(ge.a,null))),o.a.createElement("span",{className:"rbc-btn-group rbc-btn-group--views"},this.viewNamesGroup(t)))}}]),n}(ce.a);function Tt(e,t){if(!t)return e;if("string"!=typeof t.id)return[].concat(e,t);var n=Ee()(e,(function(e){return e.id===t.id}));if(n<0)return e;var r=N()(e);return r[n]=t,r}var At=function(e){ee()(n,e);var t=xt(n);function n(e){var r;return X()(this,n),r=t.call(this,e),s()(G()(r),"getDateFromTime",(function(e,t){var n=parseInt(e.slice(0,2),10),r=parseInt(e.slice(2),10),o=new Date((t||new Date("Jan 1, 2000 00:00:00")).getTime());return o.setHours(n),o.setMinutes(r),o})),s()(G()(r),"handleDateChange",(function(e){r.props.onDateChange(e)})),s()(G()(r),"handleViewChange",(function(e){r.props.onViewChange(e)})),s()(G()(r),"getMergedEvents",(function(e,t){return t&&"string"!=typeof t.id?[].concat(e,t):e})),r.state={showEvent:!1},r.onHideEvent=r.onHideEvent.bind(G()(r)),r}return Z()(n,[{key:"onHideEvent",value:function(){this.setState({showEvent:!1})}},{key:"render",value:function(){var e,t=this.props,n=t.date,r=t.defaultDate,a=t.min,i=t.max,c=t.events,s=t.resources,l=t.selected;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ae.a,{className:"rbc-calendar--no-overlap",components:(e=this.props,{event:De,toolbar:function(t){return o.a.createElement(Pt,Q()({},e,t))}}),date:n,dnd:!0,defaultDate:r,defaultView:this.props.view,draggableAccessor:this.props.draggableAccessor,elementProps:{style:{height:"calc(100vh - 26rem)"}},endAccessor:this.props.endAccessor,eventPropGetter:function(e){return{className:"rbc-event--".concat(e.status," ").concat(e.hasEvent?"rbc-event--hasEvent":""," ").concat(e.isReservedByStaff?"rbc-event--isReservedByStaff":"")}},events:Tt(c,l),resources:"day"===this.props.view?s:void 0,max:this.getDateFromTime(i&&"2400"!==i&&"0000"!==i?i:"2359",n),min:this.getDateFromTime(a||"0000",n),onNavigate:this.props.onDateChange,onView:this.handleViewChange,onEventDrop:this.props.onChangeEvent,onEventResize:this.props.onChangeEvent,onSelectEvent:this.props.onSelectEvent,onDoubleClickEvent:this.props.onDoubleClickEvent,onSelectSlot:this.props.onSelectSlot,onDragStart:this.props.onDragStart,resizable:!0,selected:l,selectable:!0,startAccessor:this.props.startAccessor,step:15,timeslots:4,timeZoneName:Rt.getUserTimezone(),titleAccessor:function(){return"Booked"},views:{day:St}}))}}]),n}(o.a.Component);At.propTypes={onChangeEvent:M.a.func,onDateChange:M.a.func,onDragStart:M.a.func,onDoubleClickEvent:M.a.func,onSelectEvent:M.a.func,draggableAccessor:M.a.func,onSelectSlot:M.a.func,onViewChange:M.a.func,endAccessor:M.a.func,startAccessor:M.a.func,date:M.a.instanceOf(Date),defaultDate:M.a.instanceOf(Date),view:M.a.string,min:M.a.string,max:M.a.string},At.defaultProps={onChangeEvent:function(){},onDateChange:function(){},onDoubleClickEvent:function(){},onDragStart:function(){},onSelectEvent:function(){},draggableAccessor:function(){},startAccessor:function(){},endAccessor:function(){},onSelectSlot:function(){},onNavigate:null,onView:null,onViewChange:null,date:Rt.getUserTimeNow(),defaultDate:Rt.getUserTimeNow(),view:"day",min:"0000",max:"2359"};var Ct=At;n(87),n(439);var Nt=o.a.createContext(),zt=function(e){return function(){return new Promise((function(t,n){fetch("".concat(e,"&fields[node--room]=title,field_location,drupal_internal__nid"),{credentials:"same-origin"}).then((function(e){return e.json()})).then(t).catch(n)}))}},Mt=function(e){var t=e.view,n=e.display,a=e.children,i=Object(r.useState)(null),c=A()(i,2),s=c[0],l=c[1],u=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(r.useState)(!1),o=A()(n,2),a=o[0],i=o[1],c=Object(r.useState)(null),s=A()(c,2),l=s[0],u=s[1],d=Object(r.useState)(null),f=A()(d,2),p=f[0],v=f[1],m=Object(r.useCallback)((function(){return i(!0),u(null),v(null),e().then((function(e){return u(e)})).catch((function(e){return v(e)})).finally((function(){return i(!1)}))}),[e]);return Object(r.useEffect)((function(){t&&m()}),[m,t]),{execute:m,pending:a,value:l,error:p}}(Object(r.useCallback)(zt(s),[s]),!1),d=u.execute,f=u.pending,p=u.value,v=u.error;ft("jsonApiViewsUriChange",Object(r.useCallback)((function(e){var r=e.detail;t===r.view&&n===r.display&&l(r.uri)}),[l])),Object(r.useEffect)((function(){var e=Y()(window,"Drupal.behaviors.jsonApiViewsBlock.getUri")?window.Drupal.behaviors.jsonApiViewsBlock.getUri(t,n):null;l(e)}),[]),Object(r.useEffect)((function(){s&&d()}),[s]);var m={rooms:p?p.data:[],pending:f,error:v};return o.a.createElement(Nt.Provider,{value:m},a)};Mt.propTypes={children:M.a.element.isRequired,display:M.a.string.isRequired,view:M.a.string.isRequired};var kt=Nt,Ft=n(61);function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yt=m.a.constants,Lt=m.a.api,Ht=m.a.select,Bt=m.a.utils,qt=Yt,Vt=function(e,t){return e.map((function(e){return function(e,t){return{id:e.id,title:e.attributes.title,groupId:e.relationships.field_location.data[0].id,hours:t(e.relationships.field_location.data[0].id),drupal_internal__nid:Y()(e,"attributes.drupal_internal__nid")}}(e,t)}))},Gt=function(e){var t=[];return Y()(e,"rooms")&&I()(e.rooms,(function(e,n){H()(e.dates)||(t=[].concat(N()(t),N()(q()(e.dates,(function(e){return function(e,t){return{id:Y()(e,"uuid"),title:Y()(e,"message","Booked"),resourceId:Y()(e,"resource",t),status:Y()(e,"isEditable")?Y()(e,"status","disabled"):"disabled",start:Y()(e,"start"),end:Y()(e,"end"),hasEvent:Y()(e,"hasEvent"),isReservedByStaff:Y()(e,"isReservedByStaff"),isEditable:Y()(e,"isEditable"),drupal_internal__id:Y()(e,"id",t)}}(e,n)})))))})),t};var Wt=function(e){var t=e.availability,n=e.date,a=e.getLocationHours,i=e.fetchAvailability,c=e.fetchLocations,l=e.onChangeDate,u=e.onChangeView,d=e.purgeReservations,f=e.locations,v=e.view,m=Object(r.useContext)(kt).rooms,h=Object(r.useContext)(lt).setGroups,g=function(){var e=m.map((function(e){return e.id})),t=Bt.getUserTimezone(),r=p.a.tz(n,t),o=r.clone().startOf("day"),a=r.clone().endOf("day");i({rooms:e,start:o,end:a})},b=Object(r.useState)(null),y=A()(b,2),O=y[0],E=y[1];Object(r.useEffect)((function(){c({filters:{onlyBranchLocation:{path:"field_branch_location",value:"1"},published:{path:"status",value:"1"}},fields:s()({},qt.TYPE_LOCATION,["title","field_location_hours","field_branch_location","status"])})}),[]),Object(r.useEffect)((function(){m.length>0&&g()}),[n,v,m]),Object(r.useEffect)((function(){h(function(e,t){return e.map((function(e){return function(e,t){return{id:e.data.id,title:e.data.attributes.title,hours:t(e.data.id)}}(e,t)}))}(f,a))}),[f]);var w=Vt(m,a),_=Gt(t);return ft("intercept:saveRoomReservationSuccess",(function(){g(),O&&"string"!=typeof O.id&&E(null)}),window,!0),ft("intercept:updateRoomReservation",(function(e,t){!function(e){var t=_.find((function(t){return t.id===e.id}))||{title:""};E(Ut(Ut({},t),{},{start:p()(e.start).tz(Bt.getUserTimezone()).format(),end:p()(e.end).tz(Bt.getUserTimezone()).format(),resourceId:e.room}))}(t)}),window,!0),ft("intercept:closeRoomReservation",(function(){E(null)})),o.a.createElement("div",null,o.a.createElement(Ct,{date:n,events:_,resources:w,view:v,onDateChange:function(e){d(),l(e)},onViewChange:u,onChangeEvent:function(e){E(Ut(Ut({},e.event),{},{start:p()(e.start).tz(Bt.getUserTimezone()).format(),end:p()(e.end).tz(Bt.getUserTimezone()).format(),resourceId:e.resourceId})),window.dispatchEvent(function(e,t){var n=Bt.getUserTimezone(),r=p()(e.start).tz(n),o=p()(e.end).tz(n),a=t.find((function(t){return t.id===e.resourceId}));return new CustomEvent("intercept:changeRoomReservation",{detail:Ut(Ut({},e.event),{},{resource:a,end:{date:o.format("YYYY-MM-DD"),time:o.format("HH:mm:ss")},start:{date:r.format("YYYY-MM-DD"),time:r.format("HH:mm:ss")}})})}(e,w))},onSelectEvent:function(e){var t;e.drupal_internal__id&&(E(e),window.dispatchEvent((t=e.drupal_internal__id,new CustomEvent("intercept:viewRoomReservation",{detail:{id:t}}))))},draggableAccessor:function(e){return!!e.drupal_internal__id},startAccessor:function(e){var t=p()(Bt.dateFromDrupal(e.start)),r=p()(n).tz(Bt.getUserTimezone()).startOf("day");return p.a.max(t,r).toDate()},endAccessor:function(e){var t=p()(Bt.dateFromDrupal(e.end)),r=p()(n).tz(Bt.getUserTimezone()).endOf("day").subtract(1,"seconds"),o=p.a.min(t,r);return 0===o.get("hour")&&o.subtract(1,"seconds"),o.toDate()},onSelectSlot:function(e){E({title:"",start:p()(e.start).tz(Bt.getUserTimezone()).format(),end:p()(e.end).tz(Bt.getUserTimezone()).format(),resourceId:e.resourceId,isEditable:!0}),window.dispatchEvent(function(e,t){var n=Bt.getUserTimezone(),r=p()(e.start).tz(n),o=p()(e.end).tz(n),a=t.find((function(t){return t.id===e.resourceId}));return new CustomEvent("intercept:addRoomReservation",{detail:Ut(Ut({},e.event),{},{resource:a,end:{date:o.format("YYYY-MM-DD"),time:o.format("HH:mm:ss")},start:{date:r.format("YYYY-MM-DD"),time:r.format("HH:mm:ss")}})})}(e,w))},onDoubleClickEvent:function(e){var t;e.drupal_internal__id&&window.dispatchEvent((t=e.drupal_internal__id,new CustomEvent("intercept:editRoomReservation",{detail:{id:t}})))},selected:O}))};Wt.propTypes={getLocationHours:M.a.func.isRequired,locations:M.a.arrayOf(Object).isRequired,locationsLoading:M.a.bool.isRequired,fetchAvailability:M.a.func.isRequired,fetchLocations:M.a.func.isRequired,onChangeDate:M.a.func.isRequired,onChangeView:M.a.func.isRequired,purgeReservations:M.a.func.isRequired,date:M.a.instanceOf(Date),view:M.a.string},Wt.defaultProps={view:"day",date:Bt.getUserTimeNow()};var Qt=Object(k.b)((function(e,t){return{locations:Ht.locationsAscending(e),locationsLoading:Ht.recordsAreLoading(qt.TYPE_LOCATION)(e),getLocationHours:function(n){return Ht.locationHoursTimesOnDate(n,t.date||Bt.getUserTimeNow())(e)},openHoursLimit:Ht.locationsOpenHoursLimit(e),calendarRooms:[]}}),(function(e){return{fetchLocations:function(t){e(Lt[qt.TYPE_LOCATION].fetchAll(t))},fetchUser:function(t){e(Lt[qt.TYPE_USER].fetchAll(t))},purgeReservations:function(t){e(Lt[qt.TYPE_ROOM_RESERVATION].purge(t))}}}))(Object(Ft.a)(Wt)),Jt=P((function(e){return o.a.createElement(Mt,{view:e.viewsId,display:e.displayId},o.a.createElement(st,null,o.a.createElement(Qt,e)))})),Xt=Object(i.a)(Jt),Kt=document.getElementById("roomReservationSchedulerRoot"),Zt=Kt.getAttribute("data-jsonapi-views-view"),$t=Kt.getAttribute("data-jsonapi-views-display");Object(a.render)(o.a.createElement(Xt,{viewsId:Zt,displayId:$t}),Kt)},93:function(e,t,n){var r=n(859),o=n(860),a=n(465),i=n(861);e.exports=function(e,t){return r(e)||o(e,t)||a(e,t)||i()}}});