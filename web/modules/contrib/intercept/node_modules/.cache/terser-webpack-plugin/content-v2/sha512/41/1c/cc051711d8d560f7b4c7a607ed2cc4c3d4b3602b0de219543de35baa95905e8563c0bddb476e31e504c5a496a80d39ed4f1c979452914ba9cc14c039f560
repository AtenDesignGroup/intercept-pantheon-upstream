{"code":"!function(e){function t(t){for(var r,o,s=t[0],c=t[1],l=t[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t);p.length;)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={14:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,\"a\",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p=\"\";var s=window.wpJsonpIntercept=window.wpJsonpIntercept||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;i.push([867,0]),n()}({0:function(e,t){e.exports=React},111:function(e,t){e.exports=interceptTheme},145:function(e,t,n){var r=n(861),a=n(862),i=n(455),o=n(863);e.exports=function(e,t){return r(e)||a(e,t)||i(e,t)||o()}},17:function(e,t){e.exports=moment},187:function(e,t,n){var r=n(162),a=n(163),i=n(245),o=n(311);e.exports=function(e,t){if(null==e)return{};var n=r(o(e),(function(e){return[e]}));return t=a(t),i(e,n,(function(e,n){return t(e,n[0])}))}},189:function(e,t,n){\"use strict\";n(19),n(103),n(21),n(73),n(20),n(306);var r=n(10),a=n.n(r),i=n(9),o=n.n(i),s=n(11),c=n.n(s),l=n(12),u=n.n(l),d=n(5),p=n.n(d),f=n(0),m=n.n(f),b=n(1),v=n.n(b);function h(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var y=function(e){c()(n,e);var t=h(n);function n(){return a()(this,n),t.apply(this,arguments)}return o()(n,[{key:\"render\",value:function(){var e=this.props.userStatus,t=\"\";if(!(e.exceededLimit&&e.initialized||!1!==window.drupalSettings.intercept.user.barred))return null;if(0===window.drupalSettings.user.uid)t=m.a.createElement(\"p\",{className:\"value-summary__footer-text\"},\"You must be logged in to reserve rooms.\",\" \",m.a.createElement(\"a\",{className:\"value-summary__footer-link\",href:\"/user/login?destination=\".concat(encodeURIComponent(window.location.pathname+window.location.search))},\"Log in now\"));else if(!0===window.drupalSettings.intercept.user.barred){var n=window.drupalSettings.intercept.room_reservations.reservation_barred_text;t=m.a.createElement(\"p\",{className:\"value-summary__footer-text\",dangerouslySetInnerHTML:{__html:n}})}else t=m.a.createElement(\"p\",{className:\"value-summary__footer-text\"},\"You are only allowed to reserve a maximum of \",e.limit,\" room\",1===parseInt(e.limit,10)?\"\":\"s\",\" at a time.\",\" \",m.a.createElement(\"a\",{className:\"value-summary__footer-link\",href:\"/account/room-reservations\"},\"View your current reservations.\"));return m.a.createElement(\"div\",{className:\"value-summary__footer value-summary__footer--\".concat(this.props.level)},t)}}]),n}(m.a.PureComponent);y.propTypes={userStatus:v.a.object.isRequired,level:v.a.string},y.defaultProps={level:\"error\"},t.a=y},190:function(e,t,n){\"use strict\";n(44),n(34),n(39),n(45),n(46),n(37),n(19),n(84),n(21),n(20),n(40);var r=n(23),a=n.n(r),i=n(10),o=n.n(i),s=n(9),c=n.n(s),l=n(3),u=n.n(l),d=n(11),p=n.n(d),f=n(12),m=n.n(f),b=n(5),v=n.n(b),h=n(2),y=n.n(h),j=n(0),g=n.n(j),O=n(41),w=n.n(O);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return function(n){p()(i,n);var r=_(i);function i(e){var n;return o()(this,i),n=r.call(this,e),y()(u()(n),\"handleResponse\",(function(e){return n.mounted&&n.setState({userStatus:E(E({},n.state.userStatus),{},{loading:!1},JSON.parse(e))}),e})),n.handleResponse=n.handleResponse.bind(u()(n)),n.fetchUserStatus=w()(n.fetchUserStatus,t).bind(u()(n)),n.state={userStatus:{loading:!1,initialized:!1}},n}return c()(i,[{key:\"componentDidMount\",value:function(){this.mounted=!0}},{key:\"componentWillUnmount\",value:function(){this.mounted=!1}},{key:\"fetchUserStatus\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return 0===window.drupalSettings.user.uid?(this.setState({userStatus:E(E({},this.state.userStatus),{},{loading:!1,initialized:!0,exceededLimit:!0})}),Promise.resolve({exceededLimit:!0,limit:0})):(this.setState({userStatus:E(E({},this.state.userStatus),{},{loading:!0,initialized:!0})}),fetch(\"/api/rooms/user/status\",{method:\"GET\",credentials:\"same-origin\",headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\"}}).then((function(e){return e.text()})).then((function(n){return t(e.handleResponse(n))})).catch((function(t){e.mounted&&(console.log(t),e.setState({userStatus:E(E({},e.state.userStatus),{},{loading:!1})}))})))}},{key:\"render\",value:function(){return g.a.createElement(e,a()({userStatus:this.state.userStatus,fetchUserStatus:this.fetchUserStatus},this.props))}}]),i}(g.a.Component)}},227:function(e,t,n){var r=n(413),a=n(414),i=n(293),o=n(94),s=n(138),c=n(345),l=n(241),u=n(347),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(o(e)||\"string\"==typeof e||\"function\"==typeof e.splice||c(e)||u(e)||i(e)))return!e.length;var t=a(e);if(\"[object Map]\"==t||\"[object Set]\"==t)return!e.size;if(l(e))return!r(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},26:function(e,t){e.exports=ReactDOM},311:function(e,t,n){var r=n(350),a=n(312),i=n(314);e.exports=function(e){return r(e,i,a)}},312:function(e,t,n){var r=n(299),a=n(313),i=n(351),o=n(353),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=a(e);return t}:o;e.exports=s},313:function(e,t,n){var r=n(348)(Object.getPrototypeOf,Object);e.exports=r},314:function(e,t,n){var r=n(344),a=n(315),i=n(138);e.exports=function(e){return i(e)?r(e,!0):a(e)}},315:function(e,t,n){var r=n(137),a=n(241),i=n(316),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=a(e),n=[];for(var s in e)(\"constructor\"!=s||!t&&o.call(e,s))&&n.push(s);return n}},316:function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},384:function(e,t){e.exports=jQuery},428:function(e,t,n){\"use strict\";var r=n(15),a=n(74).find,i=n(117),o=n(82),s=!0,c=o(\"find\");\"find\"in[]&&Array(1).find((function(){s=!1})),r({target:\"Array\",proto:!0,forced:s||!c},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i(\"find\")},430:function(e,t,n){\"use strict\";var r=n(15),a=n(86),i=n(421),o=n(30),s=n(93),c=n(135),l=n(423),u=n(71);r({target:\"Promise\",proto:!0,real:!0,forced:!!i&&o((function(){i.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,s(\"Promise\")),n=\"function\"==typeof e;return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),a||\"function\"!=typeof i||i.prototype.finally||u(i.prototype,\"finally\",s(\"Promise\").prototype.finally)},521:function(e,t,n){var r=n(864),a=n(292),i=n(865),o=n(94);e.exports=function(e,t){return(o(e)?r:a)(e,i(t))}},522:function(e,t,n){\"use strict\";var r=n(55);Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var a=r(n(0)),i=(0,r(n(104)).default)(a.default.createElement(\"path\",{d:\"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z\"}),\"CalendarToday\");t.default=i},523:function(e,t){throw new Error(\"Module build failed (from ./node_modules/babel-loader/lib/index.js):\\nSyntaxError: /Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/modules/intercept_room_reservation/js/src/components/RoomReservationSchedulerApp/components/SchedulerView.js: Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>? (635:28)\\n\\n\u001b[0m \u001b[90m 633 | \u001b[39m                              \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mtd\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\\n\u001b[0m \u001b[90m 634 | \u001b[39m                            \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mtr\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\\n\u001b[0m\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 635 | \u001b[39m                            \u001b[33m<\u001b[39m\u001b[33mtr\u001b[39m\u001b[33m>\u001b[39m\u001b[33m<\u001b[39m\u001b[33mtd\u001b[39m\u001b[33m>\u001b[39m\u001b[33m&\u001b[39mnbsp\u001b[33m;\u001b[39m\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mtd\u001b[39m\u001b[33m>\u001b[39m\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mtr\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\\n\u001b[0m \u001b[90m     | \u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\u001b[0m\\n\u001b[0m \u001b[90m 636 | \u001b[39m                          ))}\u001b[0m\\n\u001b[0m \u001b[90m 637 | \u001b[39m                      \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mFragment\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\\n\u001b[0m \u001b[90m 638 | \u001b[39m                    )\u001b[33m;\u001b[39m\u001b[0m\\n    at Object._raise (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:754:17)\\n    at Object.raiseWithData (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:747:17)\\n    at Object.raise (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:741:17)\\n    at Object.jsxParseElementAt (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:4636:18)\\n    at Object.jsxParseElement (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:4646:17)\\n    at Object.parseExprAtom (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:4653:19)\\n    at Object.parseExprSubscripts (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:9693:23)\\n    at Object.parseMaybeUnary (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:9673:21)\\n    at Object.parseExprOps (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:9543:23)\\n    at Object.parseMaybeConditional (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:9516:23)\\n    at Object.parseMaybeAssign (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:9471:21)\\n    at Object.parseParenAndDistinguishExpression (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:10304:28)\\n    at Object.parseExprAtom (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:10044:21)\\n    at Object.parseExprAtom (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:4658:20)\\n    at Object.parseExprSubscripts (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:9693:23)\\n    at Object.parseMaybeUnary (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:9673:21)\\n    at Object.parseExprOps (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:9543:23)\\n    at Object.parseMaybeConditional (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:9516:23)\\n    at Object.parseMaybeAssign (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:9471:21)\\n    at Object.parseFunctionBody (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:10738:24)\\n    at Object.parseArrowExpression (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:10714:10)\\n    at Object.parseExprAtom (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:9997:18)\\n    at Object.parseExprAtom (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:4658:20)\\n    at Object.parseExprSubscripts (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:9693:23)\\n    at Object.parseMaybeUnary (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:9673:21)\\n    at Object.parseExprOps (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:9543:23)\\n    at Object.parseMaybeConditional (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:9516:23)\\n    at Object.parseMaybeAssign (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:9471:21)\\n    at Object.parseExprListItem (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:10829:18)\\n    at Object.parseCallExpressionArguments (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:9887:22)\\n    at Object.parseSubscript (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:9787:31)\\n    at Object.parseSubscripts (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:9716:19)\\n    at Object.parseExprSubscripts (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:9699:17)\\n    at Object.parseMaybeUnary (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:9673:21)\\n    at Object.parseExprOpBaseRightExpr (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:9636:34)\\n    at Object.parseExprOpRightExpr (/Users/mjarrell/Sites/richland-site/web/modules/contrib/intercept/node_modules/@babel/parser/lib/index.js:9629:21)\")},59:function(e,t,n){\"use strict\";n(44),n(34),n(39),n(45),n(46),n(37),n(19),n(84),n(21),n(20),n(40);var r=n(23),a=n.n(r),i=n(10),o=n.n(i),s=n(9),c=n.n(s),l=n(3),u=n.n(l),d=n(11),p=n.n(d),f=n(12),m=n.n(f),b=n(5),v=n.n(b),h=n(2),y=n.n(h),j=n(0),g=n.n(j),O=n(41),w=n.n(O),S=n(6);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var D=n.n(S).a.utils;t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return function(n){p()(i,n);var r=x(i);function i(e){var n;return o()(this,i),n=r.call(this,e),y()(u()(n),\"handleResponse\",(function(e){return n.mounted&&n.setState({availability:_(_({},n.state.availability),{},{loading:!1,rooms:JSON.parse(e),shouldUpdate:!1})}),e})),n.handleResponse=n.handleResponse.bind(u()(n)),n.fetchAvailability=w()(n.fetchAvailability,t).bind(u()(n)),n.state={availability:{loading:!1,shouldUpdate:!1,rooms:[]}},n}return c()(i,[{key:\"componentDidMount\",value:function(){this.mounted=!0}},{key:\"componentWillUnmount\",value:function(){this.mounted=!1}},{key:\"fetchAvailability\",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return this.setState({availability:_(_({},this.state.availability),{},{loading:!0,shouldUpdate:!1})}),fetch(\"/api/rooms/availability\",{method:\"POST\",credentials:\"same-origin\",headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\"},body:JSON.stringify(_(_({},e),{},{start:D.dateToDrupal(D.ensureDate(e.start)),end:D.dateToDrupal(D.ensureDate(e.end))}))}).then((function(e){return e.text()})).then((function(e){return n(t.handleResponse(e))})).catch((function(e){t.mounted&&(console.log(e),t.setState({availability:_(_({},t.state.availability),{},{loading:!1,shouldUpdate:!1})}))}))}},{key:\"render\",value:function(){return g.a.createElement(e,a()({availability:this.state.availability,fetchAvailability:this.fetchAvailability},this.props))}}]),i}(g.a.Component)}},6:function(e,t){e.exports=interceptClient},861:function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},862:function(e,t){e.exports=function(e,t){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}}},863:function(e,t){e.exports=function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}},864:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},865:function(e,t,n){var r=n(242);e.exports=function(e){return\"function\"==typeof e?e:r}},867:function(e,t,n){\"use strict\";n.r(t);var r=n(0),a=n.n(r),i=n(26),o=n(66),s=n(2),c=n.n(s),l=n(29),u=n(187),d=n.n(u),p=n(17),f=n.n(p),m=n(6),b=n.n(m),v=n(201),h=l.Serialize.decodeArray,y=l.Serialize.encodeArray,j=l.Serialize.decodeBoolean,g=l.Serialize.encodeBoolean,O=l.Serialize.decodeObject,w=l.Serialize.encodeObject,S=l.Serialize.decodeString,E=l.Serialize.encodeString,_=b.a.constants,x=b.a.utils,D=_,R={view:{type:l.UrlQueryParamTypes.string},date:{type:{decode:function(e){var t=Object(l.decode)(l.UrlQueryParamTypes.date,e)||null;if(null!==t)return x.convertDateFromLocal(t,x.getUserTimezone())},encode:function(e){return f()(e).format(\"YYYY-MM-DD\")||null}}},room:{type:l.UrlQueryParamTypes.string},roomDetail:{type:l.UrlQueryParamTypes.string},detail:{type:l.UrlQueryParamTypes.boolean},event:{type:l.UrlQueryParamTypes.string},filters:{type:{decode:function(e){var t,n;if(!e)return n={},c()(n,D.TYPE_LOCATION,[]),c()(n,D.TYPE_ROOM_TYPE,[]),c()(n,D.DATE,null),c()(n,D.KEYWORD,\"\"),n;var r=O(e,\":\",\"_\");return t={},c()(t,D.TYPE_LOCATION,h(r.location,\",\")||[]),c()(t,D.TYPE_ROOM_TYPE,h(r.type,\",\")||[]),c()(t,\"attendees\",Object(l.decode)(l.UrlQueryParamTypes.number,r.attendees)),c()(t,D.DATE,r[D.DATE]?x.getDateFromDayTimeStamp(r[D.DATE]):null),c()(t,D.KEYWORD,S(r.keyword)),c()(t,\"time\",S(r.time)),c()(t,\"duration\",S(r.duration)),c()(t,\"now\",j(r.now)),t},encode:function(e){var t,n,r=(t={location:y(e[D.TYPE_LOCATION],\",\"),type:y(e[D.TYPE_ROOM_TYPE],\",\"),attendees:Object(l.encode)(l.UrlQueryParamTypes.number,e.attendees)},c()(t,D.DATE,e[D.DATE]?x.getDayTimeStamp(e[D.DATE]):null),c()(t,\"time\",E(e.time)),c()(t,\"duration\",E(e.duration)),c()(t,D.KEYWORD,E(e.keyword)),c()(t,\"now\",g(e.now)),n=t,d()(n,(function(e){return e})));return w(r,\":\",\"_\")}}}},U=function(e){return Object(v.a)(Object(l.addUrlProps)({urlPropsQueryConfig:R})(e))},P=(n(44),n(31),n(34),n(428),n(39),n(32),n(45),n(46),n(37),n(40),n(145)),T=n.n(P),A=n(67),C=n.n(A),z=n(1),Y=n.n(z),M=n(18),N=n(521),k=n.n(N),I=n(7),L=n.n(I),H=n(227),V=n.n(H),q=n(54),B=n.n(q),F=(n(363),n(19),n(103),n(21),n(20),n(3)),G=n.n(F),Q=n(23),J=n.n(Q),W=n(10),K=n.n(W),X=n(9),Z=n.n(X),$=n(11),ee=n.n($),te=n(12),ne=n.n(te),re=n(5),ae=n.n(re),ie=n(198),oe=n(194),se=n.n(oe),ce=n(69),le=n(386),ue=n(882),de=n(14),pe=n(85),fe=n(439),me=n(196),be=n.n(me),ve=n(197),he=n.n(ve),ye=n(522),je=n.n(ye),ge=n(435),Oe=n.n(ge),we=n(200),Se=function(e){var t=e.event;return a.a.createElement(\"div\",{className:\"reservation-calendar-event reservation-calendar-event\"},a.a.createElement(\"p\",{className:\"reservation-calendar-event__title\"},t.title))};Se.propTypes={event:Y.a.shape({title:Y.a.string.isRequired}).isRequired};var Ee=Se,_e=n(523),xe=n.n(_e);function De(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ae()(e);if(t){var a=ae()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ne()(this,n)}}var Re=b.a.utils,Ue=function(e){ee()(n,e);var t=De(n);function n(){return K()(this,n),t.apply(this,arguments)}return Z()(n,[{key:\"render\",value:function(){var e=this.props,t=e.localizer.messages,n=e.label,r=e.maxDate,i=e.minDate,o=e.date,s=e.onDateChange,c=f()(o).format(\"YYYY-MM-DD\"),l=Object(de.a)({root:{fontSize:\"16px\",letterSpacing:\"normal\",textTransform:\"none\"}})(le.a);return a.a.createElement(\"div\",{className:\"rbc-toolbar\"},a.a.createElement(\"span\",{className:\"rbc-btn-group\"},a.a.createElement(le.a,{variant:\"contained\",color:\"primary\",size:\"small\",className:\"rbc-btn rbc-btn--today\",onClick:this.navigate.bind(null,ce.b.TODAY)},t.today)),a.a.createElement(\"div\",{className:\"rbc-toolbar__heading\"},a.a.createElement(ue.a,{className:\"rbc-toolbar__pager-button rbc-toolbar__pager-button--prev\",onClick:this.navigate.bind(null,ce.b.PREVIOUS),color:\"primary\",\"aria-label\":\"Previous\",variant:\"flat\",disabled:i&&i>=c},a.a.createElement(be.a,null)),a.a.createElement(pe.a,{utils:we.a,moment:f.a},a.a.createElement(fe.a,{onChange:function(e){return s(e.toDate())},TextFieldComponent:function(e){var t=e.onClick;return a.a.createElement(l,{name:name,input:o,onClick:t,endIcon:a.a.createElement(je.a,null)},a.a.createElement(\"h2\",{className:\"rbc-toolbar__label\"},n))},value:o,className:\"date-filter\",minDate:i})),a.a.createElement(ue.a,{className:\"rbc-toolbar__pager-button rbc-toolbar__pager-button--next\",onClick:this.navigate.bind(null,ce.b.NEXT),color:\"primary\",\"aria-label\":\"Next\",disabled:r&&r<=c},a.a.createElement(he.a,null))),a.a.createElement(\"span\",{className:\"rbc-btn-group rbc-btn-group--views\"},this.viewNamesGroup(t)))}}]),n}(se.a);function Pe(e,t){if(!t)return e;if(\"string\"!=typeof t.id)return[].concat(e,t);var n=Oe()(e,(function(e){return e.id===t.id}));if(n<0)return e;var r=C()(e);return r[n]=t,r}var Te=function(e){ee()(n,e);var t=De(n);function n(e){var r;return K()(this,n),r=t.call(this,e),c()(G()(r),\"getDateFromTime\",(function(e,t){var n=parseInt(e.slice(0,2),10),r=parseInt(e.slice(2),10),a=new Date((t||new Date(\"Jan 1, 2000 00:00:00\")).getTime());return a.setHours(n),a.setMinutes(r),a})),c()(G()(r),\"handleDateChange\",(function(e){r.props.onDateChange(e)})),c()(G()(r),\"handleViewChange\",(function(e){r.props.onViewChange(e)})),c()(G()(r),\"getMergedEvents\",(function(e,t){return t&&\"string\"!=typeof t.id?[].concat(e,t):e})),r.state={showEvent:!1},r.onHideEvent=r.onHideEvent.bind(G()(r)),r}return Z()(n,[{key:\"onHideEvent\",value:function(){this.setState({showEvent:!1})}},{key:\"render\",value:function(){var e,t=this.props,n=t.date,r=t.defaultDate,i=t.min,o=t.max,s=t.events,c=t.resources,l=t.selected;return a.a.createElement(a.a.Fragment,null,a.a.createElement(ie.a,{className:\"rbc-calendar--no-overlap\",components:(e=this.props,{event:Ee,toolbar:function(t){return a.a.createElement(Ue,J()({},e,t))}}),date:n,dnd:!0,defaultDate:r,defaultView:this.props.view,draggableAccessor:this.props.draggableAccessor,elementProps:{style:{height:\"calc(100vh - 26rem)\"}},endAccessor:this.props.endAccessor,eventPropGetter:function(e){return{className:\"rbc-event--\".concat(e.status,\" \").concat(e.hasEvent?\"rbc-event--hasEvent\":\"\",\" \").concat(e.isReservedByStaff?\"rbc-event--isReservedByStaff\":\"\")}},events:Pe(s,l),resources:\"day\"===this.props.view?c:void 0,max:this.getDateFromTime(o&&\"2400\"!==o&&\"0000\"!==o?o:\"2359\",Re.normalizeStartOfDay(n).toDate()),min:this.getDateFromTime(i||\"0000\",Re.normalizeStartOfDay(n).toDate()),onNavigate:this.props.onDateChange,onView:this.handleViewChange,onEventDrop:this.props.onChangeEvent,onEventResize:this.props.onChangeEvent,onSelectEvent:this.props.onSelectEvent,onDoubleClickEvent:this.props.onDoubleClickEvent,onSelectSlot:this.props.onSelectSlot,onDragStart:this.props.onDragStart,resizable:!0,selected:l,selectable:!0,startAccessor:this.props.startAccessor,step:15,timeslots:4,timeZoneName:Re.getUserTimezone(),titleAccessor:function(){return\"Booked\"},views:{day:xe.a}}))}}]),n}(a.a.Component);Te.propTypes={onChangeEvent:Y.a.func,onDateChange:Y.a.func,onDragStart:Y.a.func,onDoubleClickEvent:Y.a.func,onSelectEvent:Y.a.func,draggableAccessor:Y.a.func,onSelectSlot:Y.a.func,onViewChange:Y.a.func,endAccessor:Y.a.func,startAccessor:Y.a.func,date:Y.a.instanceOf(Date),defaultDate:Y.a.instanceOf(Date),view:Y.a.string,min:Y.a.string,max:Y.a.string},Te.defaultProps={onChangeEvent:function(){},onDateChange:function(){},onDoubleClickEvent:function(){},onDragStart:function(){},onSelectEvent:function(){},draggableAccessor:function(){},startAccessor:function(){},endAccessor:function(){},onSelectSlot:function(){},onNavigate:null,onView:null,onViewChange:null,date:Re.getUserTimeNow(),defaultDate:Re.getUserTimeNow(),view:\"day\",min:\"0000\",max:\"2359\"};var Ae=Te;n(84),n(430);var Ce=n(384),ze=n.n(Ce);function Ye(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Object(r.useRef)();Object(r.useEffect)((function(){i.current=t}),[t]),Object(r.useEffect)((function(){if(a&&void 0!==ze.a){var t=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i.current.apply(i,[e].concat(n))};return ze()(n).on(e,t),function(){ze()(n).off(e,t)}}if(n&&n.addEventListener){var r=function(e){return i.current(e)};return n.addEventListener(e,r),function(){n.removeEventListener(e,r)}}}),[e,n])}var Me=a.a.createContext(),Ne=function(e){return function(){return new Promise((function(t,n){fetch(\"\".concat(e,\"&fields[node--room]=title,field_location,drupal_internal__nid\"),{credentials:\"same-origin\"}).then((function(e){return e.json()})).then(t).catch(n)}))}},ke=function(e){var t=e.view,n=e.display,i=e.children,o=Object(r.useState)(null),s=T()(o,2),c=s[0],l=s[1],u=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(r.useState)(!1),a=T()(n,2),i=a[0],o=a[1],s=Object(r.useState)(null),c=T()(s,2),l=c[0],u=c[1],d=Object(r.useState)(null),p=T()(d,2),f=p[0],m=p[1],b=Object(r.useCallback)((function(){return o(!0),u(null),m(null),e().then((function(e){return u(e)})).catch((function(e){return m(e)})).finally((function(){return o(!1)}))}),[e]);return Object(r.useEffect)((function(){t&&b()}),[b,t]),{execute:b,pending:i,value:l,error:f}}(Object(r.useCallback)(Ne(c),[c]),!1),d=u.execute,p=u.pending,f=u.value,m=u.error;Ye(\"jsonApiViewsUriChange\",Object(r.useCallback)((function(e){var r=e.detail;t===r.view&&n===r.display&&l(r.uri)}),[l])),Object(r.useEffect)((function(){var e=L()(window,\"Drupal.behaviors.jsonApiViewsBlock.getUri\")?window.Drupal.behaviors.jsonApiViewsBlock.getUri(t,n):null;l(e)}),[]),Object(r.useEffect)((function(){c&&d()}),[c]);var b={rooms:f?f.data:[],pending:p,error:m};return a.a.createElement(Me.Provider,{value:b},i)};ke.propTypes={children:Y.a.element.isRequired,display:Y.a.string.isRequired,view:Y.a.string.isRequired};var Ie=Me,Le=(n(116),a.a.createContext()),He=function(e){var t=e.children,n=Object(r.useState)([]),i=T()(n,2),o=i[0],s=i[1],c=Object(r.useState)([]),l=T()(c,2),u=l[0],d=l[1],p={groups:o,collapseAllGroups:function(){d(C()(o.map((function(e){return e.id}))))},collapseGroup:function(e){d([e].concat(C()(u)))},expandAllGroups:function(){d([])},expandGroup:function(e){d(u.filter((function(t){return t!==e})))},isGroupCollapsed:function(e){return u.indexOf(e)>=0},isGroupExpanded:function(e){return u.indexOf(e)<0},setGroups:s};return a.a.createElement(Le.Provider,{value:p},t)};He.propTypes={children:Y.a.element.isRequired};var Ve=Le,qe=n(59),Be=n(190),Fe=n(189);function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Je=b.a.constants,We=b.a.api,Ke=b.a.select,Xe=b.a.utils,Ze=Je,$e=function(e,t){return e.map((function(e){return function(e,t){return{id:e.id,title:e.attributes.title,groupId:e.relationships.field_location.data[0].id,hours:t(e.relationships.field_location.data[0].id),drupal_internal__nid:L()(e,\"attributes.drupal_internal__nid\")}}(e,t)}))},et=function(e){var t=[];return L()(e,\"rooms\")&&k()(e.rooms,(function(e,n){V()(e.dates)||(t=[].concat(C()(t),C()(B()(e.dates,(function(e){return function(e,t){return{id:L()(e,\"uuid\"),title:L()(e,\"message\",\"Booked\"),resourceId:L()(e,\"resource\",t),status:L()(e,\"isEditable\")?L()(e,\"status\",\"disabled\"):\"disabled\",start:L()(e,\"start\"),end:L()(e,\"end\"),hasEvent:L()(e,\"hasEvent\"),isReservedByStaff:L()(e,\"isReservedByStaff\"),isEditable:L()(e,\"isEditable\"),drupal_internal__id:L()(e,\"id\",t)}}(e,n)})))))})),t};var tt=function(e){var t=e.availability,n=e.date,i=e.getLocationHours,o=e.fetchAvailability,s=e.fetchLocations,l=e.fetchUserStatus,u=e.userStatus,d=e.onChangeDate,p=e.onChangeView,m=e.purgeReservations,b=e.locations,v=e.view,h=Object(r.useContext)(Ie).rooms,y=Object(r.useContext)(Ve).setGroups,j=function(){var e=h.map((function(e){return e.id})),t=Xe.getUserTimezone(),r=f.a.tz(n,t),a=r.clone().startOf(\"day\"),i=r.clone().endOf(\"day\");o({rooms:e,start:a,end:i})},g=Object(r.useState)(null),O=T()(g,2),w=O[0],S=O[1];Object(r.useEffect)((function(){s({filters:{onlyBranchLocation:{path:\"field_branch_location\",value:\"1\"},published:{path:\"status\",value:\"1\"}},fields:c()({},Ze.TYPE_LOCATION,[\"title\",\"field_location_hours\",\"field_branch_location\",\"status\"])}),l()}),[]),Object(r.useEffect)((function(){h.length>0&&j()}),[n,v,h]),Object(r.useEffect)((function(){y(function(e,t){return e.map((function(e){return function(e,t){return{id:e.data.id,title:e.data.attributes.title,hours:t(e.data.id)}}(e,t)}))}(b,i))}),[b]);var E=$e(h,i),_=et(t);return Ye(\"intercept:saveRoomReservationSuccess\",(function(){j(),w&&\"string\"!=typeof w.id&&S(null)}),window,!0),Ye(\"intercept:updateRoomReservation\",(function(e,t){!function(e){var t=_.find((function(t){return t.id===e.id}))||{title:\"\"};S(Qe(Qe({},t),{},{start:f()(e.start).tz(Xe.getUserTimezone()).format(),end:f()(e.end).tz(Xe.getUserTimezone()).format(),resourceId:e.room}))}(t)}),window,!0),Ye(\"intercept:closeRoomReservation\",(function(){S(null)})),a.a.createElement(\"div\",null,a.a.createElement(Fe.a,{userStatus:u}),a.a.createElement(Ae,{date:n,events:_,resources:E,view:v,onDateChange:function(e){m(),d(e)},onViewChange:p,onChangeEvent:function(e){S(Qe(Qe({},e.event),{},{start:f()(e.start).tz(Xe.getUserTimezone()).format(),end:f()(e.end).tz(Xe.getUserTimezone()).format(),resourceId:e.resourceId})),window.dispatchEvent(function(e,t){var n=Xe.getUserTimezone(),r=f()(e.start).tz(n),a=f()(e.end).tz(n),i=t.find((function(t){return t.id===e.resourceId}));return new CustomEvent(\"intercept:changeRoomReservation\",{detail:Qe(Qe({},e.event),{},{resource:i,end:{date:a.format(\"YYYY-MM-DD\"),time:a.format(\"HH:mm:ss\")},start:{date:r.format(\"YYYY-MM-DD\"),time:r.format(\"HH:mm:ss\")}})})}(e,E))},onSelectEvent:function(e){var t;e.drupal_internal__id&&(S(e),window.dispatchEvent((t=e.drupal_internal__id,new CustomEvent(\"intercept:viewRoomReservation\",{detail:{id:t}}))))},draggableAccessor:function(e){return!!e.drupal_internal__id},startAccessor:function(e){var t=f()(Xe.dateFromDrupal(e.start)),r=f()(n).tz(Xe.getUserTimezone()).startOf(\"day\");return f.a.max(t,r).toDate()},endAccessor:function(e){var t=f()(Xe.dateFromDrupal(e.end)),r=f()(n).tz(Xe.getUserTimezone()).endOf(\"day\").subtract(1,\"seconds\"),a=f.a.min(t,r);return 0===a.get(\"hour\")&&a.subtract(1,\"seconds\"),a.toDate()},onSelectSlot:function(e){S({title:\"\",start:f()(e.start).tz(Xe.getUserTimezone()).format(),end:f()(e.end).tz(Xe.getUserTimezone()).format(),resourceId:e.resourceId,isEditable:!0}),window.dispatchEvent(function(e,t){var n=Xe.getUserTimezone(),r=f()(e.start).tz(n),a=f()(e.end).tz(n),i=t.find((function(t){return t.id===e.resourceId}));return new CustomEvent(\"intercept:addRoomReservation\",{detail:Qe(Qe({},e.event),{},{resource:i,end:{date:a.format(\"YYYY-MM-DD\"),time:a.format(\"HH:mm:ss\")},start:{date:r.format(\"YYYY-MM-DD\"),time:r.format(\"HH:mm:ss\")}})})}(e,E))},onDoubleClickEvent:function(e){var t;e.drupal_internal__id&&window.dispatchEvent((t=e.drupal_internal__id,new CustomEvent(\"intercept:editRoomReservation\",{detail:{id:t}})))},selected:w}))};tt.propTypes={getLocationHours:Y.a.func.isRequired,locations:Y.a.arrayOf(Object).isRequired,locationsLoading:Y.a.bool.isRequired,fetchAvailability:Y.a.func.isRequired,fetchLocations:Y.a.func.isRequired,fetchUser:Y.a.func.isRequired,fetchUserStatus:Y.a.func.isRequired,onChangeDate:Y.a.func.isRequired,onChangeView:Y.a.func.isRequired,purgeReservations:Y.a.func.isRequired,date:Y.a.instanceOf(Date),view:Y.a.string},tt.defaultProps={view:\"day\",date:Xe.getUserTimeNow()};var nt=Object(M.b)((function(e,t){return{locations:Ke.locationsAscending(e),locationsLoading:Ke.recordsAreLoading(Ze.TYPE_LOCATION)(e),getLocationHours:function(n){return Ke.locationHoursTimesOnDate(n,t.date||Xe.getUserTimeNow())(e)},openHoursLimit:Ke.locationsOpenHoursLimit(e),calendarRooms:[]}}),(function(e){return{fetchLocations:function(t){e(We[Ze.TYPE_LOCATION].fetchAll(t))},fetchUser:function(t){e(We[Ze.TYPE_USER].fetchAll(t))},purgeReservations:function(t){e(We[Ze.TYPE_ROOM_RESERVATION].purge(t))}}}))(Object(Be.a)(Object(qe.a)(tt))),rt=U((function(e){return a.a.createElement(ke,{view:e.viewsId,display:e.displayId},a.a.createElement(He,null,a.a.createElement(nt,e)))})),at=Object(o.a)(rt),it=document.getElementById(\"roomReservationSchedulerRoot\"),ot=it.getAttribute(\"data-jsonapi-views-view\"),st=it.getAttribute(\"data-jsonapi-views-display\");Object(i.render)(a.a.createElement(at,{viewsId:ot,displayId:st}),it)}});","extractedComments":[]}