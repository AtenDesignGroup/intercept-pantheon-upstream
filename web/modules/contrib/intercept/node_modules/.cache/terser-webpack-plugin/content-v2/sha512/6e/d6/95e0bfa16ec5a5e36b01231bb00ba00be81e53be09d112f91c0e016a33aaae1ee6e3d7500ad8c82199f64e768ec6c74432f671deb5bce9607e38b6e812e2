{"code":"!function(e){function t(t){for(var r,i,c=t[0],s=t[1],l=t[2],f=0,d=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(u&&u(t);d.length;)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={14:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,\"a\",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p=\"\";var c=window.wpJsonpIntercept=window.wpJsonpIntercept||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;o.push([866,0]),n()}({0:function(e,t){e.exports=React},115:function(e,t){e.exports=interceptTheme},16:function(e,t){e.exports=moment},168:function(e,t,n){var r=n(187),a=n(251),o=n(252);e.exports=function(e,t){return o(a(e,t,r),e+\"\")}},194:function(e,t,n){var r=n(153),a=n(154),o=n(255),i=n(317);e.exports=function(e,t){if(null==e)return{};var n=r(i(e),(function(e){return[e]}));return t=a(t),o(e,n,(function(e,n){return t(e,n[0])}))}},196:function(e,t,n){\"use strict\";n(19),n(107),n(21),n(74),n(20),n(312);var r=n(10),a=n.n(r),o=n(9),i=n.n(o),c=n(11),s=n.n(c),l=n(12),u=n.n(l),f=n(5),d=n.n(f),p=n(0),m=n.n(p),v=n(1),h=n.n(v);function g(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var b=function(e){s()(n,e);var t=g(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:\"render\",value:function(){var e=this.props.userStatus,t=\"\";if(!(e.exceededLimit&&e.initialized||!1!==window.drupalSettings.intercept.user.barred))return null;if(0===window.drupalSettings.user.uid)t=m.a.createElement(\"p\",{className:\"value-summary__footer-text\"},\"You must be logged in to reserve rooms.\",\" \",m.a.createElement(\"a\",{className:\"value-summary__footer-link\",href:\"/user/login?destination=\".concat(encodeURIComponent(window.location.pathname+window.location.search))},\"Log in now\"));else if(!0===window.drupalSettings.intercept.user.barred){var n=window.drupalSettings.intercept.room_reservations.reservation_barred_text;t=m.a.createElement(\"p\",{className:\"value-summary__footer-text\",dangerouslySetInnerHTML:{__html:n}})}else t=m.a.createElement(\"p\",{className:\"value-summary__footer-text\"},\"You are only allowed to reserve a maximum of \",e.limit,\" room\",1===parseInt(e.limit,10)?\"\":\"s\",\" at a time.\",\" \",m.a.createElement(\"a\",{className:\"value-summary__footer-link\",href:\"/account/room-reservations\"},\"View your current reservations.\"));return m.a.createElement(\"div\",{className:\"value-summary__footer value-summary__footer--\".concat(this.props.level)},t)}}]),n}(m.a.PureComponent);b.propTypes={userStatus:h.a.object.isRequired,level:h.a.string},b.defaultProps={level:\"error\"},t.a=b},197:function(e,t,n){\"use strict\";n(40),n(33),n(38),n(42),n(43),n(37),n(19),n(85),n(21),n(20),n(39);var r=n(23),a=n.n(r),o=n(10),i=n.n(o),c=n(9),s=n.n(c),l=n(3),u=n.n(l),f=n(11),d=n.n(f),p=n(12),m=n.n(p),v=n(5),h=n.n(v),g=n(2),b=n.n(g),y=n(0),O=n.n(y),E=n(44),w=n.n(E);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return function(n){d()(o,n);var r=S(o);function o(e){var n;return i()(this,o),n=r.call(this,e),b()(u()(n),\"handleResponse\",(function(e){return n.mounted&&n.setState({userStatus:D(D({},n.state.userStatus),{},{loading:!1},JSON.parse(e))}),e})),n.handleResponse=n.handleResponse.bind(u()(n)),n.fetchUserStatus=w()(n.fetchUserStatus,t).bind(u()(n)),n.state={userStatus:{loading:!1,initialized:!1}},n}return s()(o,[{key:\"componentDidMount\",value:function(){this.mounted=!0}},{key:\"componentWillUnmount\",value:function(){this.mounted=!1}},{key:\"fetchUserStatus\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return 0===window.drupalSettings.user.uid?(this.setState({userStatus:D(D({},this.state.userStatus),{},{loading:!1,initialized:!0,exceededLimit:!0})}),Promise.resolve({exceededLimit:!0,limit:0})):(this.setState({userStatus:D(D({},this.state.userStatus),{},{loading:!0,initialized:!0})}),fetch(\"/api/rooms/user/status\",{method:\"GET\",credentials:\"same-origin\",headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\"}}).then((function(e){return e.text()})).then((function(n){return t(e.handleResponse(n))})).catch((function(t){e.mounted&&(console.log(t),e.setState({userStatus:D(D({},e.state.userStatus),{},{loading:!1})}))})))}},{key:\"render\",value:function(){return O.a.createElement(e,a()({userStatus:this.state.userStatus,fetchUserStatus:this.fetchUserStatus},this.props))}}]),o}(O.a.Component)}},232:function(e,t,n){var r=n(419),a=n(420),o=n(301),i=n(97),c=n(134),s=n(352),l=n(250),u=n(353),f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(c(e)&&(i(e)||\"string\"==typeof e||\"function\"==typeof e.splice||s(e)||u(e)||o(e)))return!e.length;var t=a(e);if(\"[object Map]\"==t||\"[object Set]\"==t)return!e.size;if(l(e))return!r(e).length;for(var n in e)if(f.call(e,n))return!1;return!0}},25:function(e,t){e.exports=ReactDOM},317:function(e,t,n){var r=n(356),a=n(318),o=n(320);e.exports=function(e){return r(e,o,a)}},318:function(e,t,n){var r=n(307),a=n(319),o=n(357),i=n(359),c=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=a(e);return t}:i;e.exports=c},319:function(e,t,n){var r=n(354)(Object.getPrototypeOf,Object);e.exports=r},320:function(e,t,n){var r=n(351),a=n(321),o=n(134);e.exports=function(e){return o(e)?r(e,!0):a(e)}},321:function(e,t,n){var r=n(133),a=n(250),o=n(322),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=a(e),n=[];for(var c in e)(\"constructor\"!=c||!t&&i.call(e,c))&&n.push(c);return n}},322:function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},328:function(e,t,n){var r=n(188),a=n(433),o=n(168),i=n(437),c=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&i(e,t[0],t[1])?t=[]:n>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),a(e,r(t,1),[])}));e.exports=c},335:function(e,t,n){\"use strict\";t.__esModule=!0,t.notify=function(e,t){e&&e.apply(null,[].concat(t))},t.instanceId=function(e,t){void 0===t&&(t=\"\");return e.__id||(e.__id=function(e){return\"\"+((null==e?\"\":e)+ ++r)}(\"rw_\")),(e.props.id||e.__id)+t},t.isFirstFocusedRender=function(e){return e._firstFocus||e.state.focused&&(e._firstFocus=!0)};var r=0},368:function(e,t,n){\"use strict\";var r=n(14),a=n(75).find,o=n(120),i=n(76),c=!0,s=i(\"find\");\"find\"in[]&&Array(1).find((function(){c=!1})),r({target:\"Array\",proto:!0,forced:c||!s},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),o(\"find\")},390:function(e,t){e.exports=jQuery},433:function(e,t,n){var r=n(153),a=n(154),o=n(422),i=n(434),c=n(249),s=n(435),l=n(187);e.exports=function(e,t,n){var u=-1;t=r(t.length?t:[l],c(a));var f=o(e,(function(e,n,a){return{criteria:r(t,(function(t){return t(e)})),index:++u,value:e}}));return i(f,(function(e,t){return s(e,t,n)}))}},434:function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},435:function(e,t,n){var r=n(436);e.exports=function(e,t,n){for(var a=-1,o=e.criteria,i=t.criteria,c=o.length,s=n.length;++a<c;){var l=r(o[a],i[a]);if(l)return a>=s?l:l*(\"desc\"==n[a]?-1:1)}return e.index-t.index}},436:function(e,t,n){var r=n(246);e.exports=function(e,t){if(e!==t){var n=void 0!==e,a=null===e,o=e==e,i=r(e),c=void 0!==t,s=null===t,l=t==t,u=r(t);if(!s&&!u&&!i&&e>t||i&&c&&l&&!s&&!u||a&&c&&l||!n&&l||!o)return 1;if(!a&&!i&&!u&&e<t||u&&n&&o&&!a&&!i||s&&n&&o||!c&&o||!l)return-1}return 0}},437:function(e,t,n){var r=n(298),a=n(134),o=n(303),i=n(133);e.exports=function(e,t,n){if(!i(n))return!1;var c=typeof t;return!!(\"number\"==c?a(n)&&o(t,n.length):\"string\"==c&&t in n)&&r(n[t],e)}},439:function(e,t,n){\"use strict\";var r=n(14),a=n(164),o=n(104),i=n(49),c=n(60),s=n(238),l=n(151),u=n(239),f=n(76),d=u(\"splice\"),p=f(\"splice\",{ACCESSORS:!0,0:0,1:2}),m=Math.max,v=Math.min;r({target:\"Array\",proto:!0,forced:!d||!p},{splice:function(e,t){var n,r,u,f,d,p,h=c(this),g=i(h.length),b=a(e,g),y=arguments.length;if(0===y?n=r=0:1===y?(n=0,r=g-b):(n=y-2,r=v(m(o(t),0),g-b)),g+n-r>9007199254740991)throw TypeError(\"Maximum allowed length exceeded\");for(u=s(h,r),f=0;f<r;f++)(d=b+f)in h&&l(u,f,h[d]);if(u.length=r,n<r){for(f=b;f<g-r;f++)p=f+n,(d=f+r)in h?h[p]=h[d]:delete h[p];for(f=g;f>g-r+n;f--)delete h[f-1]}else if(n>r)for(f=g-r;f>b;f--)p=f+n-1,(d=f+r-1)in h?h[p]=h[d]:delete h[p];for(f=0;f<n;f++)h[f+b]=arguments[f+2];return h.length=g-r+n,u}})},441:function(e,t,n){\"use strict\";var r=n(14),a=n(87),o=n(428),i=n(31),c=n(95),s=n(140),l=n(430),u=n(72);r({target:\"Promise\",proto:!0,real:!0,forced:!!o&&i((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=s(this,c(\"Promise\")),n=\"function\"==typeof e;return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),a||\"function\"!=typeof o||o.prototype.finally||u(o.prototype,\"finally\",c(\"Promise\").prototype.finally)},529:function(e,t,n){var r=n(864),a=n(300),o=n(865),i=n(97);e.exports=function(e,t){return(i(e)?r:a)(e,o(t))}},530:function(e,t,n){\"use strict\";var r=n(56);Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var a=r(n(0)),o=(0,r(n(108)).default)(a.default.createElement(\"path\",{d:\"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z\"}),\"CalendarToday\");t.default=o},6:function(e,t){e.exports=interceptClient},61:function(e,t,n){\"use strict\";n(40),n(33),n(38),n(42),n(43),n(37),n(19),n(85),n(21),n(20),n(39);var r=n(23),a=n.n(r),o=n(10),i=n.n(o),c=n(9),s=n.n(c),l=n(3),u=n.n(l),f=n(11),d=n.n(f),p=n(12),m=n.n(p),v=n(5),h=n.n(v),g=n(2),b=n.n(g),y=n(0),O=n.n(y),E=n(44),w=n.n(E),_=n(6);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var R=n.n(_).a.utils;t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return function(n){d()(o,n);var r=j(o);function o(e){var n;return i()(this,o),n=r.call(this,e),b()(u()(n),\"handleResponse\",(function(e){return n.mounted&&n.setState({availability:S(S({},n.state.availability),{},{loading:!1,rooms:JSON.parse(e),shouldUpdate:!1})}),e})),n.handleResponse=n.handleResponse.bind(u()(n)),n.fetchAvailability=w()(n.fetchAvailability,t).bind(u()(n)),n.state={availability:{loading:!1,shouldUpdate:!1,rooms:[]}},n}return s()(o,[{key:\"componentDidMount\",value:function(){this.mounted=!0}},{key:\"componentWillUnmount\",value:function(){this.mounted=!1}},{key:\"fetchAvailability\",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return this.setState({availability:S(S({},this.state.availability),{},{loading:!0,shouldUpdate:!1})}),fetch(\"/api/rooms/availability\",{method:\"POST\",credentials:\"same-origin\",headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\"},body:JSON.stringify(S(S({},e),{},{start:R.dateToDrupal(R.ensureDate(e.start)),end:R.dateToDrupal(R.ensureDate(e.end))}))}).then((function(e){return e.text()})).then((function(e){return n(t.handleResponse(e))})).catch((function(e){t.mounted&&(console.log(e),t.setState({availability:S(S({},t.state.availability),{},{loading:!1,shouldUpdate:!1})}))}))}},{key:\"render\",value:function(){return O.a.createElement(e,a()({availability:this.state.availability,fetchAvailability:this.fetchAvailability},this.props))}}]),o}(O.a.Component)}},861:function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},862:function(e,t){e.exports=function(e,t){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}},863:function(e,t){e.exports=function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}},864:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},865:function(e,t,n){var r=n(187);e.exports=function(e){return\"function\"==typeof e?e:r}},866:function(e,t,n){\"use strict\";n.r(t);var r=n(0),a=n.n(r),o=n(25),i=n(68),c=n(2),s=n.n(c),l=n(30),u=n(194),f=n.n(u),d=n(16),p=n.n(d),m=n(6),v=n.n(m),h=n(208),g=l.Serialize.decodeArray,b=l.Serialize.encodeArray,y=l.Serialize.decodeBoolean,O=l.Serialize.encodeBoolean,E=l.Serialize.decodeObject,w=l.Serialize.encodeObject,_=l.Serialize.decodeString,D=l.Serialize.encodeString,S=v.a.constants,j=v.a.utils,R=S,x={view:{type:l.UrlQueryParamTypes.string},date:{type:{decode:function(e){var t=Object(l.decode)(l.UrlQueryParamTypes.date,e)||null;if(null!==t)return j.convertDateFromLocal(t,j.getUserTimezone())},encode:function(e){return p()(e).format(\"YYYY-MM-DD\")||null}}},room:{type:l.UrlQueryParamTypes.string},roomDetail:{type:l.UrlQueryParamTypes.string},detail:{type:l.UrlQueryParamTypes.boolean},event:{type:l.UrlQueryParamTypes.string},filters:{type:{decode:function(e){var t,n;if(!e)return n={},s()(n,R.TYPE_LOCATION,[]),s()(n,R.TYPE_ROOM_TYPE,[]),s()(n,R.DATE,null),s()(n,R.KEYWORD,\"\"),n;var r=E(e,\":\",\"_\");return t={},s()(t,R.TYPE_LOCATION,g(r.location,\",\")||[]),s()(t,R.TYPE_ROOM_TYPE,g(r.type,\",\")||[]),s()(t,\"attendees\",Object(l.decode)(l.UrlQueryParamTypes.number,r.attendees)),s()(t,R.DATE,r[R.DATE]?j.getDateFromDayTimeStamp(r[R.DATE]):null),s()(t,R.KEYWORD,_(r.keyword)),s()(t,\"time\",_(r.time)),s()(t,\"duration\",_(r.duration)),s()(t,\"now\",y(r.now)),t},encode:function(e){var t,n,r=(t={location:b(e[R.TYPE_LOCATION],\",\"),type:b(e[R.TYPE_ROOM_TYPE],\",\"),attendees:Object(l.encode)(l.UrlQueryParamTypes.number,e.attendees)},s()(t,R.DATE,e[R.DATE]?j.getDayTimeStamp(e[R.DATE]):null),s()(t,\"time\",D(e.time)),s()(t,\"duration\",D(e.duration)),s()(t,R.KEYWORD,D(e.keyword)),s()(t,\"now\",O(e.now)),n=t,f()(n,(function(e){return e})));return w(r,\":\",\"_\")}}}},P=function(e){return Object(h.a)(Object(l.addUrlProps)({urlPropsQueryConfig:x})(e))},T=(n(40),n(29),n(33),n(368),n(38),n(32),n(42),n(43),n(37),n(39),n(93)),A=n.n(T),C=n(62),N=n.n(C),z=n(1),M=n.n(z),k=n(18),F=n(529),U=n.n(F),I=n(7),Y=n.n(I),L=n(232),q=n.n(L),H=n(55),B=n.n(H),V=(n(369),n(19),n(107),n(21),n(20),n(3)),G=n.n(V),W=n(23),Q=n.n(W),J=n(10),X=n.n(J),K=n(9),Z=n.n(K),$=n(11),ee=n.n($),te=n(12),ne=n.n(te),re=n(5),ae=n.n(re),oe=n(205),ie=n(201),ce=n.n(ie),se=n(69),le=n(392),ue=n(882),fe=n(15),de=n(86),pe=n(451),me=n(203),ve=n.n(me),he=n(204),ge=n.n(he),be=n(530),ye=n.n(be),Oe=n(447),Ee=n.n(Oe),we=n(207),_e=function(e){var t=e.event;return a.a.createElement(\"div\",{className:\"reservation-calendar-event reservation-calendar-event\"},a.a.createElement(\"p\",{className:\"reservation-calendar-event__title\"},t.title))};_e.propTypes={event:M.a.shape({title:M.a.string.isRequired}).isRequired};var De=_e,Se=(n(96),n(122),n(178)),je=n.n(Se),Re=n(8),xe=n(22),Pe=n(335),Te=n(327),Ae=n(148);function Ce(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ae()(e);if(t){var a=ae()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ne()(this,n)}}var Ne=function(e){ee()(n,e);var t=Ce(n);function n(){var e;X()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),s()(G()(e),\"handleResizeUp\",(function(t){0===t.button&&(t.stopPropagation(),e.context.draggable.onBeginAction(e.props.event,\"resize\",\"UP\"))})),s()(G()(e),\"handleResizeDown\",(function(t){0===t.button&&(t.stopPropagation(),e.context.draggable.onBeginAction(e.props.event,\"resize\",\"DOWN\"))})),s()(G()(e),\"handleResizeLeft\",(function(t){0===t.button&&(t.stopPropagation(),e.context.draggable.onBeginAction(e.props.event,\"resize\",\"LEFT\"))})),s()(G()(e),\"handleResizeRight\",(function(t){0===t.button&&(t.stopPropagation(),e.context.draggable.onBeginAction(e.props.event,\"resize\",\"RIGHT\"))})),s()(G()(e),\"handleStartDragging\",(function(t){0===t.button&&e.context.draggable.onBeginAction(e.props.event,\"move\")})),e}return Z()(n,[{key:\"renderAnchor\",value:function(e){var t=\"Up\"===e||\"Down\"===e?\"ns\":\"ew\";return a.a.createElement(\"div\",{className:\"rbc-addons-dnd-resize-\".concat(t,\"-anchor\"),onMouseDown:this[\"handleResize\".concat(e)],role:\"button\",tabIndex:0},a.a.createElement(\"div\",{className:\"rbc-addons-dnd-resize-\".concat(t,\"-icon\")}))}},{key:\"render\",value:function(){var e=this.props,t=e.event,n=(e.type,e.continuesPrior),r=e.continuesAfter,o=this.props.children,i=Object(Ae.accessor)(t,\"isEditable\");if(t.__isPreview)return a.a.cloneElement(o,{className:Object(Re.default)(o.props.className,\"rbc-addons-dnd-drag-preview\")});var c=this.context.draggable,s=c.draggableAccessor,l=c.resizableAccessor,u=i&&(!s||!!Object(Ae.accessor)(t,s));if(!u)return o;var f=i&&(!l||!!Object(Ae.accessor)(t,l));if(f||u){var d={onMouseDown:this.handleStartDragging,onTouchStart:this.handleStartDragging};if(f){var p,m;p=!n&&this.renderAnchor(\"Left\"),m=!r&&this.renderAnchor(\"Right\"),d.children=a.a.createElement(\"div\",{className:\"rbc-addons-dnd-resizable\"},p,o.props.children,m)}c.dragAndDropAction.interacting&&c.dragAndDropAction.event===t&&(d.className=Object(Re.default)(o.props.className,\"rbc-addons-dnd-dragged-event\")),o=a.a.cloneElement(o,d)}return o}}]),n}(a.a.Component);s()(Ne,\"contextTypes\",{draggable:M.a.shape({onStart:M.a.func,onEnd:M.a.func,onBeginAction:M.a.func,draggableAccessor:Te.accessor,resizableAccessor:Te.accessor,dragAndDropAction:M.a.object})}),s()(Ne,\"propTypes\",{type:M.a.oneOf([\"date\",\"time\"]),event:M.a.object.isRequired,draggable:M.a.bool,allDay:M.a.bool,isRow:M.a.bool,continuesPrior:M.a.bool,continuesAfter:M.a.bool,isDragging:M.a.bool,isResizing:M.a.bool});var ze=Ne,Me=n(47),ke=n(111),Fe=n.n(ke);function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ye(e){return\"string\"==typeof e?e:e+\"%\"}var Le=function(e){var t=e.style,n=e.className,r=e.event,o=e.accessors,i=(e.rtl,e.selected),c=e.label,s=e.continuesEarlier,l=e.continuesLater,u=e.getters,f=e.onClick,d=e.onDoubleClick,p=e.components,m=p.event,v=p.eventWrapper,h=Object(Ae.accessor)(r,\"isEditable\"),g=o.title(r),b=o.tooltip(r),y=o.end(r),O=o.start(r),E=u.eventProp(r,O,y,i),w=t.height,_=t.top,D=t.width,S=t.left,j=(t.xOffset,[a.a.createElement(\"div\",{key:\"1\",className:\"rbc-event-label\"},c),a.a.createElement(\"div\",{key:\"2\",className:\"rbc-event-content\"},m?a.a.createElement(m,{event:r,title:g}):g)]);return a.a.createElement(v,Q()({type:\"time\"},e),a.a.createElement(\"div\",{onClick:h?f:null,onDoubleClick:h?d:null,style:Ie(Ie({},E.style),{},{top:Ye(_),left:Ye(S),width:Ye(D),height:Ye(w)}),title:b?(\"string\"==typeof c?c+\": \":\"\")+b:void 0,className:Object(Re.default)(\"rbc-event\",n,E.className,{\"rbc-selected\":i,\"rbc-event-continues-earlier\":s,\"rbc-event-continues-later\":l})},j))},qe=n(325),He=n(446),Be=n.n(He);function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ae()(e);if(t){var a=ae()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ne()(this,n)}}var Qe=function(e,t){var n=t.x,r=t.y,a=e.left,o=e.bottom,i=e.top;return r<o&&r>i&&n>a},Je=function(e){ee()(n,e);var t=We(n);function n(){var e;X()(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i)),s()(G()(e),\"handleMove\",(function(t,n){var r=e.context.draggable.dragAndDropAction.event,a=e.props,o=a.accessors,i=a.slotMetrics;if(Qe(n,t)){var c=i.closestSlotFromPoint({y:t.y-e.eventOffsetTop,x:t.x},n),s=o.start(r),l=o.end(r),u=Me.add(c,Me.diff(s,l,\"minutes\"),\"minutes\");e.update(r,i.getRange(c,u,!1,!0))}else e.reset()})),s()(G()(e),\"handleDropFromOutside\",(function(t,n){var r=e.props,a=r.slotMetrics,o=r.resource,i=a.closestSlotFromPoint({y:t.y,x:t.x},n);e.context.draggable.onDropFromOutside({start:i,end:a.nextSlot(i),allDay:!1,resource:o})})),s()(G()(e),\"_selectable\",(function(){var t=Object(o.findDOMNode)(G()(e)),n=e._selector=new Fe.a((function(){return t.closest(\".rbc-time-view\")})),r=function(n){var r=e.props.slotMetrics.closestSlotFromPoint(n,Object(ke.getBoundsForNode)(t));e.state.selecting||(e._initialSlot=r);var a=e._initialSlot;Me.lte(a,r)?r=e.props.slotMetrics.nextSlot(r):Me.gt(a,r)&&(a=e.props.slotMetrics.nextSlot(a));var o=e.props.slotMetrics.getRange(Me.min(a,r),Me.max(a,r));return Ge(Ge({},o),{},{selecting:!0,left:\"\".concat(o.left,\"%\"),width:\"\".concat(o.width,\"%\")})},a=function(t){var n=e.props.onSelecting,a=e.state||{},o=r(t),i=o.startDate,c=o.endDate;n&&(Me.eq(a.startDate,i,\"minutes\")&&Me.eq(a.endDate,c,\"minutes\")||!1===n({start:i,end:c,resourceId:e.props.resource}))||e.state.start===o.start&&e.state.end===o.end&&e.state.selecting===o.selecting||e.setState(o)},i=function(t,n){if(!Object(ke.isEvent)(Object(o.findDOMNode)(G()(e)),t)){var a=r(t),i=a.startDate,c=a.endDate;e._selectSlot({startDate:i,endDate:c,action:n,box:t})}e.setState({selecting:!1})};n.on(\"beforeSelect\",(function(n){var r=e.context.draggable.dragAndDropAction;if(!r.action){if(\"ignoreEvents\"!==e.props.selectable)return;return!Object(ke.isEvent)(Object(o.findDOMNode)(G()(e)),n)&&Qe(Object(ke.getBoundsForNode)(t),n)}if(\"resize\"===r.action)return Qe(Object(ke.getBoundsForNode)(t),n);var a=Object(ke.getEventNodeFromPoint)(t,n);if(!a)return!1;e.eventOffsetLeft=n.x-Object(ke.getBoundsForNode)(a).left})),n.on(\"selecting\",(function(n){var r=e.context.draggable.dragAndDropAction;if(r.action){var o=Object(ke.getBoundsForNode)(t);\"move\"===r.action&&e.handleMove(n,o),\"resize\"===r.action&&e.handleResize(n,o)}else a(n)})),n.on(\"dropFromOutside\",(function(n){if(e.context.draggable.onDropFromOutside){var r=Object(ke.getBoundsForNode)(t);Qe(r,n)&&e.handleDropFromOutside(n,r)}})),n.on(\"dragOver\",(function(n){if(e.context.draggable.dragFromOutsideItem){var r=Object(ke.getBoundsForNode)(t);e.handleDropFromOutside(n,r)}})),n.on(\"selectStart\",(function(t){e.context.draggable.dragAndDropAction.action?e.context.draggable.onStart():a(t)})),n.on(\"select\",(function(n){e.state.selecting&&(e._selectSlot(Ge(Ge({},e.state),{},{action:\"select\",point:n})),e.setState({selecting:!1}));var r=Object(ke.getBoundsForNode)(t);e.state.event&&Qe(r,n)&&e.handleInteractionEnd()})),n.on(\"click\",(function(t){i(t,\"click\"),e.context.draggable.onEnd(null)})),n.on(\"doubleClick\",(function(e){return i(e,\"doubleClick\")})),n.on(\"reset\",(function(){e.reset(),e.context.draggable.onEnd(null)}))})),s()(G()(e),\"handleInteractionEnd\",(function(){var t=e.props.resource,n=e.state.event;e.reset(),e.context.draggable.onEnd({start:n.start,end:n.end,resourceId:t})})),s()(G()(e),\"_teardownSelectable\",(function(){e._selector&&(e._selector.teardown(),e._selector=null)})),s()(G()(e),\"_selectSlot\",(function(t){for(var n=t.startDate,r=t.endDate,a=t.action,o=t.bounds,i=t.box,c=n,s=[];Me.lte(c,r);)s.push(c),c=Me.add(c,e.props.step,\"minutes\");Object(Pe.notify)(e.props.onSelectSlot,{slots:s,start:n,end:r,resourceId:e.props.resource,action:a,bounds:o,box:i})})),s()(G()(e),\"eventHeight\",(function(){return\"\".concat(e.props.eventHeight,\"px\")})),s()(G()(e),\"renderPlaceholderEvent\",(function(){var t=e.state,n=t.left,r=t.width,o={start:t.startDate,end:t.endDate},i=e.props.localizer;return a.a.createElement(\"div\",{className:\"rbc-slot-selection\",style:{left:n,width:r,height:e.eventHeight()}},a.a.createElement(\"span\",null,i.format(o,\"selectRangeFormat\")))})),s()(G()(e),\"renderSelectedEvent\",(function(){var t,n=e.props,r=n.accessors,o=n.components,i=n.getters,c=n.slotMetrics,s=n.localizer,l=e.state,u=l.event,f=l.left,d=l.width,p=u.start,m=u.end,v=\"eventTimeRangeFormat\",h=c.startsBeforeDay(p),g=c.startsAfterDay(m);return h?v=\"eventTimeRangeEndFormat\":g&&(v=\"eventTimeRangeStartFormat\"),t=h&&g?s.messages.allDay:s.format({start:p,end:m},v),a.a.createElement(Le,{event:u,label:t,className:\"rbc-addons-dnd-drag-preview\",style:{left:f,width:d,height:e.eventHeight()},getters:i,components:Ge(Ge({},o),{},{eventWrapper:Be.a}),accessors:Ge(Ge({},r),qe.dragAccessors),continuesEarlier:h,continuesLater:g})})),e.state={selecting:!1,timeIndicatorPosition:null},e}return Z()(n,[{key:\"componentDidMount\",value:function(){this._selectable()}},{key:\"componentWillUnmount\",value:function(){this._teardownSelectable()}},{key:\"reset\",value:function(){this.state.event&&this.setState({event:null,left:null,width:null}),this.state.selecting&&this.setState({selecting:!1})}},{key:\"update\",value:function(e,t){var n=t.startDate,r=t.endDate,a=t.left,o=t.width,i=this.state.event;i&&n===i.start&&r===i.end||this.setState({left:a,width:o,event:Ge(Ge({},e),{},{start:n,end:r})})}},{key:\"handleResize\",value:function(e,t){var n,r,a=this.props,o=a.accessors,i=a.slotMetrics,c=this.context.draggable.dragAndDropAction,s=c.event,l=c.direction,u=i.closestSlotFromPoint(e,t);\"LEFT\"===l?(r=o.end(s),n=Me.min(u,i.closestSlotFromDate(r,-1))):\"RIGHT\"===l&&(n=o.start(s),r=Me.max(u,i.closestSlotFromDate(n))),this.update(s,i.getRange(n,r))}},{key:\"render\",value:function(){var e=this.props.children,t=this.state,n=t.event,r=t.selecting;if(!n&&!r)return e;var o=e.props.children;return a.a.cloneElement(e,{children:a.a.createElement(a.a.Fragment,null,o,n&&this.renderSelectedEvent(),r&&this.renderPlaceholderEvent())})}}]),n}(a.a.Component);s()(Je,\"propTypes\",{accessors:M.a.object.isRequired,components:M.a.object.isRequired,getters:M.a.object.isRequired,localizer:M.a.object.isRequired,selectable:M.a.string,slotMetrics:M.a.object.isRequired,resource:M.a.any}),s()(Je,\"contextTypes\",{draggable:M.a.shape({onStart:M.a.func,onEnd:M.a.func,onDropFromOutside:M.a.func,onBeginAction:M.a.func,dragAndDropAction:M.a.object,dragFromOutsideItem:M.a.func})});var Xe=Je,Ke=a.a.createContext(),Ze=function(e){var t=e.children,n=je()(e,[\"children\"]),r=n;return n.dnd&&(r.components.eventWrapper=ze,r.components.eventContainerWrapper=Xe),a.a.createElement(Ke.Provider,{value:r},t)};Ze.propTypes={children:M.a.element.isRequired,dnd:M.a.bool},Ze.defaultProps={dnd:!1};var $e=Ke,et=(n(439),n(328)),tt=n.n(et),nt=function(){function e(t,n){var r=n.accessors,a=n.slotMetrics;X()(this,e);var o=a.getRange(r.start(t),r.end(t)),i=o.start,c=o.startDate,s=o.end,l=o.endDate,u=o.left,f=o.width,d=o.height;this.start=i,this.end=s,this.startMs=+c,this.endMs=+l,this.left=u,this.width=f,this.height=d,this.data=t}return Z()(e,[{key:\"_height\",get:function(){return 50}},{key:\"yOffset\",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._height;var e=this.row,t=e.leaves,n=e.yOffset,r=e._height;return n+(t.indexOf(this)+1)*r}}]),e}();function rt(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function at(e){for(var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,a=e.accessors,o=function(e){for(var t=tt()(e,[\"startMs\",function(e){return-e.endMs}]),n=[];t.length>0;){var r=t.shift();n.push(r);for(var a=0;a<t.length;a+=1){var o=t[a];if(!(r.endMs>o.startMs)){if(a>0){var i=t.splice(a,1)[0];n.push(i)}break}}}return n}(t.map((function(e){return new nt(e,{slotMetrics:r,accessors:a})}))),i=[],c=function(e){var t=o[e],r=i.find((function(e){return e.end>t.start||Math.abs(t.start-e.start)<n}));if(!r)return t.rows=[],i.push(t),\"continue\";t.container=r;for(var a=null,c=r.rows.length-1;!a&&c>=0;c-=1)rt(r.rows[c],t,n)&&(a=r.rows[c]);a?(a.leaves.push(t),t.row=a):(t.leaves=[],r.rows.push(t))},s=0;s<o.length;s+=1)c(s);return o.map((function(e){return{event:e.data,style:{top:\"\".concat(e.yOffset,\"px\"),left:e.left,height:\"\".concat(e._height,\"px\"),width:e.width,yOffset:Math.max(0,e.yOffset)+e._height}}}))}var ot=function(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()},it=function(e,t,n,r){return\"\".concat(+Me.startOf(e,\"minutes\"))+\"\".concat(+Me.startOf(t,\"minutes\"))+\"\".concat(n,\"-\").concat(r)};var ct=a.a.createContext(),st=function(e){var t=e.children,n=Object(r.useState)([]),o=A()(n,2),i=o[0],c=o[1],s=Object(r.useState)([]),l=A()(s,2),u=l[0],f=l[1],d={groups:i,collapseAllGroups:function(){f(N()(i.map((function(e){return e.id}))))},collapseGroup:function(e){f([e].concat(N()(u)))},expandAllGroups:function(){f([])},expandGroup:function(e){f(u.filter((function(t){return t!==e})))},isGroupCollapsed:function(e){return u.indexOf(e)>=0},isGroupExpanded:function(e){return u.indexOf(e)<0},setGroups:c};return a.a.createElement(ct.Provider,{value:d},t)};st.propTypes={children:M.a.element.isRequired};var lt=ct;var ut=n(390),ft=n.n(ut);function dt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Object(r.useRef)();Object(r.useEffect)((function(){o.current=t}),[t]),Object(r.useEffect)((function(){if(a&&void 0!==ft.a){var t=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o.current.apply(o,[e].concat(n))};return ft()(n).on(e,t),function(){ft()(n).off(e,t)}}if(n&&n.addEventListener){var r=function(e){return o.current(e)};return n.addEventListener(e,r),function(){n.removeEventListener(e,r)}}}),[e,n])}function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vt=v.a.utils;function ht(e,t){return!(!e||null==t)&&-1!==[].concat(t.id).indexOf(e.id)}var gt=function(e,t){var n;e.drupal_internal__nid&&window.dispatchEvent((n=e.drupal_internal__nid,new CustomEvent(\"intercept:viewRoom\",{detail:{id:n}}))),t.preventDefault()},bt=function(e){var t=e.children,n=(e.width,e.timelineWidth),r=e.height,o=e.hideScrollbar,i=e.horizontal,c=e.overflow,s=e.vertical,l=e.scrollRef,u=e.scrollbarSize,f={},d={};i&&(f.overflowX=\"hidden\",c&&(f.overflowX=\"auto\")),s&&(f.height=\"\".concat(r,\"px\"),f.overflowY=\"hidden\",c&&(f.overflowY=\"auto\"),o&&(d.marginRight=\"-\".concat(u.width,\"px\")));var p={};return n&&(p.width=\"\".concat(n,\"px\")),a.a.createElement(\"div\",{className:\"scheduler__scroll-wrapper\",style:d},a.a.createElement(\"div\",{className:\"scheduler__scroll-frame\",style:f,ref:l},a.a.createElement(\"div\",{className:\"scheduler__scroll-canvas\",style:p},t)))},yt=function(e){var t=e.group,n=Object(r.useContext)(lt),o=n.isGroupCollapsed,i=n.collapseGroup,c=n.expandGroup,s=t.id,l=o(s),u=l?function(){return c(s)}:function(){return i(s)},f=l?\"Expand Group\":\"Collapse Group\";return a.a.createElement(\"button\",{onClick:u,className:\"scheduler__group-toggle\",\"aria-expanded\":!l},f)};yt.propTypes={group:M.a.shape({id:M.a.oneOfType([M.a.string,M.a.number]).isRequired}).isRequired};var Ot=function(e){var t=e.resourceComponent,n=e.timelineComponent;return a.a.createElement(\"tr\",null,a.a.createElement(\"td\",{className:\"scheduler__section scheduler__section--resource\"},t),a.a.createElement(\"td\",{className:\"scheduler__section scheduler__section--divider\"}),a.a.createElement(\"td\",{className:\"scheduler__section scheduler__section--timeline\"},n))},Et=function(e){var t,n=e.group,r=e.accessors,o=e.slotMetrics,i=e.height,c=e.step,s=e.timeslots;n.hours?t=function(e,t){var n=e.style;return[{state:\"closed\",style:{left:0,width:\"\".concat(n.left,\"%\"),height:\"\".concat(t,\"px\"),top:0}},{state:\"open\",style:{left:\"\".concat(n.left,\"%\"),width:\"\".concat(n.width,\"%\"),height:\"\".concat(t,\"px\"),top:0}},{state:\"closed\",style:{left:\"\".concat(n.left+n.width,\"%\"),width:\"\".concat(100-n.left-n.width,\"%\"),height:\"\".concat(t,\"px\"),top:0}}]}(at({events:[n.hours],accessors:r,slotMetrics:o,minimumStartDifference:Math.ceil(c*s/2)})[0],i):t=[{state:\"closed\",style:{left:0,width:\"100%\",height:\"\".concat(i,\"px\")}}];return a.a.createElement(\"div\",{className:\"scheduler__resource-hours\",style:{height:\"\".concat(i,\"px\")}},t.map((function(e,t){return a.a.createElement(\"div\",{key:t,className:\"scheduler__resource-hours__block scheduler__resource-hours__block--\".concat(e.state),style:e.style})})))},wt=function(e){var t=e.resourceId,n=e.slotMetrics,o=function(){var t=e.accessors,r=e.components,o=e.getters,i=e.localizer,c=e.rtl,s=e.selected,l=e.styledEvents,u=i.messages;return l.map((function(l,f){var d,p=l.event,m=l.style,v=t.end(p),h=t.start(p),g=\"eventTimeRangeFormat\",b=n.startsBeforeDay(h),y=n.startsAfterDay(v);b?g=\"eventTimeRangeEndFormat\":y&&(g=\"eventTimeRangeStartFormat\"),d=b&&y?u.allDay:i.format({start:h,end:v},g);var O=b||n.startsBefore(h),E=y||n.startsAfter(v);return a.a.createElement(Le,{style:m,event:p,label:d,key:\"evt_\".concat(f),getters:o,rtl:c,components:r,continuesEarlier:O,continuesLater:E,accessors:t,selected:ht(p,s),onClick:function(t){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Object(Pe.notify)(e.onSelectEvent,n)}(p,t)},onDoubleClick:function(t){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Object(Pe.notify)(e.onDoubleClickEvent,n)}(p,t)}})}))},i=Object(r.useContext)($e),c=i.selectable,s=i.accessors,l=i.getters,u=i.localizer,f=i.components,d=f.eventContainerWrapper,p=je()(f,[\"eventContainerWrapper\"]),m=i.onSelectSlot,v=i.rtl;return e.dnd?a.a.createElement(\"div\",{className:\"scheduler__events-row\"},a.a.createElement(d,{localizer:u,resource:t,accessors:s,getters:l,components:p,slotMetrics:n,selectable:c,onSelectSlot:m,eventHeight:50},a.a.createElement(\"div\",{className:Object(Re.default)(\"rbc-events-container\",v&&\"rtl\"),style:e.style},o()))):a.a.createElement(\"div\",{className:\"scheduler__events-row\",style:e.style,key:t},o())},_t=function(){return window?window.innerHeight-56-80-40:500};var Dt=function(e){var t,n=Object(r.useContext)(lt),o=n.groups,i=n.isGroupExpanded,c=Object(r.useContext)($e),l=c.accessors,u=c.date,f=c.resources,d=c.events,m=c.min,v=c.max,h=c.timeslots,g=c.step,b=c.components,y=Object(r.useState)(!1),O=A()(y,2),E=O[0],w=O[1],_=Object(r.useState)(500),D=A()(_,2),S=D[0],j=D[1],R=Object(r.useState)(null),x=A()(R,2),P=x[0],T=x[1],C=function(e){return function(){T(e===P?null:e)}},z=Object(r.useRef)(null),M=Object(r.useRef)(null),k=Object(r.useRef)(null),F=Object(r.useRef)(null),U=function e(t){for(var n=t.min,r=t.max,a=t.step,o=t.timeslots,i=it(n,r,a,o),c=Me.startOf(n,\"day\"),s=ot(c,n),l=1+Me.diff(n,r,\"minutes\")+ot(n,r),u=Me.diff(c,n,\"minutes\")+s,f=Math.ceil(l/(a*o)),d=f*o,p=new Array(f),m=new Array(d),v=0;v<f;v++){p[v]=new Array(o);for(var h=0;h<o;h++){var g=v*o+h,b=g*a;m[g]=p[v][h]=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,u+b,0,0)}}var y=m.length*a;function O(e){var t=Me.diff(n,e,\"minutes\")+ot(n,e);return Math.min(t,l)}return m.push(new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,u+y,0,0)),{groups:p,update:function(t){return it(t)!==i?e(t):this},dateIsInGroup:function(e,t){var n=p[t+1];return Me.inRange(e,p[t][0],n?n[0]:r,\"minutes\")},nextSlot:function(e){var t=m[Math.min(m.indexOf(e)+1,m.length-1)];return t===e&&(t=Me.add(e,a,\"minutes\")),t},closestSlotToPosition:function(e){var t=Math.min(m.length-1,Math.max(0,Math.floor(e*d)));return m[t]},closestSlotFromPoint:function(e,t){var n=Math.abs(t.left-t.right);return this.closestSlotToPosition((e.x-t.left)/n)},closestSlotFromDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(Me.lt(e,n,\"minutes\"))return m[0];var r=Me.diff(n,e,\"minutes\");return m[(r-r%a)/a+t]},startsBeforeDay:function(e){return Me.lt(e,n,\"day\")},startsAfterDay:function(e){return Me.gt(e,r,\"day\")},startsBefore:function(e){return Me.lt(Me.merge(n,e),n,\"minutes\")},startsAfter:function(e){return Me.gt(Me.merge(r,e),r,\"minutes\")},getRange:function(e,t){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=o?e:Me.min(r,Me.max(n,e)),s=i?t:Me.min(r,Me.max(n,t)),l=O(c),u=O(s),f=0;return 0!==l&&(f=u>a*(d-1)&&!Me.eq(r,s)?(l-a)/(a*d)*100:l/(a*d)*100),{left:f,width:u/(a*d)*100-f,start:O(c),startDate:c,end:O(s),endDate:s}},getCurrentTimePosition:function(e){return O(e)/(a*d)*100}}}({min:m,max:v,timeslots:h,step:g}),I=U.groups,Y=(t=k.current)?t.offsetWidth:300,L=function(e,t){return e?e.offsetWidth-t:800}(z.current,Y),q=function(e){var t;return 30*(t=[]).concat.apply(t,N()(e)).length}(I);dt(\"resize\",(function(){j(_t())}),window),Object(r.useEffect)((function(){var e;(e={resourcesRef:k,scheduleRef:F,timelineRef:M},function(){var t=e.resourcesRef,n=e.scheduleRef,r=e.timelineRef,a=!1,o=!1,i=function(e){window.requestAnimationFrame((function(){a||(o=!0,r.current.scrollLeft=e.target.scrollLeft,t.current.scrollTop=e.target.scrollTop),a=!1}))},c=function(e){window.requestAnimationFrame((function(){o||(a=!0,n.current.scrollTop=e.target.scrollTop),o=!1}))};return n.current.addEventListener(\"scroll\",i),t.current.addEventListener(\"scroll\",c),function(){n.current.removeEventListener(\"scroll\",i),t.current.removeEventListener(\"scroll\",c)}})(),function(e,t){return function(){var n=e.scheduleRef,r=e.timelineRef,a=function(e){n.current.removeEventListener(\"scroll\",e),r.current.removeEventListener(\"scroll\",e)},o=function e(){t(!0),a(e)};return n.current.addEventListener(\"scroll\",o),r.current.addEventListener(\"scroll\",o),function(){a(o)}}}({scheduleRef:F,timelineRef:M},w)(),j(_t())}),[]),Object(r.useEffect)((function(){if(F.current&&!E){var e=vt.convertDateFromLocal(u,vt.getUserTimezone());!function(e,t,n,r,a,o,i){var c=at({events:[{start:t,end:t}],accessors:o,slotMetrics:n,minimumStartDifference:Math.ceil(r*a/2)}),s=i/(n.groups.length*a),l=c[0].style.left/100*i,u=Math.max(0,Math.floor(l/s)*s);e.current.scrollLeft=u}(F,e,U,g,h,l,q)}}),[M.current,F.current,d]);var H=function(){var e=Object(r.useState)({}),t=A()(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){var e=document.body,t=document.createElement(\"div\");t.setAttribute(\"style\",\"width: 1337px; height: 1337px; position: absolute; left: -9999px; overflow: scroll;\"),e.appendChild(t);var n=function(e){return t[\"offset\".concat(e)]-t[\"client\".concat(e)]},r=n(\"Width\"),o=n(\"Height\");e.removeChild(t),a({width:r,height:o})}),[]),n}(),B=function(e,t,n,r,a,o){return e.reduce((function(e,i){var c=at({events:t.filter((function(e){return e.resourceId===i.id})),accessors:o,slotMetrics:n,minimumStartDifference:Math.ceil(r*a/2)}),l=c.reduce((function(e,t){return t.style.yOffset>e?t.style.yOffset:e}),50)+2;return mt(mt({},e),{},s()({},i.id,mt(mt({},i),{},{styledEvents:c,height:l})))}),{})}(f,d,U,g,h,l);return a.a.createElement(\"table\",{className:\"scheduler\",ref:z},a.a.createElement(\"thead\",{className:\"scheduler__head\"},a.a.createElement(Ot,{resourceComponent:a.a.createElement(\"span\",null,\"Rooms\"),timelineComponent:a.a.createElement(bt,{horizontal:!0,hideScrollbar:!0,width:L,timelineWidth:q,scrollRef:M,scrollbarSize:H},a.a.createElement(\"table\",null,a.a.createElement(\"colgroup\",null,I.map((function(e){return e.map((function(e,t){return a.a.createElement(\"col\",{key:t,style:{width:\"\".concat(30,\"px\")}})}))}))),a.a.createElement(\"tbody\",null,a.a.createElement(\"tr\",null,I.map((function(e,t){return a.a.createElement(\"td\",{key:t,colSpan:e.length},a.a.createElement(\"button\",{onClick:C(t)},p()(e[0]).format(\"ha\")))}))))))})),a.a.createElement(\"tbody\",{className:\"scheduler__body\"},a.a.createElement(Ot,{resourceComponent:a.a.createElement(bt,{vertical:!0,hideScrollbar:!0,overflow:!0,height:S,scrollRef:k,scrollbarSize:H},a.a.createElement(\"table\",null,a.a.createElement(\"tbody\",null,o.map((function(e){var t=i(e.id),n=f.filter((function(t){return t.groupId===e.id}));return n.length<=0?null:a.a.createElement(a.a.Fragment,{key:e.id},a.a.createElement(\"tr\",{className:\"scheduler__row scheduler__row--group\"},a.a.createElement(\"th\",null,a.a.createElement(\"div\",{className:\"scheduler__group-heading\"},a.a.createElement(\"span\",{className:\"scheduler__group-text\"},e.title),a.a.createElement(yt,{group:e})))),t&&n.map((function(e){return a.a.createElement(\"tr\",{key:e.id,className:\"scheduler__row scheduler__row--resource\",style:{height:B[e.id].height}},a.a.createElement(\"td\",null,e.title,a.a.createElement(\"a\",{href:\"/room/\".concat(e.drupal_internal__nid),onClick:function(t){return gt(e,t)}},\"View Room Details\")))})))})),a.a.createElement(\"tr\",null,a.a.createElement(\"td\",null,\" \"))))),timelineComponent:a.a.createElement(bt,{vertical:!0,horizontal:!0,overflow:!0,width:L,timelineWidth:q,height:S,scrollRef:F,scrollbarSize:H},a.a.createElement(\"div\",{className:\"rbc-scheduler-view\"},a.a.createElement(\"div\",{className:\"scheduler__timeline-container rbc-time-view\",style:{width:\"\".concat(q,\"px\"),minHeight:\"\".concat(S,\"px\")}},a.a.createElement(\"table\",{className:\"scheduler__timeline\"},a.a.createElement(\"tbody\",null,o.map((function(t){var n=i(t.id),r=f.filter((function(e){return e.groupId===t.id}));return r.length<=0?null:a.a.createElement(a.a.Fragment,{key:t.id},a.a.createElement(\"tr\",{className:\"scheduler__row scheduler__row--group\",style:{height:\"\".concat(50,\"px\")}},a.a.createElement(\"td\",null,a.a.createElement(\"div\",{className:\"scheduler__row-inner\"},a.a.createElement(Et,Q()({},e,{group:t,slotMetrics:U,height:50}))))),n&&r.map((function(n){return a.a.createElement(\"tr\",{key:n.id,className:\"scheduler__row scheduler__row--event\",style:{height:B[n.id].height}},a.a.createElement(\"td\",null,a.a.createElement(\"div\",{className:\"scheduler__row-inner\"},a.a.createElement(wt,Q()({},e,{components:b,accessors:l,slotMetrics:U,resourceId:n.id,style:{height:B[n.id].height},styledEvents:B[n.id].styledEvents})),a.a.createElement(Et,Q()({},e,{group:t,slotMetrics:U})))))})))})),a.a.createElement(\"tr\",null,a.a.createElement(\"td\",null,\" \")))),a.a.createElement(\"div\",{className:\"scheduler__bg\"},a.a.createElement(\"table\",null,a.a.createElement(\"colgroup\",null,I.map((function(e){return e.map((function(e,t){return a.a.createElement(\"col\",{key:t,style:{width:\"\".concat(30,\"px\")}})}))}))),a.a.createElement(\"tbody\",null,a.a.createElement(\"tr\",null,I.map((function(e,t){return e.map((function(e,n){return a.a.createElement(\"td\",{key:n,className:\"scheduler__bg--\".concat(0===n?\"major\":\"minor\",\" \").concat(t===P?\"scheduler__bg--highlighted\":\"\"),style:{width:\"\".concat(30,\"px\")}})}))}))))))))),width:q})))};Dt.propTypes={date:M.a.instanceOf(Date).isRequired,events:M.a.array.isRequired,resources:M.a.array.isRequired};var St=function(e){return a.a.createElement(Ze,e,a.a.createElement(Dt,e))};St.title=function(e,t){return t.localizer.format(e,\"dayHeaderFormat\")},St.navigate=function(e,t){switch(t){case se.b.PREVIOUS:return xe.add(e,-1,\"day\");case se.b.NEXT:return xe.add(e,1,\"day\");default:return e}};var jt=St;function Rt(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ae()(e);if(t){var a=ae()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ne()(this,n)}}var xt=v.a.utils,Pt=function(e){ee()(n,e);var t=Rt(n);function n(){return X()(this,n),t.apply(this,arguments)}return Z()(n,[{key:\"render\",value:function(){var e=this.props,t=e.localizer.messages,n=e.label,r=e.maxDate,o=e.minDate,i=e.date,c=e.onDateChange,s=p()(i).format(\"YYYY-MM-DD\"),l=Object(fe.a)({root:{fontSize:\"16px\",letterSpacing:\"normal\",textTransform:\"none\"}})(le.a);return a.a.createElement(\"div\",{className:\"rbc-toolbar\"},a.a.createElement(\"span\",{className:\"rbc-btn-group\"},a.a.createElement(le.a,{variant:\"contained\",color:\"primary\",size:\"small\",className:\"rbc-btn rbc-btn--today\",onClick:this.navigate.bind(null,se.b.TODAY)},t.today)),a.a.createElement(\"div\",{className:\"rbc-toolbar__heading\"},a.a.createElement(ue.a,{className:\"rbc-toolbar__pager-button rbc-toolbar__pager-button--prev\",onClick:this.navigate.bind(null,se.b.PREVIOUS),color:\"primary\",\"aria-label\":\"Previous\",variant:\"flat\",disabled:o&&o>=s},a.a.createElement(ve.a,null)),a.a.createElement(de.a,{utils:we.a,moment:p.a},a.a.createElement(pe.a,{onChange:function(e){return c(e.toDate())},TextFieldComponent:function(e){var t=e.onClick;return a.a.createElement(l,{name:name,input:i,onClick:t,endIcon:a.a.createElement(ye.a,null)},a.a.createElement(\"h2\",{className:\"rbc-toolbar__label\"},n))},value:i,className:\"date-filter\",minDate:o})),a.a.createElement(ue.a,{className:\"rbc-toolbar__pager-button rbc-toolbar__pager-button--next\",onClick:this.navigate.bind(null,se.b.NEXT),color:\"primary\",\"aria-label\":\"Next\",disabled:r&&r<=s},a.a.createElement(ge.a,null))),a.a.createElement(\"span\",{className:\"rbc-btn-group rbc-btn-group--views\"},this.viewNamesGroup(t)))}}]),n}(ce.a);function Tt(e,t){if(!t)return e;if(\"string\"!=typeof t.id)return[].concat(e,t);var n=Ee()(e,(function(e){return e.id===t.id}));if(n<0)return e;var r=N()(e);return r[n]=t,r}var At=function(e){ee()(n,e);var t=Rt(n);function n(e){var r;return X()(this,n),r=t.call(this,e),s()(G()(r),\"getDateFromTime\",(function(e,t){var n=parseInt(e.slice(0,2),10),r=parseInt(e.slice(2),10),a=new Date((t||new Date(\"Jan 1, 2000 00:00:00\")).getTime());return a.setHours(n),a.setMinutes(r),a})),s()(G()(r),\"handleDateChange\",(function(e){r.props.onDateChange(e)})),s()(G()(r),\"handleViewChange\",(function(e){r.props.onViewChange(e)})),s()(G()(r),\"getMergedEvents\",(function(e,t){return t&&\"string\"!=typeof t.id?[].concat(e,t):e})),r.state={showEvent:!1},r.onHideEvent=r.onHideEvent.bind(G()(r)),r}return Z()(n,[{key:\"onHideEvent\",value:function(){this.setState({showEvent:!1})}},{key:\"render\",value:function(){var e,t=this.props,n=t.date,r=t.defaultDate,o=t.min,i=t.max,c=t.events,s=t.resources,l=t.selected;return a.a.createElement(a.a.Fragment,null,a.a.createElement(oe.a,{className:\"rbc-calendar--no-overlap\",components:(e=this.props,{event:De,toolbar:function(t){return a.a.createElement(Pt,Q()({},e,t))}}),date:n,dnd:!0,defaultDate:r,defaultView:this.props.view,draggableAccessor:this.props.draggableAccessor,elementProps:{style:{height:\"calc(100vh - 26rem)\"}},endAccessor:this.props.endAccessor,eventPropGetter:function(e){return{className:\"rbc-event--\".concat(e.status,\" \").concat(e.hasEvent?\"rbc-event--hasEvent\":\"\",\" \").concat(e.isReservedByStaff?\"rbc-event--isReservedByStaff\":\"\")}},events:Tt(c,l),resources:\"day\"===this.props.view?s:void 0,max:this.getDateFromTime(i&&\"2400\"!==i&&\"0000\"!==i?i:\"2359\",xt.normalizeStartOfDay(n).toDate()),min:this.getDateFromTime(o||\"0000\",xt.normalizeStartOfDay(n).toDate()),onNavigate:this.props.onDateChange,onView:this.handleViewChange,onEventDrop:this.props.onChangeEvent,onEventResize:this.props.onChangeEvent,onSelectEvent:this.props.onSelectEvent,onDoubleClickEvent:this.props.onDoubleClickEvent,onSelectSlot:this.props.onSelectSlot,onDragStart:this.props.onDragStart,resizable:!0,selected:l,selectable:!0,startAccessor:this.props.startAccessor,step:15,timeslots:4,timeZoneName:xt.getUserTimezone(),titleAccessor:function(){return\"Booked\"},views:{day:jt}}))}}]),n}(a.a.Component);At.propTypes={onChangeEvent:M.a.func,onDateChange:M.a.func,onDragStart:M.a.func,onDoubleClickEvent:M.a.func,onSelectEvent:M.a.func,draggableAccessor:M.a.func,onSelectSlot:M.a.func,onViewChange:M.a.func,endAccessor:M.a.func,startAccessor:M.a.func,date:M.a.instanceOf(Date),defaultDate:M.a.instanceOf(Date),view:M.a.string,min:M.a.string,max:M.a.string},At.defaultProps={onChangeEvent:function(){},onDateChange:function(){},onDoubleClickEvent:function(){},onDragStart:function(){},onSelectEvent:function(){},draggableAccessor:function(){},startAccessor:function(){},endAccessor:function(){},onSelectSlot:function(){},onNavigate:null,onView:null,onViewChange:null,date:xt.getUserTimeNow(),defaultDate:xt.getUserTimeNow(),view:\"day\",min:\"0000\",max:\"2359\"};var Ct=At;n(85),n(441);var Nt=a.a.createContext(),zt=function(e){return function(){return new Promise((function(t,n){fetch(\"\".concat(e,\"&fields[node--room]=title,field_location,drupal_internal__nid\"),{credentials:\"same-origin\"}).then((function(e){return e.json()})).then(t).catch(n)}))}},Mt=function(e){var t=e.view,n=e.display,o=e.children,i=Object(r.useState)(null),c=A()(i,2),s=c[0],l=c[1],u=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(r.useState)(!1),a=A()(n,2),o=a[0],i=a[1],c=Object(r.useState)(null),s=A()(c,2),l=s[0],u=s[1],f=Object(r.useState)(null),d=A()(f,2),p=d[0],m=d[1],v=Object(r.useCallback)((function(){return i(!0),u(null),m(null),e().then((function(e){return u(e)})).catch((function(e){return m(e)})).finally((function(){return i(!1)}))}),[e]);return Object(r.useEffect)((function(){t&&v()}),[v,t]),{execute:v,pending:o,value:l,error:p}}(Object(r.useCallback)(zt(s),[s]),!1),f=u.execute,d=u.pending,p=u.value,m=u.error;dt(\"jsonApiViewsUriChange\",Object(r.useCallback)((function(e){var r=e.detail;t===r.view&&n===r.display&&l(r.uri)}),[l])),Object(r.useEffect)((function(){var e=Y()(window,\"Drupal.behaviors.jsonApiViewsBlock.getUri\")?window.Drupal.behaviors.jsonApiViewsBlock.getUri(t,n):null;l(e)}),[]),Object(r.useEffect)((function(){s&&f()}),[s]);var v={rooms:p?p.data:[],pending:d,error:m};return a.a.createElement(Nt.Provider,{value:v},o)};Mt.propTypes={children:M.a.element.isRequired,display:M.a.string.isRequired,view:M.a.string.isRequired};var kt=Nt,Ft=n(61),Ut=n(197),It=n(196);function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qt=v.a.constants,Ht=v.a.api,Bt=v.a.select,Vt=v.a.utils,Gt=qt,Wt=function(e,t){return e.map((function(e){return function(e,t){return{id:e.id,title:e.attributes.title,groupId:e.relationships.field_location.data[0].id,hours:t(e.relationships.field_location.data[0].id),drupal_internal__nid:Y()(e,\"attributes.drupal_internal__nid\")}}(e,t)}))},Qt=function(e){var t=[];return Y()(e,\"rooms\")&&U()(e.rooms,(function(e,n){q()(e.dates)||(t=[].concat(N()(t),N()(B()(e.dates,(function(e){return function(e,t){return{id:Y()(e,\"uuid\"),title:Y()(e,\"message\",\"Booked\"),resourceId:Y()(e,\"resource\",t),status:Y()(e,\"isEditable\")?Y()(e,\"status\",\"disabled\"):\"disabled\",start:Y()(e,\"start\"),end:Y()(e,\"end\"),hasEvent:Y()(e,\"hasEvent\"),isReservedByStaff:Y()(e,\"isReservedByStaff\"),isEditable:Y()(e,\"isEditable\"),drupal_internal__id:Y()(e,\"id\",t)}}(e,n)})))))})),t};var Jt=function(e){var t=e.availability,n=e.date,o=e.getLocationHours,i=e.fetchAvailability,c=e.fetchLocations,l=e.fetchUserStatus,u=e.userStatus,f=e.onChangeDate,d=e.onChangeView,m=e.purgeReservations,v=e.locations,h=e.view,g=Object(r.useContext)(kt).rooms,b=Object(r.useContext)(lt).setGroups,y=function(){var e=g.map((function(e){return e.id})),t=Vt.getUserTimezone(),r=p.a.tz(n,t),a=r.clone().startOf(\"day\"),o=r.clone().endOf(\"day\");i({rooms:e,start:a,end:o})},O=Object(r.useState)(null),E=A()(O,2),w=E[0],_=E[1];Object(r.useEffect)((function(){c({filters:{onlyBranchLocation:{path:\"field_branch_location\",value:\"1\"},published:{path:\"status\",value:\"1\"}},fields:s()({},Gt.TYPE_LOCATION,[\"title\",\"field_location_hours\",\"field_branch_location\",\"status\"])}),l()}),[]),Object(r.useEffect)((function(){g.length>0&&y()}),[n,h,g]),Object(r.useEffect)((function(){b(function(e,t){return e.map((function(e){return function(e,t){return{id:e.data.id,title:e.data.attributes.title,hours:t(e.data.id)}}(e,t)}))}(v,o))}),[v]);var D=Wt(g,o),S=Qt(t);return dt(\"intercept:saveRoomReservationSuccess\",(function(){y(),w&&\"string\"!=typeof w.id&&_(null)}),window,!0),dt(\"intercept:updateRoomReservation\",(function(e,t){!function(e){var t=S.find((function(t){return t.id===e.id}))||{title:\"\"};_(Lt(Lt({},t),{},{start:p()(e.start).tz(Vt.getUserTimezone()).format(),end:p()(e.end).tz(Vt.getUserTimezone()).format(),resourceId:e.room}))}(t)}),window,!0),dt(\"intercept:closeRoomReservation\",(function(){_(null)})),a.a.createElement(\"div\",null,a.a.createElement(It.a,{userStatus:u}),a.a.createElement(Ct,{date:n,events:S,resources:D,view:h,onDateChange:function(e){m(),f(e)},onViewChange:d,onChangeEvent:function(e){_(Lt(Lt({},e.event),{},{start:p()(e.start).tz(Vt.getUserTimezone()).format(),end:p()(e.end).tz(Vt.getUserTimezone()).format(),resourceId:e.resourceId})),window.dispatchEvent(function(e,t){var n=Vt.getUserTimezone(),r=p()(e.start).tz(n),a=p()(e.end).tz(n),o=t.find((function(t){return t.id===e.resourceId}));return new CustomEvent(\"intercept:changeRoomReservation\",{detail:Lt(Lt({},e.event),{},{resource:o,end:{date:a.format(\"YYYY-MM-DD\"),time:a.format(\"HH:mm:ss\")},start:{date:r.format(\"YYYY-MM-DD\"),time:r.format(\"HH:mm:ss\")}})})}(e,D))},onSelectEvent:function(e){var t;e.drupal_internal__id&&(_(e),window.dispatchEvent((t=e.drupal_internal__id,new CustomEvent(\"intercept:viewRoomReservation\",{detail:{id:t}}))))},draggableAccessor:function(e){return!!e.drupal_internal__id},startAccessor:function(e){var t=p()(Vt.dateFromDrupal(e.start)),r=p()(n).tz(Vt.getUserTimezone()).startOf(\"day\");return p.a.max(t,r).toDate()},endAccessor:function(e){var t=p()(Vt.dateFromDrupal(e.end)),r=p()(n).tz(Vt.getUserTimezone()).endOf(\"day\").subtract(1,\"seconds\"),a=p.a.min(t,r);return 0===a.get(\"hour\")&&a.subtract(1,\"seconds\"),a.toDate()},onSelectSlot:function(e){_({title:\"\",start:p()(e.start).tz(Vt.getUserTimezone()).format(),end:p()(e.end).tz(Vt.getUserTimezone()).format(),resourceId:e.resourceId,isEditable:!0}),window.dispatchEvent(function(e,t){var n=Vt.getUserTimezone(),r=p()(e.start).tz(n),a=p()(e.end).tz(n),o=t.find((function(t){return t.id===e.resourceId}));return new CustomEvent(\"intercept:addRoomReservation\",{detail:Lt(Lt({},e.event),{},{resource:o,end:{date:a.format(\"YYYY-MM-DD\"),time:a.format(\"HH:mm:ss\")},start:{date:r.format(\"YYYY-MM-DD\"),time:r.format(\"HH:mm:ss\")}})})}(e,D))},onDoubleClickEvent:function(e){var t;e.drupal_internal__id&&window.dispatchEvent((t=e.drupal_internal__id,new CustomEvent(\"intercept:editRoomReservation\",{detail:{id:t}})))},selected:w}))};Jt.propTypes={getLocationHours:M.a.func.isRequired,locations:M.a.arrayOf(Object).isRequired,locationsLoading:M.a.bool.isRequired,fetchAvailability:M.a.func.isRequired,fetchLocations:M.a.func.isRequired,fetchUser:M.a.func.isRequired,fetchUserStatus:M.a.func.isRequired,onChangeDate:M.a.func.isRequired,onChangeView:M.a.func.isRequired,purgeReservations:M.a.func.isRequired,date:M.a.instanceOf(Date),view:M.a.string},Jt.defaultProps={view:\"day\",date:Vt.getUserTimeNow()};var Xt=Object(k.b)((function(e,t){return{locations:Bt.locationsAscending(e),locationsLoading:Bt.recordsAreLoading(Gt.TYPE_LOCATION)(e),getLocationHours:function(n){return Bt.locationHoursTimesOnDate(n,t.date||Vt.getUserTimeNow())(e)},openHoursLimit:Bt.locationsOpenHoursLimit(e),calendarRooms:[]}}),(function(e){return{fetchLocations:function(t){e(Ht[Gt.TYPE_LOCATION].fetchAll(t))},fetchUser:function(t){e(Ht[Gt.TYPE_USER].fetchAll(t))},purgeReservations:function(t){e(Ht[Gt.TYPE_ROOM_RESERVATION].purge(t))}}}))(Object(Ut.a)(Object(Ft.a)(Jt))),Kt=P((function(e){return a.a.createElement(Mt,{view:e.viewsId,display:e.displayId},a.a.createElement(st,null,a.a.createElement(Xt,e)))})),Zt=Object(i.a)(Kt),$t=document.getElementById(\"roomReservationSchedulerRoot\"),en=$t.getAttribute(\"data-jsonapi-views-view\"),tn=$t.getAttribute(\"data-jsonapi-views-display\");Object(o.render)(a.a.createElement(Zt,{viewsId:en,displayId:tn}),$t)},93:function(e,t,n){var r=n(861),a=n(862),o=n(467),i=n(863);e.exports=function(e,t){return r(e)||a(e,t)||o(e,t)||i()}}});","extractedComments":[]}